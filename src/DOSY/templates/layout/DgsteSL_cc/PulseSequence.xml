<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="PulseSequence" element="pages" type="acquisition" >
  <group size="785 290"
    style="Heading1"
    label="Pulse Sequence"
    vq="panellevel"
    show="$SHOW=(panellevel&gt;29)"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="PulseSequence"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    rows="1"
    columns="1"
    >
    <button loc="670 260" size="105 20"
      style="Heading2"
      label="Display Manual"
      vc="man(seqfil) vnmrjcmd('setpage','Process','Text Output')"
      decor1="yes"
      halignment="Center"
      valignment="Center"
      />
    <button loc="555 260" size="105 20"
      style="Heading2"
      label="Clear Subexp."
      vc="cleardosy"
      decor1="yes"
      icon="Clear Subexperiment"
      halignment="Center"
      valignment="Center"
      />
    <group loc="5 20" size="250 260"
      style="Heading1"
      label="DOSY Parameters"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="DOSY_acq_1"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <group loc="0 5" size="250 250"
        style="Heading1"
        label="DOSY Parameters"
        border="None"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        reference="DOSYbuttons"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        rows="1"
        columns="1"
        >
        <label loc="225 205" size="25 20"
          style="Label1"
          label="ms"
          justify="Left"
          />
        <label loc="225 165" size="25 20"
          style="Label1"
          label="ms"
          justify="Left"
          />
        <label loc="225 100" size="25 20"
          style="Label1"
          label="ms"
          justify="Left"
          />
        <label loc="225 80" size="25 20"
          style="Label1"
          label="ms"
          justify="Left"
          />
        <label loc="225 55" size="25 20"
          style="Label1"
          label="ms"
          justify="Left"
          />
        <label loc="225 35" size="25 20"
          style="Label1"
          label="ms"
          justify="Left"
          />
        <check loc="10 225" size="125 20"
          style="Label1"
          label="Triax gradients"
          vq="triax_flg"
          vc="triax_flg='y' dps"
          vc2="triax_flg='n' dps"
          set="$VALUE=(triax_flg='y')"
          />
        <entry loc="165 145" size="55 20"
          style="PlainText"
          vc="gzlvl2=$VALUE"
          set="$VALUE=gzlvl2"
          digits="0"
          disable="Grayed out"
          />
        <label loc="10 145" size="145 20"
          style="Label1"
          label="1st HS gradient level"
          justify="Left"
          />
        <label loc="10 165" size="155 20"
          style="Label1"
          label="1st HS gradient duration"
          justify="Left"
          />
        <entry loc="165 165" size="55 20"
          style="PlainText"
          vc="gt2=$VALUE/1000"
          set="$VALUE=gt2*1000"
          digits="2"
          disable="Grayed out"
          />
        <entry loc="165 185" size="55 20"
          style="PlainText"
          vc="gzlvl3=$VALUE"
          set="$VALUE=gzlvl3"
          digits="0"
          disable="Grayed out"
          />
        <label loc="10 185" size="145 20"
          style="Label1"
          label="2nd HS gradient level"
          justify="Left"
          />
        <label loc="10 205" size="150 20"
          style="Label1"
          label="2nd HS gradient duration"
          justify="Left"
          />
        <entry loc="165 205" size="55 20"
          style="PlainText"
          vc="gt3=$VALUE/1000"
          set="$VALUE=gt3*1000"
          digits="2"
          disable="Grayed out"
          />
        <label loc="10 100" size="145 20"
          style="Label1"
          label="Grad. stab. delay"
          justify="Left"
          />
        <entry loc="165 100" size="55 20"
          style="PlainText"
          vq="gstab"
          vc="gstab=$VALUE/1000"
          set="$VALUE=gstab*1000"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="165 80" size="55 20"
          style="PlainText"
          vq="del2"
          vc="del2=$VALUE/1000"
          set="$VALUE=del2*1000"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="165 55" size="55 20"
          style="PlainText"
          vq="del"
          vc="del=$VALUE/1000"
          set="$VALUE=del*1000"
          digits="1"
          disable="Grayed out"
          />
        <label loc="10 80" size="145 20"
          style="Label1"
          label="Off-center delay (del2)"
          justify="Left"
          />
        <label loc="10 55" size="145 20"
          style="Label1"
          label="Diffusion delay"
          justify="Left"
          />
        <label loc="10 35" size="145 20"
          style="Label1"
          label="Diffusion gradient length"
          justify="Left"
          />
        <entry loc="165 35" size="55 20"
          style="PlainText"
          vq="gt1"
          vc="gt1=$VALUE/1000"
          set="$VALUE=gt1*1000"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="165 15" size="55 20"
          style="PlainText"
          vq="gzlvl1"
          vc="gzlvl1=$VALUE"
          set="$VALUE=gzlvl1"
          disable="Grayed out"
          />
        <label loc="10 15" size="145 20"
          style="Label1"
          label="Diffusion gradient level"
          justify="Left"
          />
      </group>
    </group>
    <group loc="260 210" size="290 70"
      style="Heading1"
      label="Probe"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="Probeused"
      useref="no"
      subtype="Major"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <group loc="5 20" size="280 40"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        rows="1"
        columns="1"
        >
        <textmessage loc="85 20" size="180 20"
          style="PlainText"
          vq="probe_"
          set="$VALUE=probe_"
          digits="3"
          />
        <label loc="150 0" size="100 20"
          style="Label1"
          label="Gauss/cm/DAC"
          />
        <label loc="5 20" size="80 20"
          style="Label1"
          label="Probe used:"
          justify="Left"
          />
        <textmessage loc="45 0" size="70 20"
          style="PlainText"
          vq="gcal_"
          set="$VALUE=gcal_"
          digits="6"
          />
        <label loc="5 0" size="40 20"
          style="Label1"
          label="gcal_:"
          justify="Left"
          />
      </group>
    </group>
    <group loc="260 140" size="290 70"
      style="Heading1"
      label="Sequence Parameters"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="DOSYtrim"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <label loc="265 40" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <label loc="130 40" size="25 20"
        style="Label1"
        label="dB"
        justify="Left"
        />
      <label loc="155 40" size="55 20"
        style="Label1"
        label="Duration"
        justify="Center"
        />
      <entry loc="210 40" size="50 20"
        style="PlainText"
        vq="prgtime prg_flg"
        vc="prgtime=$VALUE/1000"
        set="$VALUE=prgtime*1000"
        show="$ENABLE=(prg_flg='y')"
        digits="2"
        disable="Grayed out"
        />
      <entry loc="75 40" size="50 20"
        style="PlainText"
        vq="prgpwr prg_flg"
        vc="prgpwr=$VALUE"
        set="$VALUE=prgpwr"
        show="$ENABLE=(prg_flg='y')"
        digits="0"
        disable="Grayed out"
        />
      <label loc="25 40" size="50 20"
        style="Label1"
        label="Power"
        justify="Left"
        />
      <check loc="10 20" size="235 20"
        style="Label1"
        label="Activate Purge TRIM pulse"
        vq="prg_flg"
        vc="prg_flg='y' ddrpm='r' setrc dps"
        vc2="prg_flg='n' ddrpm='e' setrc dps"
        set="$VALUE=(prg_flg='y' )"
        />
    </group>
    <group loc="260 0" size="290 140"
      style="Heading1"
      label="DOSY Setup"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="DOSYsetup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <button loc="20 110" size="255 20"
        style="Heading2"
        label="Setup DOSY using conditions above"
        vc="setup_dosy('panelread') vnmrjcmd('array','popup')"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <button loc="20 20" size="250 20"
        style="Heading2"
        label="Setup coarse gradient array"
        vc="setup_dosy(7,0.04*gzlvl1_max,gzlvl1_max) vnmrjcmd('array','popup')"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <group loc="30 0" size="235 130"
        style="Heading1"
        label="DOSY Setup"
        border="None"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        rows="1"
        columns="1"
        >
        <label loc="5 85" size="140 20"
          style="Label1"
          label="Highest gradient value"
          />
        <label loc="5 65" size="140 20"
          style="Label1"
          label="Lowest gradient value"
          />
        <label loc="5 45" size="140 20"
          style="Label1"
          label="Number of increments"
          />
        <entry loc="170 45" size="60 20"
          style="PlainText"
          vq="gzlvl1_inc"
          vc="gzlvl1_inc=$VALUE"
          set="$VALUE=gzlvl1_inc"
          digits="0"
          />
        <entry loc="170 65" size="60 20"
          style="PlainText"
          vq="gzlvl1_min"
          vc="gzlvl1_min=$VALUE"
          set="$VALUE=gzlvl1_min"
          digits="0"
          />
        <entry loc="170 85" size="60 20"
          style="PlainText"
          vq="gzlvl1_max"
          vc="gzlvl1_max=$VALUE"
          set="$VALUE=gzlvl1_max"
          />
      </group>
    </group>
    <group loc="555 170" size="220 85"
      style="Heading1"
      label="Steady State"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="sspulgroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <check loc="10 20" size="150 20"
        style="Label1"
        label="Grad-90-Grad option"
        vq="sspul PFGflg"
        vc="sspul='y' dps"
        vc2="sspul='n' dps"
        set="$VALUE=(sspul='y' and PFGflg='y')"
        />
      <label loc="195 60" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <entry loc="105 40" size="85 20"
        style="PlainText"
        vq="hsglvl sspul PFGflg"
        vc="hsglvl=$VALUE"
        set="$VALUE=hsglvl"
        show="$ENABLE=(sspul='y' and PFGflg='y')"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="105 60" size="85 20"
        style="PlainText"
        vq="hsgt sspul PFGflg"
        vc="hsgt=$VALUE/1000"
        set="$VALUE=hsgt*1000"
        show="$ENABLE=(sspul='y' and PFGflg='y')"
        digits="1"
        disable="Grayed out"
        />
      <label loc="10 40" size="75 20"
        style="Label1"
        label="G- strength"
        justify="Left"
        />
      <label loc="10 60" size="60 20"
        style="Label1"
        label="G- time"
        justify="Left"
        />
    </group>
    <textmessage loc="10 0" size="220 20"
      style="PlainText"
      label="DgsteSL_cc"
      vq="pslabel"
      set="$VALUE=pslabel"
      />
    <group loc="555 0" size="220 85"
      style="Heading1"
      label="DOSY Options"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="DOSYacq_2"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <check loc="10 40" size="170 20"
        style="Label1"
        label="Alternate gradient sign"
        vq="alt_grd"
        vc="alt_grd='y'"
        vc2="alt_grd='n'"
        set="$VALUE=(alt_grd='y')"
        />
      <check loc="10 60" size="190 20"
        style="Label1"
        label="Lock gating during gradients"
        vq="lkgate_flg"
        vc="lkgate_flg='y'"
        vc2="lkgate_flg='n'"
        set="$VALUE=(lkgate_flg='y')"
        />
      <check loc="10 20" size="140 20"
        style="Label1"
        label="DOSY on/off"
        vq="delflag"
        vc="delflag='y' ddrpm='e' setrc dps"
        vc2="delflag='n' ddrpm='p' setrc dps"
        set="$VALUE=(delflag='y')"
        />
    </group>
    <group loc="555 85" size="220 85"
      style="Heading1"
      label="Solvent presaturation"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="DOSYsupp"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <label loc="195 40" size="20 20"
        style="Label1"
        label="s"
        justify="Left"
        />
      <label loc="195 60" size="25 20"
        style="Label1"
        label="Hz"
        justify="Left"
        />
      <label loc="85 40" size="25 20"
        style="Label1"
        label="dB"
        justify="Center"
        />
      <entry loc="55 40" size="30 20"
        style="PlainText"
        vq="satpwr"
        vc="satpwr=$VALUE"
        set="$VALUE=satpwr"
        digits="0"
        />
      <entry loc="105 60" size="85 20"
        style="PlainText"
        vq="satfrq"
        vc="satfrq=$VALUE"
        set="$VALUE=satfrq"
        />
      <menu loc="105 20" size="85 20"
        style="PlainText"
        vq="satmode"
        vc="satmode='$VALUE'"
        set="$VALUE=satmode"
        editable="No"
        >
        <mlabel 
          label="never"
          chval="nn"
          />
        <mlabel 
          label="d1 only"
          chval="yn"
          />
        <mlabel 
          label="del only"
          chval="ny"
          />
        <mlabel 
          label="both"
          chval="yy"
          />
      </menu>
      <label loc="105 40" size="45 20"
        style="Label1"
        label="Delay"
        justify="Center"
        />
      <entry loc="150 40" size="40 20"
        style="PlainText"
        vq="satdly"
        vc="satdly=$VALUE"
        set="$VALUE=satdly"
        digits="2"
        />
      <label loc="10 60" size="80 20"
        style="Label1"
        label="Frequency"
        />
      <label loc="10 40" size="45 20"
        style="Label1"
        label="Power"
        />
      <label loc="10 20" size="90 20"
        style="Label1"
        label="Do saturation:"
        />
    </group>
  </group>
</template>
