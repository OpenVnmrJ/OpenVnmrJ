<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="PulseSequence" element="pages" type="acquisition" >
  <group size="735 285"
    style="PlainText"
    label="Pulse Sequence"
    vq="personaType"
    show="$S=1 PersonaManager('showInPanel','acquire','pulsesequence'):$S $SHOW=$S"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="PulseSequence"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    rows="1"
    columns="1"
    >
    <textmessage loc="10 0" size="240 25"
      style="PlainText"
      label="water_ES"
      vq="pslabel"
      set="$VALUE=pslabel'"
      />
    <group loc="5 25" size="260 250"
      style="Heading1"
      label="Excitation Sculpting (DPFGSE)"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="ESgroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <check loc="10 225" size="125 20"
        style="PlainText"
        label="Lock gating option"
        vq="lkgate_flg"
        vc="lkgate_flg='y'"
        vc2="lkgate_flg='n'"
        set="$VALUE=(lkgate_flg='y' )"
        tooltip="Turn lock control on/off during the sequence and acquisition (lkgate_flg)"
        />
      <check loc="10 205" size="135 20"
        style="PlainText"
        label="Gradient alteration"
        vq="alt_grd"
        vc="alt_grd='y'"
        vc2="alt_grd='n'"
        set="$VALUE=(alt_grd='y' )"
        tooltip="Change gradient sign on odd scans (alt_grd)"
        />
      <check loc="150 205" size="100 20"
        style="PlainText"
        label="SOGGY option"
        vq="sgyflg"
        vc="sgyflg='y' dps"
        vc2="sgyflg='n' dps"
        set="$VALUE=(sgyflg='y' )"
        tooltip="Turn SOGGY composite pulse on/off (sgyflg)"
        />
      <button loc="10 185" size="240 20"
        style="Heading2"
        label="Recreate water refocusing shape"
        vc="make_es_shape"
        bg="VJBackground"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <label loc="45 140" size="55 20"
        style="PlainText"
        label="-time"
        justify="Left"
        />
      <label loc="45 160" size="95 20"
        style="PlainText"
        label="-recovery time"
        justify="Left"
        />
      <entry loc="140 160" size="60 20"
        style="PlainText"
        vq="esgstab"
        vc="esgstab=$VALUE/1000"
        set="$VALUE=esgstab*1000"
        digits="1"
        disable="Grayed out"
        tooltip="Gradient recovery delay ijn the DPFGSE block (esgstab)"
        />
      <label loc="205 160" size="30 20"
        style="PlainText"
        label="ms"
        justify="Left"
        />
      <label loc="205 140" size="30 20"
        style="PlainText"
        label="ms"
        justify="Left"
        />
      <entry loc="140 140" size="60 20"
        style="PlainText"
        vq="esgt"
        vc="esgt=$VALUE/1000"
        set="$VALUE=esgt*1000"
        digits="1"
        disable="Grayed out"
        tooltip="Gradient duration in the DPFGSE block (esgt)"
        />
      <entry loc="140 120" size="60 20"
        style="PlainText"
        vq="esgzlvl"
        vc="esgzlvl=$VALUE"
        set="$VALUE=esgzlvl"
        digits="0"
        disable="Grayed out"
        tooltip="Gradient level in the DPFGSE block (esgzlvl)"
        />
      <label loc="10 120" size="130 20"
        style="PlainText"
        label="Gradient-strength"
        justify="Left"
        />
      <entry loc="100 100" size="150 20"
        style="PlainText"
        vq="esshape"
        vc="esshape='$VALUE'"
        set="$VALUE=esshape"
        disable="Grayed out"
        tooltip="Pattern of the Solvent Selective Pulse (esshape)"
        />
      <label loc="205 40" size="30 20"
        style="PlainText"
        label="Âµs"
        justify="Left"
        />
      <label loc="205 60" size="30 20"
        style="PlainText"
        label="dB"
        justify="Left"
        />
      <label loc="40 100" size="60 20"
        style="Label1"
        label="shape"
        justify="Left"
        />
      <entry loc="140 80" size="60 20"
        style="PlainText"
        vq="essoftpwrf"
        vc="essoftpwrf=$VALUE"
        set="$VALUE=essoftpwrf"
        digits="1"
        disable="Grayed out"
        tooltip="Fine Power Level of the Solvent Selective Pulse (essoftpwrf)"
        />
      <label loc="40 80" size="70 20"
        style="Label1"
        label="fine power"
        justify="Left"
        />
      <label loc="40 60" size="60 20"
        style="Label1"
        label="power"
        justify="Left"
        />
      <entry loc="140 60" size="60 20"
        style="PlainText"
        vq="essoftpwr"
        vc="essoftpwr=$VALUE"
        set="$VALUE=essoftpwr"
        digits="1"
        disable="Grayed out"
        tooltip="Coarse Power Level of the Solvent Selective Pulse (essoftpwr)"
        />
      <entry loc="140 40" size="60 20"
        style="PlainText"
        vq="essoftpw"
        vc="essoftpw=$VALUE"
        set="$VALUE=essoftpw"
        digits="1"
        disable="Grayed out"
        tooltip="Solvent Selective Pulse Width (essoftpw) "
        />
      <label loc="40 40" size="60 20"
        style="Label1"
        label="width"
        justify="Left"
        />
      <label loc="10 20" size="140 20"
        style="Label1"
        label="Solvent Selective Pulse"
        justify="Left"
        />
    </group>
    <group loc="465 25" size="250 205"
      style="Heading1"
      label="Solvent Flipback Pulse"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="FlipBackgroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <button loc="40 175" size="170 20"
        style="Heading2"
        label="Recreate flipback shape"
        vc="make_es_flipshape"
        bg="VJBackground"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <label loc="215 140" size="30 20"
        style="PlainText"
        label="deg"
        justify="Left"
        />
      <label loc="215 80" size="30 20"
        style="PlainText"
        label="dB"
        justify="Left"
        />
      <label loc="215 60" size="30 20"
        style="PlainText"
        label="ms"
        justify="Left"
        />
      <check loc="10 20" size="150 20"
        style="PlainText"
        label="Flipback option"
        vq="flipback"
        vc="flipback='y' dps"
        vc2="flipback='n' dps"
        set="$VALUE=(flipback='y' )"
        tooltip="Select solvent flipback pulse (flipback)"
        />
      <label loc="10 40" size="140 20"
        style="Label1"
        label="Keep water along Z"
        justify="Left"
        />
      <entry loc="150 60" size="60 20"
        style="PlainText"
        vq="flippw flipback"
        vc="flippw=$VALUE*1000"
        set="$VALUE=flippw/1000"
        show="$ENABLE=(flipback='y' )"
        digits="1"
        disable="Grayed out"
        tooltip="Solvent Flipback pulse length (flippw)"
        />
      <label loc="40 60" size="60 20"
        style="Label1"
        label="width"
        justify="Left"
        />
      <label loc="40 80" size="60 20"
        style="Label1"
        label="power"
        justify="Left"
        />
      <entry loc="150 80" size="60 20"
        style="PlainText"
        vq="flippwr flipback"
        vc="flippwr=$VALUE"
        set="$VALUE=flippwr"
        show="$ENABLE=(flipback='y' )"
        digits="1"
        disable="Grayed out"
        tooltip="Solvent Flipback pulse power (flippwr)"
        />
      <entry loc="150 100" size="60 20"
        style="PlainText"
        vq="flippwrf flipback"
        vc="flippwrf=$VALUE"
        set="$VALUE=flippwrf"
        show="$ENABLE=(flipback='y' )"
        digits="1"
        disable="Grayed out"
        />
      <label loc="40 100" size="70 20"
        style="Label1"
        label="fine power"
        justify="Left"
        />
      <label loc="40 120" size="60 20"
        style="Label1"
        label="shape"
        justify="Left"
        />
      <entry loc="110 120" size="130 20"
        style="PlainText"
        vq="flipshape flipback"
        vc="flipshape='$VALUE'"
        set="$VALUE=flipshape"
        show="$ENABLE=(flipback='y' )"
        disable="Grayed out"
        tooltip="Shape definition of the Flipback Pulse (flipshape)"
        />
      <entry loc="150 140" size="60 20"
        style="PlainText"
        vq="phincr1 flipback"
        vc="phincr1=$VALUE"
        set="$VALUE=phincr1"
        show="$ENABLE=(flipback='y' )"
        disable="Grayed out"
        tooltip="Small angle phase shift for the Flipback Pulse (phincr1)"
        />
      <label loc="10 140" size="140 20"
        style="Label1"
        label="small angle phase shift"
        justify="Left"
        />
    </group>
    <group loc="270 120" size="190 110"
      style="Heading1"
      label="Steady State"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="SSPULgroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <label loc="155 75" size="30 20"
        style="PlainText"
        label="ms"
        justify="Left"
        />
      <entry loc="100 55" size="50 20"
        style="PlainText"
        vq="gzlvl0 sspul"
        vc="gzlvl0=$VALUE"
        set="$VALUE=gzlvl0"
        show="$ENABLE=(sspul='y' )"
        digits="0"
        disable="Grayed out"
        tooltip="Homospoil gradient power (gzlvl0)"
        />
      <entry loc="100 75" size="50 20"
        style="PlainText"
        vq="gt0 sspul "
        vc="gt0=$VALUE/1000"
        set="$VALUE=gt0*1000"
        show="$ENABLE=(sspul='y' )"
        digits="1"
        disable="Grayed out"
        tooltip="Hmospoil gradient duration (gt0)"
        />
      <label loc="20 75" size="60 20"
        style="PlainText"
        label="time"
        justify="Left"
        />
      <label loc="20 55" size="60 20"
        style="PlainText"
        label="strength"
        justify="Left"
        />
      <label loc="10 35" size="70 20"
        style="PlainText"
        label="Gradient -"
        justify="Left"
        />
      <check loc="10 15" size="160 20"
        style="PlainText"
        label="GRD-90-GRD option"
        vq="sspul"
        vc="sspul='y' dps"
        vc2="sspul='n' dps"
        set="$VALUE=(sspul='y' )"
        tooltip="Steady state option on/off (sspul)"
        />
    </group>
    <group loc="270 25" size="190 95"
      style="Heading1"
      label="T1rho filter"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="PURGEgroup_ddrtc"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <check loc="10 20" size="140 20"
        style="PlainText"
        label="Purge Pulse"
        vq="prg_flg"
        vc="prg_flg='y' ddrtc=ddrtc-2*pw/3.14 dps"
        vc2="prg_flg='n' ddrtc=ddrtc+2*pw/3.14 dps"
        set="$VALUE=(prg_flg='y' )"
        tooltip="Turn purge pulse on/off (prg_flg)"
        />
      <label loc="155 40" size="30 20"
        style="PlainText"
        label="ms"
        justify="Left"
        />
      <label loc="10 40" size="90 20"
        style="Label1"
        label="Pulse duration"
        justify="Left"
        />
      <entry loc="100 40" size="50 20"
        style="PlainText"
        vq="prgtime prg_flg"
        vc="prgtime=$VALUE/1000"
        set="$VALUE=prgtime*1000"
        show="$ENABLE=(prg_flg='y' )"
        digits="1"
        disable="Grayed out"
        tooltip="Purge Pulse length (prgtime) in milliseconds"
        />
      <entry loc="100 60" size="50 20"
        style="PlainText"
        vq="prgpwr prg_flg"
        vc="prgpwr=$VALUE"
        set="$VALUE=prgpwr"
        show="$ENABLE=(prg_flg='y' )"
        digits="1"
        disable="Grayed out"
        tooltip="Power level for the Purge Pulse (prgpwr)"
        />
      <label loc="10 60" size="90 20"
        style="Label1"
        label="at power"
        justify="Left"
        />
    </group>
  </group>
</template>
