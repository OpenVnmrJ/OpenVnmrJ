<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="PureShift" element="pages" type="acquisition" >
  <group size="650 270"
    style="Heading1"
    label="Pure Shift"
    vq="personaType"
    show="$S=1 PersonaManager('showInPanel','acquire','pulsesequence'):$S $SHOW=$S"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="PureShift"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    rows="1"
    columns="1"
    >
    <group loc="10 0" size="390 25"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="SeqDisplay2"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <textmessage loc="0 0" size="240 25"
        style="Info"
        label="gHSQCAD_PS"
        vq="pslabel"
        set="$VALUE=pslabel"
        />
    </group>
    <group loc="5 25" size="630 245"
      style="Heading1"
      label="Real-time PureShift Acquisition"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="sspulgroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <group loc="0 35" size="630 210"
        style="Heading1"
        label="Acquisition Refocusing"
        vq="BIRD"
        show="if BIRD='y' then $SHOW=1 else $SHOW=0 endif"
        border="Etched"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        reference="XHMultiplicity"
        useref="no"
        subtype="Titled"
        expanded="yes"
        rows="1"
        columns="1"
        >
        <label loc="180 110" size="150 20"
          style="Parent"
          label="Crusher gradients:"
          justify="Left"
          />
        <label loc="10 110" size="150 20"
          style="Parent"
          label="Fine adjustment delays:"
          justify="Left"
          />
        <group loc="345 40" size="280 80"
          style="Heading1"
          label="X-Inversion"
          vq="BIRDmode"
          show="if BIRDmode='b' then $SHOW=1 else $SHOW=0 endif"
          border="Etched"
          side="Top"
          justify="Left"
          tab="no"
          enable="no"
          reference="CRISIS"
          useref="no"
          subtype="Titled"
          expanded="yes"
          rows="1"
          columns="1"
          >
          <entry loc="55 15" size="220 20"
            style="PlainText"
            vq="shp_XBIP"
            vc="shp_XBIP='$VALUE'"
            set="$VALUE=shp_XBIP"
            disable="Grayed out"
            tooltip="shp_XBIP"
            />
          <label loc="10 15" size="45 20"
            style="Label1"
            label="Shape"
            justify="Left"
            />
          <label loc="215 35" size="25 20"
            style="Heading1"
            label="µs"
            justify="Left"
            />
          <label loc="100 35" size="55 20"
            style="Label1"
            label="Duration"
            justify="Left"
            />
          <label loc="100 55" size="45 20"
            style="Label1"
            label="Power"
            justify="Left"
            />
          <entry loc="160 35" size="50 20"
            style="PlainText"
            vq="pw_XBIP"
            vc="pw_XBIP=$VALUE"
            set="$VALUE=pw_XBIP"
            disable="Grayed out"
            tooltip="pw_XBIP"
            />
          <entry loc="160 55" size="50 20"
            style="PlainText"
            vq="pwr_XBIP"
            vc="pwrXBIP=$VALUE"
            set="$VALUE=pwr_XBIP"
            disable="Grayed out"
            tooltip="pwr_XBIP"
            />
          <label loc="215 55" size="25 20"
            style="Heading1"
            label="dB"
            justify="Left"
            />
        </group>
        <label loc="355 20" size="100 20"
          style="Label1"
          label="Inversion shape"
          justify="Left"
          />
        <label loc="10 85" size="200 20"
          style="Label1"
          label="Total number of chunks:"
          justify="Left"
          />
        <label loc="10 65" size="200 20"
          style="Label1"
          label="Correspondig to a J(H,H) value of:"
          justify="Left"
          />
        <label loc="140 175" size="25 20"
          style="Heading1"
          label="µs"
          justify="Left"
          />
        <label loc="140 155" size="25 20"
          style="Heading1"
          label="µs"
          justify="Left"
          />
        <label loc="140 135" size="25 20"
          style="Heading1"
          label="µs"
          justify="Left"
          />
        <entry loc="85 175" size="50 20"
          style="PlainText"
          vq="tauD"
          vc="tauD=$VALUE"
          set="$VALUE=tauD"
          disable="Grayed out"
          tooltip="tauD"
          />
        <entry loc="85 155" size="50 20"
          style="PlainText"
          vq="tauB"
          vc="tauB=$VALUE"
          set="$VALUE=tauB"
          disable="Grayed out"
          tooltip="tauB"
          />
        <entry loc="85 135" size="50 20"
          style="PlainText"
          vq="tauA"
          vc="tauA=$VALUE"
          set="$VALUE=tauA"
          disable="Grayed out"
          tooltip="tauA"
          />
        <label loc="50 155" size="35 20"
          style="Label1"
          label="tauB"
          justify="Left"
          />
        <label loc="180 155" size="60 20"
          style="Label1"
          label="Duration"
          justify="Left"
          />
        <label loc="180 135" size="65 20"
          style="Label1"
          label="Amplitude"
          justify="Left"
          />
        <label loc="300 155" size="25 20"
          style="Heading1"
          label="ms"
          justify="Left"
          />
        <entry loc="245 155" size="50 20"
          style="PlainText"
          vq="gtcr gzlvlcr PFGflg"
          vc="gtcr=$VALUE/1000"
          set="$VALUE=gtcr*1000"
          disable="Grayed out"
          tooltip="gctr"
          />
        <entry loc="245 135" size="50 20"
          style="PlainText"
          vq="gzlvlcr PFGflg"
          vc="gzlvlcr=$VALUE"
          set="$VALUE=gzlvlcr"
          digits="0"
          disable="Grayed out"
          tooltip="gzlvlcr"
          />
        <label loc="300 65" size="25 20"
          style="Heading1"
          label="Hz"
          justify="Left"
          />
        <textmessage loc="245 85" size="50 20"
          style="PlainText"
          label="10"
          vq="chunkwidth npoints np at"
          set="$VALUE=trunc((np/npoints)+0.5)"
          digits="0"
          />
        <textmessage loc="245 65" size="50 20"
          style="PlainText"
          label="8.0"
          vq="chunkwidth npoints np"
          set="$VALUE=1/(5*chunkwidth)"
          digits="1"
          helplink="1/(5*chunkwidth)"
          />
        <entry loc="245 25" size="50 20"
          style="PlainText"
          vq="npoints chunkwidth np at"
          vc="npoints=$VALUE*2"
          set="$VALUE=( npoints / 2)"
          disable="Grayed out"
          tooltip="npoints"
          />
        <entry loc="245 45" size="50 20"
          style="PlainText"
          vq="npoints chunkwidth np at"
          vc="chunkwidth=$VALUE/1000"
          set="$VALUE=chunkwidth*1000"
          digits="2"
          disable="Grayed out"
          tooltip="chunkwidth"
          />
        <label loc="300 45" size="25 20"
          style="Heading1"
          label="ms"
          justify="Left"
          />
        <label loc="50 135" size="40 20"
          style="Label1"
          label="tauA"
          justify="Left"
          />
        <label loc="50 175" size="40 20"
          style="Label1"
          label="tauD"
          justify="Left"
          />
        <label loc="10 45" size="220 20"
          style="Label1"
          label="Duration of a single chunk"
          justify="Left"
          />
        <group loc="345 125" size="280 80"
          style="Heading1"
          label="H-Inversion"
          vq="BIRDmode"
          show="if BIRDmode='b' then $SHOW=1 else $SHOW=0 endif"
          border="Etched"
          side="Top"
          justify="Left"
          tab="no"
          enable="no"
          reference="CRISIS"
          useref="no"
          subtype="Titled"
          expanded="yes"
          rows="1"
          columns="1"
          >
          <entry loc="55 15" size="220 20"
            style="PlainText"
            vq="shp_HBIP"
            vc="shp_HBIP='$VALUE'"
            set="$VALUE=shp_HBIP"
            disable="Grayed out"
            tooltip="shp_HBIP"
            />
          <label loc="10 15" size="45 20"
            style="Label1"
            label="Shape"
            justify="Left"
            />
          <label loc="100 35" size="55 20"
            style="Label1"
            label="Duration"
            justify="Left"
            />
          <label loc="100 55" size="45 20"
            style="Label1"
            label="Power"
            justify="Left"
            />
          <label loc="215 35" size="25 20"
            style="Heading1"
            label="µs"
            justify="Left"
            />
          <entry loc="160 35" size="50 20"
            style="PlainText"
            vq="pw_HBIP"
            vc="pw_HBIP=$VALUE"
            set="$VALUE=pw_HBIP"
            disable="Grayed out"
            tooltip="pw_HBIP"
            />
          <entry loc="160 55" size="50 20"
            style="PlainText"
            vq="pwr_HBIP"
            vc="pwrHBIP=$VALUE"
            set="$VALUE=pwr_HBIP"
            disable="Grayed out"
            tooltip="pwr_HBIP"
            />
          <label loc="215 55" size="25 20"
            style="Heading1"
            label="dB"
            justify="Left"
            />
        </group>
        <menu loc="460 20" size="110 20"
          style="PlainText"
          label="menu"
          vq="BIRD BIRDmode"
          vc="substr(BIRDmode,1,1,'$VALUE'):BIRDmode dps"
          set="substr(BIRDmode,1,1):$VALUE"
          editable="No"
          tooltip="BIRDmode"
          >
          <mlabel 
            label="BIP"
            chval="b"
            />
          <mlabel 
            label="SQUARE"
            chval="h"
            />
        </menu>
        <label loc="10 25" size="220 20"
          style="Label1"
          label="Number of complex points in a chunk"
          justify="Left"
          />
      </group>
      <check loc="40 15" size="205 20"
        style="Label1"
        label="Real-time PureShift acquisition"
        vq="BIRD"
        vc="BIRD='y' dps"
        vc2="BIRD='n' dps"
        set="$VALUE=(BIRD='y')"
        tooltip="BIRD"
        />
    </group>
  </group>
</template>
