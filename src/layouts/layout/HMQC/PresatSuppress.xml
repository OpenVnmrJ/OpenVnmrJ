<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="PresatSuppress" element="pages" type="acquisition" >
  <group size="660 290"
    style="Heading1"
    label="PRESAT"
    vq="panellevel"
    show="$SHOW=(panellevel&gt;29)"
    bg=""
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="PresatSuppress"
    useref="no"
    subtype="Basic"
    expanded="yes"
    >
    <group loc="5 25" size="450 245"
      style="Heading1"
      label="Presaturation"
      bg=""
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="presatgrouphsqc"
      useref="no"
      subtype="Basic"
      expanded="yes"
      >
      <group loc="230 20" size="210 150"
        bg=""
        border="Etched"
        tab="no"
        enable="no"
        reference="purgegroup"
        useref="no"
        subtype="Basic"
        expanded="yes"
        >
        <group loc="5 30" size="205 115"
          vq="prgflg"
          show="$SHOW=(prgflg='y')"
          bg=""
          border="None"
          tab="no"
          enable="no"
          useref="no"
          subtype="Convenience"
          >
          <entry loc="65 25" size="55 20"
            style="PlainText"
            vq="prgd1"
            vc="prgd1=$VALUE/1e6"
            set="$VALUE=prgd1*1e6"
            digits="0"
            />
          <label loc="180 85" size="25 20"
            style="Label1"
            label="ms"
            />
          <label loc="180 65" size="25 20"
            style="Label1"
            label="ms"
            />
          <label loc="180 25" size="20 20"
            style="Label1"
            label="Âµs"
            />
          <label loc="5 45" size="55 20"
            style="Label1"
            label="Gradient"
            />
          <label loc="5 25" size="45 20"
            style="Label1"
            label="Purge"
            />
          <label loc="5 5" size="85 20"
            style="Label1"
            label="PurgeCycle"
            />
          <entry loc="120 85" size="55 20"
            style="PlainText"
            vq="prggstab"
            vc="prggstab=$VALUE/1e3"
            set="$VALUE=prggstab*1e3"
            digits="3"
            />
          <entry loc="120 65" size="55 20"
            style="PlainText"
            vq="prggt"
            vc="prggt=$VALUE/1e3"
            set="$VALUE=prggt*1e3"
            digits="2"
            />
          <entry loc="120 45" size="55 20"
            style="PlainText"
            vq="prggzlvl"
            vc="prggzlvl=$VALUE"
            set="$VALUE=prggzlvl"
            digits="0"
            />
          <label loc="50 85" size="65 20"
            style="Label1"
            label="recovery"
            justify="Right"
            />
          <label loc="50 65" size="65 20"
            style="Label1"
            label="duration"
            justify="Right"
            />
          <label loc="65 45" size="50 20"
            style="Label1"
            label="level"
            justify="Right"
            />
          <entry loc="120 25" size="55 20"
            style="PlainText"
            vq="prgd2"
            vc="prgd2=$VALUE/1e6"
            set="$VALUE=prgd2*1e6"
            digits="0"
            />
          <menu loc="120 5" size="55 20"
            style="PlainText"
            vq="prgcycle"
            vc="prgcycle=$VALUE"
            set="$VALUE=prgcycle"
            editable="No"
            >
            <mlabel 
              label="2"
              chval="2"
              />
            <mlabel 
              label="4"
              chval="4"
              />
          </menu>
        </group>
        <check loc="10 5" size="65 20"
          style="Label1"
          label="PURGE"
          vq="prgflg satmode"
          vc="prgflg='y'"
          vc2="prgflg='n'"
          set="$VALUE=(prgflg='y')"
          show="strstr(satmode,'y'):$ret $ENABLE=$ret*2-1"
          />
      </group>
      <group loc="5 20" size="220 220"
        style="Heading1"
        bg=""
        border="Etched"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        reference="presatgrouphsqc"
        useref="no"
        subtype="Basic"
        expanded="yes"
        >
        <group loc="0 45" size="210 170"
          vq="satmode"
          show="if (satmode='n') or (satmode='nn') or (satmode='') then $SHOW=0 else $SHOW=1 endif"
          bg=""
          border="None"
          tab="no"
          enable="no"
          useref="no"
          subtype="Convenience"
          >
          <textmessage loc="10 145" size="200 20"
            style="PlainText"
            label=" "
            vq="slpsat psppm"
            set="$VALUE=psppm"
            />
          <entry loc="85 105" size="125 20"
            style="PlainText"
            vq="pstof slpsat"
            vc="if (slpsat='y') then pstof=$VALUE endif pstof=pstof"
            set="array2csv(pstof,1):$VALUE"
            show="$ENABLE=(slpsat='y')"
            digits="1"
            disable="Grayed out"
            />
          <label loc="10 105" size="75 20"
            style="Label1"
            label="Offsets (Hz)"
            vq="slpsat"
            show="$ENABLE=(slpsat='y')"
            justify="Left"
            />
          <textmessage loc="150 45" size="60 20"
            style="PlainText"
            label="6.20p"
            vq="satfrq satmode slpsat"
            set="setsatppm:$VALUE"
            show="$ENABLE=(slpsat='n')"
            />
          <textmessage loc="150 65" size="60 20"
            style="PlainText"
            label="26 Hz"
            vq="satpwr"
            set="getpower(satpwr,tn):$gh2 $VALUE='' format($gh2,0,0):$VALUE $VALUE=$VALUE+' Hz'"
            />
          <entry loc="85 65" size="60 20"
            style="PlainText"
            vq="satpwr satmode"
            vc="satpwr=$VALUE"
            set="$VALUE=satpwr"
            digits="0"
            disable="Grayed out"
            />
          <label loc="150 25" size="30 20"
            style="Label1"
            label="ms"
            justify="Left"
            />
          <label loc="150 5" size="30 20"
            style="Label1"
            label="s"
            justify="Left"
            />
          <check loc="10 85" size="165 20"
            style="Label1"
            label="Off-Resonance PRESAT"
            vq="slpsat"
            vc="slpsat='y' pstof=pstof"
            vc2="slpsat='n' pstof=pstof"
            set="$VALUE=(slpsat='y')"
            />
          <label loc="10 125" size="135 20"
            style="Label1"
            label="Chem. Shift (ppm):"
            vq="slpsat"
            show="$ENABLE=(slpsat='y')"
            justify="Left"
            />
          <textmessage loc="85 25" size="60 20"
            style="PlainText"
            label="0"
            vq="null"
            set="$VALUE=null*1000"
            />
          <label loc="10 25" size="70 20"
            style="Label1"
            label="BIRDnull"
            justify="Left"
            />
          <label loc="10 45" size="70 20"
            style="Label1"
            label="Offset (Hz)"
            justify="Left"
            />
          <entry loc="85 45" size="60 20"
            style="PlainText"
            vq="satfrq satmode slpsat"
            vc="if (slpsat='n') then satfrq=$VALUE else satfrq=satfrq endif"
            set="$VALUE=satfrq"
            show="$ENABLE=(slpsat='n')"
            digits="1"
            disable="Grayed out"
            />
          <label loc="10 65" size="70 20"
            style="Label1"
            label="Power (dB)"
            justify="Left"
            />
          <entry loc="85 5" size="60 20"
            style="PlainText"
            vq="satdly satmode"
            vc="$sm='' substr(satmode,1,1):$sm if ($sm='y') satdly=$VALUE else satdly=satdly endif"
            set="$VALUE=satdly"
            show="$sm='' substr(satmode,1,1):$sm $ENABLE=($sm='y')"
            digits="2"
            disable="Grayed out"
            />
          <label loc="10 5" size="70 20"
            style="Label1"
            label="Relaxation"
            justify="Left"
            />
        </group>
        <check loc="110 5" size="105 20"
          style="Label1"
          label="BIRDnull"
          vq="satmode"
          vc="satmode='ny'"
          vc2="satmode='nn'"
          set="if (satmode='ny') then $VALUE=1 else $VALUE=0 endif"
          />
        <check loc="10 25" size="200 20"
          style="Label1"
          label="Relaxation + BIRDnull"
          vq="satmode"
          vc="satmode='yy'"
          vc2="satmode='nn'"
          set="if (satmode='yy') then $VALUE=1 else $VALUE=0 endif"
          />
        <check loc="10 5" size="100 20"
          style="Label1"
          label="Relaxation"
          vq="satmode"
          vc="satmode='yn'"
          vc2="satmode='nn'"
          set="if (satmode='y') or (satmode='yn') then $VALUE=1 else $VALUE=0 endif"
          />
      </group>
    </group>
    <group loc="10 0" size="390 25"
      bg=""
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="SeqDisplay2"
      useref="no"
      subtype="Basic"
      expanded="yes"
      >
      <textmessage loc="0 0" size="240 25"
        style="PlainText"
        label="HSQCAD"
        vq="pslabel"
        set="$VALUE=pslabel"
        />
    </group>
  </group>
</template>
