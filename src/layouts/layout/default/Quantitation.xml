<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="Quantitation" element="pages" type="processing" >
  <group size="700 250"
    style="Heading1"
    label="Quantitation"
    vq="personaType apptype procdim"
    show="$S=1 PersonaManager('showInPanel','process','quantitation'):$S $SHOW=((apptype='quant') and (procdim&gt;0) and ($S&gt;0.5))"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="Quantitation"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    rows="1"
    columns="1"
    >
    <label loc="10 0" size="150 30"
      style="Heading1"
      label="Quantitation"
      />
    <button loc="595 35" size="80 20"
      style="Heading2"
      label="Update all"
      vc="quantdocalc"
      bg="transparent"
      decor1="yes"
      halignment="Center"
      valignment="Center"
      />
    <group loc="235 55" size="440 160"
      style="Heading1"
      label="Analytes"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="Analytes"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <group loc="309 20" size="120 130"
        vq="quantflag"
        show="if quantflag='p' then $SHOW=1 else $SHOW=0 endif"
        digital="transparent"
        bg="transparent"
        border="None"
        tab="no"
        count="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        rows="1"
        columns="1"
        >
        <check loc="80 100" size="20 20"
          style="PlainText"
          vq="ignoreA5"
          vc="ignoreA5='y'"
          vc2="ignoreA5='n'"
          />
        <check loc="80 80" size="20 20"
          style="PlainText"
          vq="ignoreA4"
          vc="ignoreA4='y'"
          vc2="ignoreA4='n'"
          />
        <check loc="80 60" size="20 20"
          style="PlainText"
          vq="ignoreA3"
          vc="ignoreA3='y'"
          vc2="ignoreA3='n'"
          />
        <check loc="80 40" size="20 20"
          style="PlainText"
          vq="ignoreA2"
          vc="ignoreA2='y'"
          vc2="ignoreA2='n'"
          />
        <check loc="80 20" size="20 20"
          style="PlainText"
          vq="ignoreA1"
          vc="ignoreA1='y'"
          vc2="ignoreA1='n'"
          />
        <label loc="70 0" size="40 20"
          style="Label1"
          label="Ignore"
          justify="Center"
          />
        <label loc="10 0" size="60 20"
          style="Label1"
          label="Percent"
          justify="Center"
          />
        <textmessage loc="20 100" size="50 20"
          style="PlainText"
          label="---"
          vq="intA1 intA2 intA3 intA4 intA5 stoichA1 stoichA2 stoichA3 stoichA4 stoichA5 stoichflag quantflag ignoreA1 ignoreA2 ignoreA3 ignoreA4 ignoreA5"
          set="quantcalc('A5'):$VALUE"
          digits="2"
          statpar="percentA5"
          />
        <textmessage loc="20 80" size="50 20"
          style="PlainText"
          label="---"
          vq="intA1 intA2 intA3 intA4 intA5 stoichA1 stoichA2 stoichA3 stoichA4 stoichA5 stoichflag quantflag ignoreA1 ignoreA2 ignoreA3 ignoreA4 ignoreA5"
          set="quantcalc('A4'):$VALUE"
          digits="2"
          statpar="percentA4"
          />
        <textmessage loc="20 60" size="50 20"
          style="PlainText"
          label="---"
          vq="intA1 intA2 intA3 intA4 intA5 stoichA1 stoichA2 stoichA3 stoichA4 stoichA5 stoichflag quantflag ignoreA1 ignoreA2 ignoreA3 ignoreA4 ignoreA5"
          set="quantcalc('A3'):$VALUE"
          digits="2"
          statpar="percentA3"
          />
        <textmessage loc="20 40" size="50 20"
          style="PlainText"
          label="---"
          vq="intA1 intA2 intA3 intA4 intA5 stoichA1 stoichA2 stoichA3 stoichA4 stoichA5 stoichflag quantflag ignoreA1 ignoreA2 ignoreA3 ignoreA4 ignoreA5"
          set="quantcalc('A2'):$VALUE"
          digits="2"
          statpar="percentA2"
          />
        <textmessage loc="20 20" size="50 20"
          style="PlainText"
          label="---"
          vq="intA1 intA2 intA3 intA4 intA5 stoichA1 stoichA2 stoichA3 stoichA4 stoichA5 stoichflag quantflag ignoreA1 ignoreA2 ignoreA3 ignoreA4 ignoreA5"
          set="quantcalc('A1'):$VALUE"
          digits="2"
          statpar="percentA1"
          />
      </group>
      <group loc="309 10" size="80 130"
        vq="quantflag"
        show="if quantflag='r' then $SHOW=1 else $SHOW=0 endif"
        digital="transparent"
        bg="transparent"
        border="None"
        tab="no"
        count="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        rows="1"
        columns="1"
        >
        <label loc="0 10" size="80 20"
          style="PlainText"
          label="Rel. Amts."
          justify="Center"
          />
        <textmessage loc="20 30" size="50 20"
          style="Heading1"
          label="---"
          vq="intA1 stoichA1 stoichflag quantflag"
          set="quantcalc('A1'):$VALUE"
          digits="2"
          statpar="relintA1"
          />
        <textmessage loc="20 50" size="50 20"
          style="Heading1"
          label="---"
          vq="intA2 stoichA2 stoichflag quantflag"
          set="quantcalc('A2'):$VALUE"
          digits="2"
          statpar="relintA2"
          />
        <textmessage loc="20 70" size="50 20"
          style="Heading1"
          label="---"
          vq="intA3 stoichA3 stoichflag quantflag"
          set="quantcalc('A3'):$VALUE"
          digits="2"
          statpar="relintA3"
          />
        <textmessage loc="20 90" size="50 20"
          style="Heading1"
          label="---"
          vq="intA4 stoichA4 stoichflag quantflag"
          set="quantcalc('A4'):$VALUE"
          digits="2"
          statpar="relintA4"
          />
        <textmessage loc="20 110" size="50 20"
          style="Heading1"
          label="---"
          vq="intA5 stoichA5 stoichflag quantflag"
          set="quantcalc('A5'):$VALUE"
          digits="2"
          statpar="relintA5"
          />
      </group>
      <group loc="309 20" size="90 120"
        vq="quantflag"
        show="if quantflag='c' then $SHOW=1 else $SHOW=0 endif"
        digital="transparent"
        bg="transparent"
        border="None"
        tab="no"
        count="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        rows="1"
        columns="1"
        >
        <textmessage loc="20 100" size="50 20"
          style="Heading1"
          label="---"
          vq="intA5 stoichA5 intC stoichC concC stoichflag quantflag"
          set="quantcalc('A5'):$VALUE"
          digits="2"
          statpar="concA5"
          />
        <textmessage loc="20 80" size="50 20"
          style="Heading1"
          label="---"
          vq="intA4 stoichA4 intC stoichC concC stoichflag quantflag"
          set="quantcalc('A4'):$VALUE"
          digits="2"
          statpar="concA4"
          />
        <textmessage loc="20 60" size="50 20"
          style="Heading1"
          label="---"
          vq="intA3 stoichA3 intC stoichC concC stoichflag quantflag"
          set="quantcalc('A3'):$VALUE"
          digits="2"
          statpar="concA3"
          />
        <textmessage loc="20 40" size="50 20"
          style="Heading1"
          label="---"
          vq="intA2 stoichA2 intC stoichC concC stoichflag quantflag"
          set="quantcalc('A2'):$VALUE"
          digits="2"
          statpar="concA2"
          />
        <textmessage loc="20 20" size="50 20"
          style="Heading1"
          label="---"
          vq="intA1 stoichA1 intC stoichC concC stoichflag quantflag"
          set="quantcalc('A1'):$VALUE"
          digits="2"
          statpar="concA1"
          />
        <label loc="0 0" size="80 20"
          style="PlainText"
          label="Conc. / mM"
          justify="Center"
          />
      </group>
      <button loc="9 120" size="50 20"
        style="PlainText"
        label="Clear"
        vc="quantpars('initA5') quantcalc('A5')"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <button loc="9 100" size="50 20"
        style="PlainText"
        label="Clear"
        vc="quantpars('initA4') quantcalc('A4')"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <button loc="9 80" size="50 20"
        style="PlainText"
        label="Clear"
        vc="quantpars('initA3') quantcalc('A3')"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <button loc="9 60" size="50 20"
        style="PlainText"
        label="Clear"
        vc="quantpars('initA2') quantcalc('A2')"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <button loc="9 40" size="50 20"
        style="PlainText"
        label="Clear"
        vc="quantpars('initA1') quantcalc('A1')"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <button loc="59 120" size="50 20"
        style="PlainText"
        label="Pick"
        vc="quantsetint('A5') quantcalc('A5')"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <button loc="59 100" size="50 20"
        style="PlainText"
        label="Pick"
        vc="quantsetint('A4') quantcalc('A4')"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <button loc="59 80" size="50 20"
        style="PlainText"
        label="Pick"
        vc="quantsetint('A3') quantcalc('A3')"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <button loc="59 60" size="50 20"
        style="PlainText"
        label="Pick"
        vc="quantsetint('A2') quantcalc('A2')"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <button loc="59 40" size="50 20"
        style="PlainText"
        label="Pick"
        vc="quantsetint('A1') quantcalc('A1')"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <group loc="99 20" size="63 130"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        rows="1"
        columns="1"
        >
        <check loc="3 0" size="60 20"
          style="Label1"
          label="Stoich."
          vq="stoichflag"
          vc="stoichflag='y'"
          vc2="stoichflag='n'"
          />
        <entry loc="12 100" size="50 20"
          style="PlainText"
          vq="stoichA5 stoichflag"
          vc="stoichA5=$VALUE"
          set="$VALUE=stoichA5"
          show="if stoichflag='y' then $ENABLE=1 else $ENABLE=-1 endif"
          digits="2"
          disable="Grayed out"
          />
        <entry loc="12 80" size="50 20"
          style="PlainText"
          vq="stoichA4 stoichflag"
          vc="stoichA4=$VALUE"
          set="$VALUE=stoichA4"
          show="if stoichflag='y' then $ENABLE=1 else $ENABLE=-1 endif"
          digits="2"
          disable="Grayed out"
          />
        <entry loc="12 60" size="50 20"
          style="PlainText"
          vq="stoichA3 stoichflag"
          vc="stoichA3=$VALUE"
          set="$VALUE=stoichA3"
          show="if stoichflag='y' then $ENABLE=1 else $ENABLE=-1 endif"
          digits="2"
          disable="Grayed out"
          />
        <entry loc="12 40" size="50 20"
          style="PlainText"
          vq="stoichA2 stoichflag"
          vc="stoichA2=$VALUE"
          set="$VALUE=stoichA2"
          show="if stoichflag='y' then $ENABLE=1 else $ENABLE=-1 endif"
          digits="2"
          disable="Grayed out"
          />
        <entry loc="12 20" size="50 20"
          style="PlainText"
          vq="stoichA1 stoichflag"
          vc="stoichA1=$VALUE"
          set="$VALUE=stoichA1"
          show="if stoichflag='y' then $ENABLE=1 else $ENABLE=-1 endif"
          digits="2"
          disable="Grayed out"
          />
      </group>
      <group loc="259 20" size="50 130"
        digital="transparent"
        bg="transparent"
        border="None"
        tab="no"
        count="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        rows="1"
        columns="1"
        >
        <textmessage loc="0 100" size="50 20"
          style="PlainText"
          label="---"
          vq="intA5"
          set="$VALUE=intA5"
          digits="2"
          />
        <textmessage loc="0 80" size="50 20"
          style="PlainText"
          label="---"
          vq="intA4"
          set="$VALUE=intA4"
          digits="2"
          />
        <textmessage loc="0 60" size="50 20"
          style="PlainText"
          label="---"
          vq="intA3"
          set="$VALUE=intA3"
          digits="2"
          />
        <textmessage loc="0 40" size="50 20"
          style="PlainText"
          label="---"
          vq="intA2"
          set="$VALUE=intA2"
          digits="2"
          />
        <textmessage loc="0 20" size="50 20"
          style="PlainText"
          label="---"
          vq="intA1"
          set="$VALUE=intA1"
          digits="2"
          />
        <label loc="0 0" size="50 20"
          style="Label1"
          label="Integral"
          justify="Center"
          />
      </group>
      <group loc="209 20" size="50 130"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        rows="1"
        columns="1"
        >
        <textmessage loc="10 20" size="40 20"
          style="PlainText"
          label="---"
          vq="endintA1"
          set="$VALUE=endintA1/sfrq"
          digits="2"
          />
        <textmessage loc="10 40" size="40 20"
          style="PlainText"
          label="---"
          vq="endintA2"
          set="$VALUE=endintA2/sfrq"
          digits="2"
          />
        <textmessage loc="10 60" size="40 20"
          style="PlainText"
          label="---"
          vq="endintA3"
          set="$VALUE=endintA3/sfrq"
          digits="2"
          />
        <textmessage loc="10 80" size="40 20"
          style="PlainText"
          label="---"
          vq="endintA4"
          set="$VALUE=endintA4/sfrq"
          digits="2"
          />
        <textmessage loc="10 100" size="40 20"
          style="PlainText"
          label="---"
          vq="endintA5"
          set="$VALUE=endintA5/sfrq"
          digits="2"
          />
        <label loc="0 0" size="50 20"
          style="Label1"
          label="End"
          justify="Center"
          />
      </group>
      <group loc="159 20" size="50 130"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        rows="1"
        columns="1"
        >
        <textmessage loc="10 100" size="40 20"
          style="PlainText"
          label="---"
          vq="startintA5"
          set="$VALUE=startintA5/sfrq"
          digits="2"
          />
        <textmessage loc="10 80" size="40 20"
          style="PlainText"
          label="---"
          vq="startintA4"
          set="$VALUE=startintA4/sfrq"
          digits="2"
          />
        <textmessage loc="10 60" size="40 20"
          style="PlainText"
          label="---"
          vq="startintA3"
          set="$VALUE=startintA3/sfrq"
          digits="2"
          />
        <textmessage loc="10 40" size="40 20"
          style="PlainText"
          label="---"
          vq="startintA2"
          set="$VALUE=startintA2/sfrq"
          digits="2"
          />
        <textmessage loc="10 20" size="40 20"
          style="PlainText"
          label="---"
          vq="startintA1"
          set="$VALUE=startintA1/sfrq"
          digits="2"
          />
        <label loc="0 0" size="50 20"
          style="Label1"
          label="Start"
          justify="Center"
          />
      </group>
    </group>
    <button loc="40 225" size="360 25"
      style="Heading2"
      label="Save these parameters as a Quantitation protocol called"
      vq="quantsavefile"
      vc="quantsaveprotocol"
      show="$ENABLE=(quantsavefile&lt;&gt;'')*2-1"
      bg="transparent"
      decor1="no"
      halignment="Center"
      valignment="Center"
      />
    <entry loc="400 225" size="180 25"
      style="PlainText"
      vq="quantsavefile"
      vc="quantsavefile='$VALUE'"
      set="$VALUE=quantsavefile"
      disable="Grayed out"
      />
    <group loc="10 50" size="220 150"
      style="Label2"
      label="Heading1"
      vq="quantflag"
      show="if quantflag='c' then $SHOW=1 else $SHOW=-1 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="Calibrant"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <textmessage loc="150 110" size="60 20"
        style="PlainText"
        label="---"
        vq="intC insref"
        set="$VALUE=intC"
        digits="2"
        />
      <textmessage loc="150 70" size="60 20"
        style="PlainText"
        label="---"
        vq="startintC"
        set="$VALUE=startintC/sfrq"
        digits="2"
        />
      <button loc="30 130" size="180 20"
        style="Heading2"
        label="Pick integral from spectrum"
        vc="quantsetint('C')"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <label loc="30 90" size="120 20"
        style="Label1"
        label="End [ppm]"
        justify="Left"
        />
      <label loc="30 70" size="120 20"
        style="Label1"
        label="Start [ppm]"
        justify="Left"
        />
      <textmessage loc="150 90" size="60 20"
        style="PlainText"
        label="---"
        vq="endintC"
        set="$VALUE=endintC/sfrq"
        digits="2"
        />
      <entry loc="150 30" size="60 20"
        style="PlainText"
        vq="concC"
        vc="concC=$VALUE"
        set="$VALUE=concC"
        disable="Grayed out"
        />
      <label loc="30 30" size="120 20"
        style="Label1"
        label="Concentration / mM"
        justify="Left"
        />
      <label loc="30 110" size="120 20"
        style="Label1"
        label="Integral"
        justify="Left"
        />
      <entry loc="150 50" size="60 20"
        style="PlainText"
        vq="stoichC stoichflag"
        vc="stoichC=$VALUE"
        set="$VALUE=stoichC"
        show="if stoichflag='y' then $ENABLE=1 else $ENABLE=-1 endif"
        digits="2"
        disable="Grayed out"
        />
      <label loc="30 50" size="120 20"
        style="Label1"
        label="Stoichiometry"
        justify="Left"
        />
      <label loc="12 0" size="120 20"
        style="Heading1"
        label="Calibrant"
        justify="Left"
        />
    </group>
    <group loc="10 30" size="210 130"
      label="noCalibrant"
      vq="quantflag"
      show="if quantflag='c' then $SHOW=0 else $SHOW=1 endif"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      reference="noCalibrant"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <label loc="30 80" size="180 20"
        style="Label1"
        label="the 'Use calibrant' option"
        />
      <label loc="30 100" size="180 20"
        style="Label1"
        label="is selected above."
        />
      <label loc="30 60" size="180 20"
        style="Label1"
        label="details will appear here when"
        />
      <label loc="30 40" size="180 20"
        style="Label1"
        label="The table to enter calibrant"
        />
    </group>
    <radio loc="310 10" size="130 20"
      style="Label1"
      label="Relative amounts"
      vq="quantflag"
      vc="quantflag='r'"
      set="if quantflag='r' then $VALUE=1 else $VALUE=0 endif"
      />
    <radio loc="450 10" size="170 20"
      style="Label1"
      label="Percentage contribution"
      vq="quantflag"
      vc="quantflag='p'"
      set="if quantflag='p' then $VALUE=1 else $VALUE=0 endif"
      />
    <radio loc="190 10" size="110 20"
      style="Label1"
      label="Use calibrant"
      vq="quantflag"
      vc="quantflag='c'"
      set="if quantflag='c' then $VALUE=1 else $VALUE=0 endif"
      />
  </group>
</template>
