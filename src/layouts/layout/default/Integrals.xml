<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="Integrals" element="pages" type="processing" >
  <group size="750 235"
    style="Heading1"
    label="Integration"
    vq="personaType"
    show="$S=1 PersonaManager('showInPanel','process','integration'):$S $SHOW=$S"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="Integrals"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    rows="1"
    columns="1"
    >
    <button loc="640 35" size="75 20"
      style="Heading2"
      label="...in Editor"
      vq="insref curexp lifrq"
      vc="if intmod='off' then intmod='partial' endif dlni $f='' $f=curexp+'/dli.out' exists($f,'file'):$e if $e&lt;0.5 then write('reset',$f) endif shell('gedit '+$f+' &amp;')"
      show="on('insref'):$ENABLE"
      bg="transparent"
      justify="Center"
      decor1="yes"
      />
    <button loc="640 10" size="75 20"
      style="Heading2"
      label="...in Editor"
      vq="insref curexp lifrq"
      vc="if intmod='off' then intmod='partial' endif dli $f='' $f=curexp+'/dli.out' exists($f,'file'):$e if $e&lt;0.5 then write('reset',$f) endif shell('gedit '+$f+' &amp;')"
      show="on('insref'):$ENABLE"
      bg="transparent"
      justify="Center"
      decor1="yes"
      />
    <button loc="375 35" size="265 20"
      style="Heading2"
      label="Display normalized integrals"
      vc="if intmod='off' then intmod='partial' endif dlni"
      bg="transparent"
      justify="Center"
      decor1="yes"
      />
    <button loc="375 10" size="265 20"
      style="Heading2"
      label="Display list of integrals"
      vq="insref"
      vc="if intmod='off' then intmod='partial' endif dli"
      show="on('insref'):$ENABLE"
      bg="transparent"
      justify="Center"
      decor1="yes"
      />
    <textfile loc="375 60" size="340 170"
      style="StdPar"
      vq="curexp lifrq"
      set="$f='' $f=curexp+'/dli.out' exists($f,'file'):$e if $e&lt;0.5 then write('reset',$f) endif $VALUE=$f"
      editable="no"
      wrap="no"
      units="char"
      />
    <group loc="190 180" size="180 50"
      style="Heading1"
      label="Quantification"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="ShowIntegrals"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <button loc="10 20" size="160 20"
        style="Heading2"
        label="Determine concentration"
        vc="qest"
        justify="Center"
        decor1="yes"
        />
    </group>
    <group loc="190 110" size="180 70"
      style="Heading1"
      label="Show integrals"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="ShowIntegrals"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <button loc="10 20" size="160 20"
        style="Heading2"
        label="Show integral values"
        vc="if intmod='full' then intmod='partial' endif if vp&lt;24 then vp=24 endif dpir ds('again')"
        justify="Center"
        decor1="yes"
        />
      <button loc="10 40" size="160 20"
        style="Heading2"
        label="Remove integral values"
        vc="if intmod='full' then intmod='partial' endif ds"
        justify="Center"
        decor1="yes"
        />
    </group>
    <group loc="190 0" size="180 110"
      style="Heading1"
      label="Set integral area"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="SetIntegralArea"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <radio loc="110 40" size="50 20"
        style="Label1"
        label="Sum"
        vq="insref"
        vc="insref='n' ds teststr('plotoption','intval'):$on if ($on) then dpir endif"
        set="off('insref'):$VALUE"
        />
      <group loc="10 65" size="170 40"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        rows="1"
        columns="1"
        >
        <label loc="0 0" size="90 20"
          style="Label1"
          label="Integral area"
          justify="Left"
          />
        <entry loc="90 0" size="70 20"
          style="PlainText"
          vq="ins"
          vc="ins=$VALUE"
          set="$VALUE=ins"
          show="on('ins'):$VALUE"
          digits="2"
          disable="Grayed out"
          />
        <button loc="0 20" size="160 20"
          style="Heading2"
          label="Set integral value"
          vc="ds_setint ds"
          justify="Center"
          decor1="yes"
          />
      </group>
      <label loc="10 20" size="120 20"
        style="Label1"
        label="Normalize area to"
        justify="Left"
        />
      <radio loc="10 40" size="100 20"
        style="Label1"
        label="Single peak"
        vq="insref"
        vc="insref='y' ds teststr('plotoption','intval'):$on if ($on) then dpir endif"
        set="on('insref'):$VALUE"
        />
    </group>
    <group loc="5 100" size="180 130"
      style="Heading1"
      label="Set integral regions"
      border="Etched"
      tab="no"
      enable="no"
      reference="SetIntegralRegions"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <button loc="10 100" size="160 20"
        style="Heading2"
        label="Remove reset at cursor"
        vq="cr"
        vc="cz(cr)"
        justify="Center"
        decor1="yes"
        />
      <button loc="10 60" size="160 20"
        style="Heading2"
        label="Clear integrals"
        vc="cz ds"
        justify="Center"
        decor1="yes"
        />
      <button loc="10 80" size="160 20"
        style="Heading2"
        label="Add reset at cursor"
        vq="cr"
        vc="z(cr)"
        justify="Center"
        decor1="yes"
        />
      <button loc="10 40" size="160 20"
        style="Heading2"
        label="Interactive resets"
        vc="ds ds('z') write('line3','click in the spectrum to define resets')"
        justify="Center"
        decor1="yes"
        />
      <button loc="10 20" size="160 20"
        style="Heading2"
        label="Auto find integrals"
        vc="ds region"
        justify="Center"
        decor1="yes"
        />
    </group>
    <group loc="5 0" size="180 100"
      style="Heading1"
      label="Integration"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="Integration"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <button loc="10 70" size="160 20"
        style="Heading2"
        label="Scale display to fit"
        vc="isadj ds"
        justify="Center"
        decor1="yes"
        />
      <radio loc="125 40" size="45 20"
        style="Label1"
        label="Off"
        vq="intmod"
        vc="intmod='off'"
        set="$VALUE=(intmod='off')"
        />
      <radio loc="60 40" size="65 20"
        style="Label1"
        label="Partial"
        vq="intmod"
        vc="intmod='partial'"
        set="$VALUE=(intmod='partial')"
        />
      <label loc="10 20" size="160 20"
        style="Label1"
        label="Integral display mode"
        justify="Left"
        />
      <radio loc="10 40" size="50 20"
        style="Label1"
        label="Full"
        vq="intmod"
        vc="intmod='full'"
        set="$VALUE=(intmod='full')"
        />
    </group>
  </group>
</template>
