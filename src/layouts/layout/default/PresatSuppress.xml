<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="PresatSuppress" element="pages" type="acquisition" >
  <group size="650 240"
    style="Heading1"
    label="PRESAT"
    vq="panellevel"
    show="$SHOW=(panellevel&gt;29)"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="PresatSuppress"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <group loc="5 30" size="455 190"
      style="Heading1"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="presatgroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <check loc="10 5" size="160 20"
        style="Label1"
        label="Presaturation"
        vq="satmode"
        vc="satmode='y'"
        vc2="satmode='n'"
        set="$VALUE=(satmode='y')"
        />
      <group loc="235 30" size="210 150"
        border="Etched"
        tab="no"
        enable="no"
        useref="no"
        subtype="Titled"
        >
        <group loc="0 25" size="210 115"
          vq="prgflg satmode"
          show="$SHOW=(prgflg='y' and satmode='y')"
          border="None"
          tab="no"
          enable="no"
          useref="no"
          subtype="Untitled"
          >
          <entry loc="125 45" size="55 20"
            style="PlainText"
            vq="prggzlvl"
            vc="prggzlvl=$VALUE"
            set="$VALUE=prggzlvl"
            digits="0"
            />
          <entry loc="125 65" size="55 20"
            style="PlainText"
            vq="prggt"
            vc="prggt=$VALUE/1e3"
            set="$VALUE=prggt*1e3"
            />
          <entry loc="125 85" size="55 20"
            style="PlainText"
            vq="prggstab"
            vc="prggstab=$VALUE/1e3"
            set="$VALUE=prggstab*1e3"
            />
          <label loc="185 85" size="25 20"
            style="Label1"
            label="ms"
            />
          <label loc="185 65" size="25 20"
            style="Label1"
            label="ms"
            />
          <label loc="185 25" size="25 20"
            style="Label1"
            label="Âµs"
            />
          <menu loc="125 5" size="55 20"
            style="PlainText"
            vq="prgcycle"
            vc="prgcycle=$VALUE"
            set="$VALUE=prgcycle"
            editable="No"
            >
            <mlabel 
              label="2"
              chval="2"
              />
            <mlabel 
              label="4"
              chval="4"
              />
          </menu>
          <entry loc="125 25" size="55 20"
            style="PlainText"
            vq="prgd2"
            vc="prgd2=$VALUE/1e6"
            set="$VALUE=prgd2*1e6"
            digits="0"
            />
          <label loc="65 45" size="50 20"
            style="Label1"
            label="level"
            justify="Left"
            />
          <entry loc="65 25" size="55 20"
            style="PlainText"
            vq="prgd1"
            vc="prgd1=$VALUE/1e6"
            set="$VALUE=prgd1*1e6"
            digits="0"
            />
          <label loc="10 45" size="60 20"
            style="Label1"
            label="Gradient"
            />
          <label loc="65 85" size="55 20"
            style="Label1"
            label="recovery"
            justify="Left"
            />
          <label loc="65 65" size="55 20"
            style="Label1"
            label="duration"
            justify="Left"
            />
          <label loc="10 5" size="85 20"
            style="Label1"
            label="Purge cycle"
            />
          <label loc="10 25" size="45 20"
            style="Label1"
            label="Purge"
            />
        </group>
        <check loc="10 5" size="70 20"
          style="Label1"
          label="PURGE"
          vq="prgflg satmode"
          vc="prgflg='y'"
          vc2="prgflg='n'"
          set="$VALUE=(prgflg='y')"
          show="strstr(satmode,'y'):$ret $ENABLE=$ret*2-1"
          />
      </group>
      <group loc="10 30" size="220 150"
        border="Etched"
        tab="no"
        enable="no"
        useref="no"
        subtype="Titled"
        >
        <group loc="10 10" size="210 140"
          style="Heading1"
          vq="satmode"
          show="$SHOW=(satmode='y')"
          border="None"
          side="Top"
          justify="Left"
          tab="no"
          enable="no"
          useref="no"
          subtype="Untitled"
          >
          <entry loc="75 0" size="60 20"
            style="PlainText"
            vq="satdly satmode"
            vc="satdly=$VALUE"
            set="$VALUE=satdly"
            digits="2"
            disable="Grayed out"
            />
          <entry loc="75 20" size="60 20"
            style="PlainText"
            vq="satfrq satmode slpsat"
            vc="if (slpsat='n') then satfrq=$VALUE else satfrq=satfrq endif"
            set="$VALUE=satfrq"
            show="$ENABLE=(slpsat='n')*2-1"
            digits="1"
            disable="Grayed out"
            />
          <entry loc="75 40" size="60 20"
            style="PlainText"
            vq="satpwr satmode"
            vc="satpwr=$VALUE"
            set="$VALUE=satpwr"
            digits="0"
            disable="Grayed out"
            />
          <label loc="140 0" size="30 20"
            style="Label1"
            label="s"
            justify="Left"
            />
          <textmessage loc="140 20" size="50 20"
            style="Info"
            label="4.66p"
            vq="satfrq satmode slpsat"
            set="setsatppm:$VALUE"
            show="$ENABLE=(slpsat='n')"
            />
          <textmessage loc="140 40" size="50 20"
            style="Info"
            label="10 Hz"
            vq="satpwr"
            set="getpower(satpwr,tn):$gh2 $VALUE='' format($gh2,0,0):$VALUE $VALUE=$VALUE+' Hz'"
            />
          <check loc="0 60" size="165 20"
            style="Label1"
            label="Off-resonance PRESAT"
            vq="slpsat"
            vc="slpsat='y' pstof=pstof"
            vc2="slpsat='n' pstof=pstof"
            set="$VALUE=(slpsat='y')"
            />
          <group loc="0 120" size="210 20"
            style="Heading1"
            vq="slpsat"
            show="$SHOW=(slpsat='y')*2-1"
            border="None"
            side="Top"
            justify="Left"
            tab="no"
            enable="no"
            useref="no"
            subtype="Untitled"
            >
            <textmessage loc="0 0" size="205 20"
              style="Info"
              vq="slpsat psppm"
              set="$VALUE=psppm"
              />
          </group>
          <label loc="0 80" size="75 20"
            style="Label1"
            label="Offsets (Hz)"
            justify="Left"
            />
          <entry loc="75 80" size="125 20"
            style="PlainText"
            vq="pstof slpsat"
            vc="if (slpsat='y') then pstof=$VALUE endif pstof=pstof"
            set="array2csv(pstof,1):$VALUE"
            show="$ENABLE=(slpsat='y')*2-1"
            digits="1"
            disable="Grayed out"
            />
          <label loc="0 100" size="135 20"
            style="Label1"
            label="Chem. shift (ppm):"
            justify="Left"
            />
          <label loc="0 40" size="70 20"
            style="Label1"
            label="Power (dB)"
            justify="Left"
            />
          <label loc="0 20" size="70 20"
            style="Label1"
            label="Offset (Hz)"
            justify="Left"
            />
          <label loc="0 0" size="70 20"
            style="Label1"
            label="Delay"
            justify="Left"
            />
        </group>
      </group>
    </group>
    <textmessage loc="10 0" size="170 25"
      style="Info"
      label="bashdROESY"
      vq="pslabel"
      set="$VALUE=pslabel"
      />
  </group>
</template>
