<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="PresatSuppress" element="pages" type="acquisition" >
  <group size="635 240"
    style="Heading1"
    label="PRESAT"
    vq="panellevel"
    show="$SHOW=(panellevel&gt;29)"
    bg=""
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="PresatSuppress"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <group loc="5 35" size="445 190"
      style="Heading1"
      bg=""
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="presatgroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <group loc="220 30" size="210 150"
        bg=""
        border="Etched"
        tab="no"
        enable="no"
        useref="no"
        subtype="Titled"
        >
        <group loc="0 30" size="205 115"
          vq="prgflg"
          show="$SHOW=(prgflg='y')"
          bg=""
          border="None"
          tab="no"
          enable="no"
          useref="no"
          subtype="Untitled"
          >
          <label loc="180 25" size="25 20"
            style="Heading1"
            label="Âµs"
            />
          <label loc="180 65" size="25 20"
            style="Label1"
            label="ms"
            />
          <label loc="180 85" size="25 20"
            style="Label1"
            label="ms"
            />
          <label loc="10 5" size="85 20"
            style="Label1"
            label="PurgeCycle"
            />
          <entry loc="120 85" size="55 20"
            style="PlainText"
            vq="prggstab"
            vc="prggstab=$VALUE/1e3"
            set="$VALUE=prggstab*1e3"
            digits="3"
            />
          <entry loc="120 65" size="55 20"
            style="PlainText"
            vq="prggt"
            vc="prggt=$VALUE/1e3"
            set="$VALUE=prggt*1e3"
            digits="2"
            />
          <entry loc="120 45" size="55 20"
            style="PlainText"
            vq="prggzlvl"
            vc="prggzlvl=$VALUE"
            set="$VALUE=prggzlvl"
            digits="0"
            />
          <label loc="50 85" size="65 20"
            style="Label1"
            label="recovery"
            justify="Right"
            />
          <label loc="50 65" size="65 20"
            style="Label1"
            label="duration"
            justify="Right"
            />
          <label loc="65 45" size="50 20"
            style="Label1"
            label="level"
            justify="Right"
            />
          <label loc="10 45" size="55 20"
            style="Label1"
            label="Gradient"
            />
          <label loc="10 25" size="45 20"
            style="Label1"
            label="Purge"
            />
          <entry loc="120 25" size="55 20"
            style="PlainText"
            vq="prgd2"
            vc="prgd2=$VALUE/1e6"
            set="$VALUE=prgd2*1e6"
            digits="0"
            />
          <entry loc="60 25" size="55 20"
            style="PlainText"
            vq="prgd1"
            vc="prgd1=$VALUE/1e6"
            set="$VALUE=prgd1*1e6"
            digits="0"
            />
          <menu loc="120 5" size="55 20"
            style="PlainText"
            vq="prgcycle"
            vc="prgcycle=$VALUE"
            set="$VALUE=prgcycle"
            bg=""
            editable="No"
            >
            <mlabel 
              label="2"
              chval="2"
              />
            <mlabel 
              label="4"
              chval="4"
              />
          </menu>
        </group>
        <check loc="10 5" size="65 20"
          style="Label1"
          label="PURGE"
          vq="prgflg satmode"
          vc="prgflg='y'"
          vc2="prgflg='n'"
          set="$VALUE=(prgflg='y')"
          show="strstr(satmode,'y'):$ret $ENABLE=$ret*2-1"
          />
      </group>
      <check loc="15 5" size="160 20"
        style="Label1"
        label="Presaturation"
        vq="satmode"
        vc="satmode='y' if (wet='y') then seqfil='s2pulse' endif"
        vc2="satmode='n' if (wet='y') then seqfil='wet1D' endif"
        set="$VALUE=(satmode='y')"
        />
      <group loc="5 30" size="210 150"
        vq="satmode"
        show="$SHOW=(satmode='y')"
        bg=""
        border="Etched"
        tab="no"
        enable="no"
        useref="no"
        subtype="Titled"
        >
        <entry loc="85 85" size="115 20"
          style="PlainText"
          vq="pstof slpsat"
          vc="if (slpsat='y') then pstof=$VALUE endif pstof=pstof"
          set="array2csv(pstof,1):$VALUE"
          show="$ENABLE=(slpsat='y')"
          digits="1"
          disable="Grayed out"
          />
        <textmessage loc="10 125" size="190 20"
          style="PlainText"
          vq="slpsat psppm"
          set="$VALUE=psppm"
          />
        <label loc="10 85" size="75 20"
          style="Label1"
          label="Offsets (Hz)"
          vq="slpsat"
          show="$ENABLE=(slpsat='y')"
          justify="Left"
          />
        <entry loc="85 45" size="60 20"
          style="PlainText"
          vq="satpwr satmode"
          vc="satpwr=$VALUE"
          set="$VALUE=satpwr"
          digits="0"
          disable="Grayed out"
          />
        <textmessage loc="150 45" size="50 20"
          style="PlainText"
          vq="satpwr"
          set="getpower(satpwr,tn):$gh2 $VALUE='' format($gh2,0,0):$VALUE $VALUE=$VALUE+' Hz'"
          />
        <label loc="150 5" size="30 20"
          style="Label1"
          label="s"
          justify="Left"
          />
        <label loc="10 105" size="135 20"
          style="Label1"
          label="Chem. Shift (ppm):"
          vq="slpsat"
          show="$ENABLE=(slpsat='y')"
          justify="Left"
          />
        <check loc="10 65" size="165 20"
          style="Label1"
          label="Off-Resonance PRESAT"
          vq="slpsat"
          vc="slpsat='y' pstof=pstof"
          vc2="slpsat='n' pstof=pstof"
          set="$VALUE=(slpsat='y')"
          />
        <label loc="10 45" size="70 20"
          style="Label1"
          label="Power (dB)"
          justify="Left"
          />
        <textmessage loc="150 25" size="50 20"
          style="PlainText"
          vq="satfrq satmode slpsat"
          set="setsatppm:$VALUE"
          show="$ENABLE=(slpsat='n')"
          />
        <label loc="10 25" size="70 20"
          style="Label1"
          label="Offset (Hz)"
          justify="Left"
          />
        <entry loc="85 25" size="60 20"
          style="PlainText"
          vq="satfrq satmode slpsat"
          vc="if (slpsat='n') then satfrq=$VALUE else satfrq=satfrq endif"
          set="$VALUE=satfrq"
          show="$ENABLE=(slpsat='n')"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="85 5" size="60 20"
          style="PlainText"
          vq="satdly satmode"
          vc="satdly=$VALUE"
          set="$VALUE=satdly"
          digits="2"
          disable="Grayed out"
          />
        <label loc="10 5" size="70 20"
          style="Label1"
          label="Delay"
          justify="Left"
          />
      </group>
    </group>
    <textmessage loc="10 0" size="170 25"
      style="PlainText"
      label="wet1D"
      vq="pslabel"
      set="$VALUE=pslabel"
      />
  </group>
</template>
