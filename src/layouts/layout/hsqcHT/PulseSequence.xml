<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="PulseSequence" element="pages" type="acquisition" >
  <group size="685 235"
    style="Heading1"
    label="Pulse Sequence"
    vq="panellevel"
    show="$SHOW=(panellevel&gt;29)"
    bg=""
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="PulseSequence"
    useref="no"
    subtype="Basic"
    expanded="yes"
    >
    <group loc="435 25" size="225 205"
      style="Heading1"
      label="Gradients"
      bg=""
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="Gradients"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <entry loc="155 160" size="60 20"
        style="PlainText"
        vq="Gratio zz"
        vc="Gratio=$VALUE"
        set="$VALUE=Gratio"
        show="if(zz='y') then $ENABLE=0 else $ENABLE=1 endif"
        digits="4"
        />
      <label loc="5 160" size="150 20"
        style="Label1"
        label="Coherence gradient ratio"
        />
      <check loc="115 140" size="60 20"
        style="Label1"
        label="sspul"
        vq="sspul"
        vc="sspul='y'"
        vc2="sspul='n'"
        set="$s='' substr(sspul,1,1):$s $VALUE=($s='y')"
        />
      <check loc="5 140" size="70 20"
        style="Label1"
        label="ZZ filter"
        vq="zz"
        vc="zz='y'"
        vc2="zz='n'"
        set="$VALUE=(zz='y')"
        />
      <label loc="140 20" size="60 20"
        style="Label1"
        label="Duration"
        />
      <label loc="50 20" size="40 20"
        style="Label1"
        label="Level"
        />
      <entry loc="50 40" size="60 20"
        style="PlainText"
        vq="gzlvl0"
        vc="gzlvl0=$VALUE"
        set="$VALUE=gzlvl0"
        />
      <entry loc="140 40" size="50 20"
        style="PlainText"
        vq="gt0"
        vc="gt0=$VALUE/1000"
        set="$VALUE=gt0*1000"
        digits="3"
        />
      <entry loc="50 60" size="60 20"
        style="PlainText"
        vq="gzlvl1"
        vc="gzlvl1=$VALUE"
        set="$VALUE=gzlvl1"
        />
      <label loc="5 60" size="40 20"
        style="Label1"
        label="gzlvl1"
        />
      <entry loc="50 80" size="60 20"
        style="PlainText"
        vq="gzlvl2"
        vc="gzlvl2=$VALUE"
        set="$VALUE=gzlvl2"
        />
      <label loc="5 80" size="40 20"
        style="Label1"
        label="gzlvl2"
        />
      <label loc="5 100" size="40 20"
        style="Label1"
        label="gzlvl3"
        />
      <entry loc="50 100" size="60 20"
        style="PlainText"
        vq="gzlvl3"
        vc="gzlvl3=$VALUE"
        set="$VALUE=gzlvl3"
        />
      <label loc="115 60" size="25 20"
        style="Label1"
        label="gt1"
        />
      <entry loc="140 60" size="50 20"
        style="PlainText"
        vq="gt1"
        vc="gt1=$VALUE/1000"
        set="$VALUE=gt1*1000"
        digits="3"
        />
      <label loc="115 80" size="25 20"
        style="Label1"
        label="gt2"
        />
      <entry loc="140 80" size="50 20"
        style="PlainText"
        vq="gt2"
        vc="gt2=$VALUE/1000"
        set="$VALUE=gt2*1000"
        digits="3"
        />
      <label loc="115 100" size="25 20"
        style="Label1"
        label="gt3"
        />
      <entry loc="140 100" size="50 20"
        style="PlainText"
        vq="gt3"
        vc="gt3=$VALUE/1000"
        set="$VALUE=gt3*1000"
        digits="3"
        />
      <label loc="190 120" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <label loc="100 120" size="40 20"
        style="Label1"
        label="gstab"
        />
      <entry loc="140 120" size="50 20"
        style="PlainText"
        vq="gstab"
        vc="gstab=$VALUE/1000"
        set="$VALUE=gstab*1000"
        digits="3"
        />
      <label loc="190 100" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <label loc="190 80" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <label loc="190 60" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <label loc="190 40" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <label loc="115 40" size="25 20"
        style="Label1"
        label="gt0"
        />
      <label loc="5 40" size="40 20"
        style="Label1"
        label="gzlvl0"
        />
    </group>
    <group loc="225 145" size="210 85"
      style="Heading1"
      label="J-coupling"
      bg=""
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="HTDecoupling"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <label loc="10 40" size="70 20"
        style="Label1"
        label="Multiplicity"
        />
      <selmenu loc="80 40" size="105 20"
        style="PlainText"
        vq="mult "
        vc="mult=$VALUE"
        set="$VALUE=mult"
        editable="No"
        >
        <mlabel 
          label="All"
          chval="0"
          />
        <mlabel 
          label="CH only"
          chval="1"
          />
        <mlabel 
          label="CH2 negative"
          chval="2"
          />
      </selmenu>
      <entry loc="80 20" size="60 20"
        style="PlainText"
        vq="jXH"
        vc="jXH=$VALUE "
        set="$VALUE=jXH"
        digits="1"
        />
      <label loc="140 20" size="30 20"
        style="Label1"
        label="Hz"
        justify="Left"
        />
      <check loc="5 60" size="160 20"
        style="Label1"
        label="Adiabatic refocussing"
        vq="ad180"
        vc="ad180='y'"
        vc2="ad180='n'"
        set="$VALUE=(ad180='y')"
        />
      <label loc="10 20" size="55 20"
        style="Label1"
        label="1J(C-H)"
        />
      <label loc="110 20" size="20 20"
        style="Label1"
        label="Hz"
        justify="Left"
        />
    </group>
    <group loc="5 145" size="220 85"
      style="Heading1"
      label="HT Decoupling"
      bg=""
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="HTDecoupling"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <entry loc="140 60" size="75 20"
        style="PlainText"
        vq="dpwr dmm"
        vc="dpwr=$VALUE setHTdec"
        set="$VALUE=dpwr"
        show="$ENABLE=(dmm='ccg')"
        />
      <selmenu loc="140 40" size="75 20"
        style="PlainText"
        vq="dmm"
        vc="dmm='$VALUE' setHTdec"
        set="$VALUE=dmm"
        editable="No"
        >
        <mlabel 
          label="off"
          chval="ccc"
          />
        <mlabel 
          label="garp"
          chval="ccg"
          />
        <mlabel 
          label="wurst"
          chval="ccp"
          />
      </selmenu>
      <entry loc="140 20" size="75 20"
        style="PlainText"
        vq="pwpat"
        vc="pwpat='$VALUE'"
        set="$VALUE=pwpat"
        />
      <label loc="10 20" size="130 20"
        style="Label1"
        label="F1 decoupling shape:"
        />
      <label loc="10 60" size="115 20"
        style="Label1"
        label="Decoupling power:"
        />
      <label loc="10 40" size="95 20"
        style="Label1"
        label="F2 decoupling:"
        />
    </group>
    <group loc="5 25" size="220 120"
      style="Heading1"
      label="Hadamard Encoding"
      bg=""
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="HadamardEncoding"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <label loc="10 80" size="125 20"
        style="Label1"
        label="Skip First increments"
        />
      <entry loc="135 80" size="40 20"
        style="PlainText"
        vq="htofs1"
        vc="htofs1=$VALUE"
        set="$VALUE=htofs1"
        />
      <entry loc="135 60" size="80 20"
        style="PlainText"
        vq="compH"
        vc="compH=$VALUE"
        set="$VALUE=compH"
        digits="3"
        />
      <entry loc="135 40" size="40 20"
        style="PlainText"
        vq="htbw1"
        vc="htbw1=$VALUE"
        set="$VALUE=htbw1"
        digits="0"
        />
      <label loc="175 40" size="30 20"
        style="Label1"
        label="Hz"
        />
      <entry loc="135 20" size="80 20"
        style="PlainText"
        vq="pshape ptype"
        vc="pshape='$VALUE'"
        set="$VALUE=pshape"
        />
      <label loc="10 60" size="120 20"
        style="Label1"
        label="H1 Amp Compres."
        />
      <label loc="10 40" size="70 20"
        style="Label1"
        label="Bandwidth"
        />
      <label loc="10 20" size="110 20"
        style="Label1"
        label="HT Waveform"
        />
    </group>
    <group loc="225 25" size="210 120"
      style="Heading1"
      label="Solvent Suppression"
      bg=""
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="SolventSuppression"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <check loc="5 20" size="160 20"
        style="Label1"
        label="Presat ON / OFF Status"
        vq="satmode wet"
        vc="satmode='ynn' wet='n'"
        vc2="satmode='nnn'"
        set="$s='' substr(satmode,1,1):$s $VALUE=($s='y')"
        />
      <check loc="5 100" size="160 20"
        style="Label1"
        label="WET ON / OFF Status"
        vq="satmode wet"
        vc="wet='y' satmode='nnn'"
        vc2="wet='n'"
        set="$s='' substr(wet,1,1):$s $VALUE=($s='y')"
        />
      <label loc="160 60" size="30 20"
        style="Label1"
        label="s"
        justify="Left"
        />
      <label loc="160 80" size="30 20"
        style="Label1"
        label="Hz"
        justify="Left"
        />
      <entry loc="100 80" size="60 20"
        style="PlainText"
        vq="satpwr satmode"
        vc="satpwr=$VALUE"
        set="$VALUE=satpwr"
        show="$s='' substr(satmode,1,1):$s $ENABLE=($s='y')"
        digits="0"
        disable="Grayed out"
        />
      <label loc="10 80" size="70 20"
        style="Label1"
        label="Power"
        justify="Left"
        />
      <entry loc="100 60" size="60 20"
        style="PlainText"
        vq="satfrq satmode"
        vc="satfrq=$VALUE"
        set="$VALUE=satfrq"
        show="$s='' substr(satmode,1,1):$s $ENABLE=($s='y')"
        digits="1"
        disable="Grayed out"
        />
      <label loc="10 60" size="70 20"
        style="Label1"
        label="Frequency"
        justify="Left"
        />
      <entry loc="100 40" size="60 20"
        style="PlainText"
        vq="satdly satmode"
        vc="satdly=$VALUE"
        set="$VALUE=satdly"
        show="$s='' substr(satmode,1,1):$s $ENABLE=($s='y')"
        disable="Grayed out"
        />
      <label loc="10 40" size="70 20"
        style="Label1"
        label="Delay"
        justify="Left"
        />
    </group>
    <entry loc="305 0" size="40 20"
      style="PlainText"
      vq="r7"
      vc="r7=$VALUE importHT(r7)"
      set="$VALUE=r7"
      />
    <button loc="105 0" size="200 20"
      style="Heading2"
      label="Import HT Frequencies from exp"
      vc="importHT(r7)"
      bg=""
      decor1=""
      />
    <button loc="355 0" size="140 20"
      style="Heading2"
      label="Edit HT Frequencies"
      vc="editht('show')"
      bg=""
      decor1=""
      />
    <button loc="505 0" size="150 20"
      style="Heading2"
      label="Display Pulse Sequence"
      vc="dps"
      bg=""
      decor1=""
      />
    <group loc="10 0" size="85 20"
      bg=""
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="SeqDisplay2"
      useref="no"
      subtype="Basic"
      expanded="yes"
      >
    </group>
    <textmessage loc="10 0" size="95 20"
      style="PlainText"
      label="hsqcHT"
      vq="pslabel"
      set="$VALUE=pslabel"
      />
    <check loc="15 125" size="190 20"
      style="Label1"
      label="Bloch-Seigert Correction"
      vq="bscor"
      vc="bscor='y' "
      vc2="bscor='n'"
      set="if( bscor = 'y') then $VALUE=1 else $VALUE=0 endif"
      />
  </group>
</template>
