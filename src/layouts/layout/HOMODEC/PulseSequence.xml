<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="PulseSequence" element="pages" type="acquisition" >
  <group size="640 265"
    style="Heading1"
    label="Pulse Sequence"
    vq="panellevel"
    show="$SHOW=(panellevel&gt;29)"
    bg=""
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="PulseSequence"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <group loc="460 25" size="170 110"
      style="Heading1"
      label="Steady State"
      bg=""
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="sspulgroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <label loc="145 80" size="25 20"
        style="Heading1"
        label="ms"
        justify="Left"
        />
      <label loc="20 60" size="60 20"
        style="Label1"
        label="strength"
        justify="Left"
        />
      <entry loc="80 80" size="60 20"
        style="PlainText"
        vq="hsgt sspul PFGflg"
        vc="hsgt=$VALUE/1000"
        set="$VALUE=hsgt*1000"
        show="$ENABLE=(sspul='y' and PFGflg='y')"
        disable="Grayed out"
        />
      <entry loc="80 60" size="60 20"
        style="PlainText"
        vq="hsglvl sspul PFGflg"
        vc="hsglvl=$VALUE"
        set="$VALUE=hsglvl"
        show="$ENABLE=(sspul='y' and PFGflg='y')"
        digits="0"
        disable="Grayed out"
        />
      <label loc="20 80" size="60 20"
        style="Label1"
        label="time"
        justify="Left"
        />
      <label loc="10 40" size="70 20"
        style="Label1"
        label="Gradient -"
        justify="Left"
        />
      <check loc="10 20" size="150 20"
        style="Label1"
        label="Grad-90-Grad option"
        vq="sspul PFGflg"
        vc="sspul='y'"
        vc2="sspul='n'"
        set="$VALUE=(sspul='y' and PFGflg='y')"
        />
    </group>
    <group loc="225 25" size="230 155"
      style="Heading1"
      label="Decoupling"
      bg=""
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="presatgroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <group loc="0 40" size="230 110"
        bg=""
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <textmessage loc="10 85" size="210 20"
          style="PlainText"
          label=" "
          vq="hdseq hdwave mfslp"
          set="$VALUE=hdseq"
          />
        <button loc="75 45" size="125 20"
          style="Heading2"
          label="Make Shape"
          vq="mfslp homo"
          vc="HOMODECproc('makeshape')"
          show="$ENABLE=(homo='y' and mfslp='y') "
          bg=""
          decor1=""
          />
        <label loc="205 5" size="25 20"
          style="Label1"
          label="Hz"
          justify="Left"
          />
        <label loc="10 5" size="65 20"
          style="Label1"
          label="Offsets"
          vq="mfslp"
          justify="Left"
          />
        <entry loc="75 5" size="125 20"
          style="PlainText"
          vq="pstof mfslp homo"
          vc="if (mfslp='y') then hdfrqc=$VALUE endif pstof=hdfrqc"
          set="array2csv(hdfrqc,1):$VALUE"
          show="$ENABLE=(homo='y' and mfslp='y')"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="75 25" size="125 20"
          style="PlainText"
          vq="hdwave mfslp homo"
          vc="hdwave='$VALUE'"
          set="$VALUE=hdwave"
          show="$ENABLE=(homo='y' and mfslp='y') "
          digits="1"
          disable="Grayed out"
          />
        <label loc="10 25" size="65 20"
          style="Label1"
          label="Waveform"
          vq="hdwave mfslp"
          justify="Left"
          />
        <label loc="10 65" size="70 20"
          style="Label1"
          label="Shape:"
          vq="hdwave mfslp"
          justify="Left"
          />
      </group>
      <check loc="10 20" size="165 20"
        style="Label1"
        label="Shaped Decoupling"
        vq="mfslp"
        vc="mfslp='y' hdfrqc=hdfrqc"
        vc2="mfslp='n' hdfrqc=hdfrqc"
        set="$VALUE=(mfslp='y')"
        />
    </group>
    <group loc="5 140" size="215 115"
      style="Heading1"
      label="Homo-Presaturation"
      bg=""
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="presatgroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <group loc="0 40" size="210 75"
        bg=""
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <textmessage loc="150 45" size="55 20"
          style="PlainText"
          label="23 Hz"
          vq="satpwr"
          set="getpower(satpwr,tn):$gh2 $VALUE='' format($gh2,0,0):$VALUE $VALUE=$VALUE+' Hz'"
          />
        <textmessage loc="150 25" size="55 20"
          style="PlainText"
          label="6.00p"
          vq="satfrq satmode slpsat"
          set="setsatppm:$VALUE"
          show="$ENABLE=(slpsat='n')"
          />
        <entry loc="85 45" size="60 20"
          style="PlainText"
          vq="satpwr satmode hdpsmode"
          vc="satpwr=$VALUE"
          set="$VALUE=satpwr"
          show="$ENABLE=((satmode='n') and (hdpsmode='y'))"
          digits="0"
          disable="Grayed out"
          />
        <label loc="150 5" size="30 20"
          style="Label1"
          label="s"
          justify="Left"
          />
        <label loc="10 45" size="70 20"
          style="Label1"
          label="Power (dB)"
          justify="Left"
          />
        <label loc="10 25" size="70 20"
          style="Label1"
          label="Offset (Hz)"
          justify="Left"
          />
        <entry loc="85 25" size="60 20"
          style="PlainText"
          vq="satfrq satmode slpsat hdpsmode"
          vc="if (slpsat='n') then satfrq=$VALUE else satfrq=satfrq endif"
          set="$VALUE=satfrq"
          show="$ENABLE=(slpsat='n' and satmode='n' and hdpsmode='y')"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="85 5" size="60 20"
          style="PlainText"
          vq="satdly satmode hdpsmode"
          vc="satdly=$VALUE"
          set="$VALUE=satdly"
          show="$ENABLE=((satmode='n') and (hdpsmode='y'))"
          digits="2"
          disable="Grayed out"
          />
        <label loc="10 5" size="70 20"
          style="Label1"
          label="Delay"
          justify="Left"
          />
      </group>
      <check loc="10 20" size="160 20"
        style="Label1"
        label="Homo Presat on/off"
        vq="hdpsmode satmode"
        vc="hdpsmode='y' "
        vc2="hdpsmode='n'"
        set="$VALUE=(hdpsmode='y')"
        show="$ENABLE=(satmode&lt;&gt;'y')*2-1"
        />
    </group>
    <group loc="5 25" size="215 115"
      style="Heading1"
      label="Homo-Decoupling"
      bg=""
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="presatgroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <group loc="0 40" size="190 70"
        bg=""
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="150 5" size="30 20"
          style="Heading1"
          label="Hz"
          justify="Left"
          />
        <label loc="150 25" size="30 20"
          style="Label1"
          label="dB"
          justify="Left"
          />
        <entry loc="85 25" size="60 20"
          style="PlainText"
          vq="hdpwr homo"
          vc="hdpwr=$VALUE"
          set="$VALUE=hdpwr"
          show="$ENABLE=(homo='y')"
          digits="0"
          disable="Grayed out"
          />
        <label loc="150 45" size="30 20"
          style="Label1"
          label="%"
          justify="Left"
          />
        <entry loc="85 45" size="60 20"
          style="PlainText"
          vq="dutyc homo"
          vc="dutyc=$VALUE/100"
          set="$VALUE=dutyc*100"
          show="$ENABLE=(homo='y')"
          digits="0"
          disable="Grayed out"
          />
        <label loc="10 45" size="70 20"
          style="Label1"
          label="Duty Cycle"
          justify="Left"
          />
        <label loc="10 25" size="70 20"
          style="Label1"
          label="Power"
          justify="Left"
          />
        <entry loc="85 5" size="60 20"
          style="PlainText"
          vq="hdof hdseq homo mfslp"
          vc="if (mfslp='n') then hdof=$VALUE else hdof=hdof endif"
          set="$VALUE=hdof"
          show="$ENABLE=(mfslp='n' and homo='y')"
          digits="1"
          disable="Grayed out"
          />
        <label loc="10 5" size="70 20"
          style="Label1"
          label="Offset"
          justify="Left"
          />
      </group>
      <check loc="10 20" size="160 20"
        style="Label1"
        label="HomoDec on/off"
        vq="homo"
        vc="homo='y' "
        vc2="homo='n'"
        set="$VALUE=(homo='y')"
        />
    </group>
    <textmessage loc="10 0" size="170 25"
      style="PlainText"
      label="HOMODEC"
      vq="pslabel"
      set="$VALUE=pslabel"
      />
  </group>
</template>
