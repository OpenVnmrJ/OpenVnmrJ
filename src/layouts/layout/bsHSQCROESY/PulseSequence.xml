<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="PulseSequence" element="pages" type="acquisition" >
  <group size="680 250"
    style="Heading1"
    label="Pulse Sequence"
    vq="panellevel"
    show="$SHOW=(panellevel&gt;29)"
    bg=""
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="PulseSequence"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <group loc="385 25" size="250 215"
      style="Heading1"
      label="Double PFG spinecho"
      vq="impress"
      show="$SHOW=(impress=0)"
      bg=""
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="dpfgsegroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <label loc="225 165" size="25 20"
        style="Heading1"
        label="ms"
        justify="Left"
        />
      <label loc="10 165" size="125 20"
        style="Label1"
        label="G- recovery time"
        justify="Left"
        />
      <entry loc="160 165" size="60 20"
        style="PlainText"
        vq="gstab"
        vc="gstab=$VALUE/1000"
        set="$VALUE=gstab*1000"
        digits="2"
        disable="Grayed out"
        />
      <label loc="225 60" size="25 20"
        style="Label1"
        label="dB"
        justify="Left"
        />
      <label loc="225 40" size="25 20"
        style="Label1"
        label="µs"
        justify="Left"
        />
      <label loc="225 140" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <label loc="10 120" size="75 20"
        style="Label1"
        label="G- strength"
        justify="Left"
        />
      <label loc="10 140" size="75 20"
        style="Label1"
        label="G- duration"
        justify="Left"
        />
      <entry loc="85 140" size="60 20"
        style="PlainText"
        vq="gtA"
        vc="gtA=$VALUE/1000"
        set="$VALUE=gtA*1000"
        digits="2"
        disable="Grayed out"
        />
      <entry loc="160 140" size="60 20"
        style="PlainText"
        vq="gtB"
        vc="gtB=$VALUE/1000"
        set="$VALUE=gtB*1000"
        digits="2"
        disable="Grayed out"
        />
      <entry loc="160 120" size="60 20"
        style="PlainText"
        vq="gzlvlB"
        vc="gzlvlB=$VALUE"
        set="$VALUE=gzlvlB"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="85 120" size="60 20"
        style="PlainText"
        vq="gzlvlA"
        vc="gzlvlA=$VALUE"
        set="$VALUE=gzlvlA"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="100 100" size="120 20"
        style="PlainText"
        vq="selpwxshpB"
        vc="selpwxshpB='$VALUE'"
        set="$VALUE=selpwxshpB"
        disable="Grayed out"
        />
      <label loc="20 80" size="55 20"
        style="Label1"
        label="shape"
        justify="Left"
        />
      <entry loc="85 80" size="120 20"
        style="PlainText"
        vq="selpwxshpA"
        vc="selpwxshpA='$VALUE'"
        set="$VALUE=selpwxshpA"
        disable="Grayed out"
        />
      <label loc="20 60" size="55 20"
        style="Label1"
        label="power"
        justify="Left"
        />
      <entry loc="85 60" size="60 20"
        style="PlainText"
        vq="selpwxlvlA"
        vc="selpwxlvlA=$VALUE"
        set="$VALUE=selpwxlvlA"
        disable="Grayed out"
        />
      <entry loc="85 40" size="60 20"
        style="PlainText"
        vq="selpwxA"
        vc="selpwxA=$VALUE"
        set="$VALUE=selpwxA"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="160 60" size="60 20"
        style="PlainText"
        vq="selpwxlvlB"
        vc="selpwxlvlB=$VALUE"
        set="$VALUE=selpwxlvlB"
        disable="Grayed out"
        />
      <entry loc="160 40" size="60 20"
        style="PlainText"
        vq="selpwxB"
        vc="selpwxB=$VALUE"
        set="$VALUE=selpwxB"
        digits="1"
        disable="Grayed out"
        />
      <label loc="160 20" size="60 20"
        style="Label1"
        label="Echo2"
        justify="Center"
        />
      <label loc="85 20" size="60 20"
        style="Label1"
        label="Echo1"
        justify="Center"
        />
      <label loc="20 40" size="55 20"
        style="Label1"
        label="width"
        justify="Left"
        />
      <label loc="10 20" size="55 20"
        style="Label1"
        label="Pulse"
        justify="Left"
        />
    </group>
    <group loc="5 90" size="185 150"
      style="Heading1"
      label="ROESY SpinLock"
      bg=""
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="roe"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <button loc="65 125" size="90 20"
        style="Heading2"
        label="Default Tilt"
        vq="tiltfactor tiltangle spinlockR slpwrR"
        vc="spinlockR=sw*.8 setpower(spinlockR,tn):slpwrR,$dum getpower(slpwrR,tn):spinlockR  spinlockR=spinlockR slpwrR=slpwrR tiltfactor=1.732 atan(tiltfactor):$tmp tiltangle=(180/3.141)*$tmp"
        bg=""
        decor1=""
        />
      <entry loc="95 105" size="60 20"
        style="PlainText"
        vq="tiltfactor tiltangle"
        vc="tiltfactor=$VALUE tpos1=tof+(spinlockR/tiltfactor) tpos2=tof-(spinlockR/tiltfactor) atan(tiltfactor):$tmp tiltangle=(180/3.141)*$tmp "
        set="$VALUE=tiltfactor"
        digits="3"
        />
      <entry loc="95 85" size="60 20"
        style="PlainText"
        vq="tiltangle tiltfactor"
        vc="tiltangle=$VALUE $tmp=(3.141/180)*tiltangle tan($tmp):tiltfactor"
        set="$VALUE=tiltangle"
        digits="1"
        />
      <label loc="10 85" size="65 20"
        style="Label1"
        label="Tilt angle"
        />
      <label loc="10 105" size="65 20"
        style="Label1"
        label="Tilt factor"
        />
      <label loc="160 60" size="25 20"
        style="Label1"
        label="dB"
        justify="Left"
        />
      <entry loc="95 60" size="60 20"
        style="PlainText"
        vq="slpwrR"
        vc="slpwrR=$VALUE"
        set="$VALUE=slpwrR"
        digits="0"
        disable="Grayed out"
        />
      <label loc="10 60" size="70 20"
        style="Label1"
        label="Power"
        justify="Left"
        />
      <label loc="10 40" size="70 20"
        style="Label1"
        label="SpinlockR"
        justify="Left"
        />
      <label loc="160 20" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <entry loc="95 40" size="60 20"
        style="PlainText"
        vq="spinlockR slpwrR"
        vc="setpower($VALUE,tn):slpwrR,$dum getpower(slpwrR,tn):spinlockR spinlockR=spinlockR"
        set="$VALUE=spinlockR"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="95 20" size="60 20"
        style="PlainText"
        vq="mixR"
        vc="mixR=$VALUE/1000"
        set="$VALUE=mixR*1000"
        digits="0"
        disable="Grayed out"
        />
      <label loc="10 20" size="80 20"
        style="Label1"
        label="Mixing time"
        justify="Left"
        />
    </group>
    <group loc="5 25" size="185 65"
      style="Heading1"
      label="One-Bond Coupling"
      bg=""
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="j1xhgroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <label loc="160 20" size="25 20"
        style="Heading1"
        label="Hz"
        justify="Left"
        />
      <label loc="160 40" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <textmessage loc="105 40" size="50 20"
        style="PlainText"
        label="3.425"
        vq="j1xh"
        set="$VALUE=500/j1xh"
        digits="3"
        />
      <entry loc="105 20" size="50 20"
        style="PlainText"
        vq="j1xh"
        vc="j1xh=$VALUE"
        set="$VALUE=j1xh"
        digits="0"
        disable="Grayed out"
        />
      <label loc="10 40" size="95 20"
        style="Label1"
        label="Transfer delay"
        justify="Left"
        />
      <label loc="10 20" size="95 20"
        style="Label1"
        label="Coupling const."
        justify="Left"
        />
    </group>
    <group loc="195 130" size="185 110"
      style="Heading1"
      label="X-Inversion"
      bg=""
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="AD-Xinversion"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <entry loc="85 85" size="70 20"
        style="PlainText"
        vq="pwxlvl180"
        vc="pwxlvl180=$VALUE"
        set="$VALUE=pwxlvl180"
        disable="Grayed out"
        />
      <entry loc="85 65" size="70 20"
        style="PlainText"
        vq="pwx180"
        vc="pwx180=$VALUE"
        set="$VALUE=pwx180"
        disable="Grayed out"
        />
      <label loc="160 85" size="25 20"
        style="Label1"
        label="dB"
        justify="Left"
        />
      <label loc="160 65" size="20 20"
        style="Label1"
        label="µs"
        justify="Left"
        />
      <label loc="10 85" size="50 20"
        style="Label1"
        label="Power"
        justify="Left"
        />
      <entry loc="60 45" size="115 20"
        style="PlainText"
        vq="pwx180adR"
        vc="pwx180adR='$VALUE'"
        set="$VALUE=pwx180adR"
        disable="Grayed out"
        />
      <label loc="10 45" size="50 20"
        style="Label1"
        label="ShapeR"
        justify="Left"
        />
      <label loc="10 65" size="50 20"
        style="Label1"
        label="Width"
        justify="Left"
        />
      <entry loc="60 25" size="115 20"
        style="PlainText"
        vq="pwx180ad"
        vc="pwx180ad='$VALUE'"
        set="$VALUE=pwx180ad"
        disable="Grayed out"
        />
      <label loc="10 25" size="50 20"
        style="Label1"
        label="Shape"
        justify="Left"
        />
    </group>
    <group loc="195 25" size="185 105"
      style="Heading1"
      label="X-Selection"
      vq="impress"
      show="$SHOW=(impress=0)"
      bg=""
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="AD-Xselect"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <button loc="60 80" size="115 20"
        style="Heading2"
        label="Make Shape"
        vc="setF1selshp"
        bg=""
        decor1=""
        />
      <textmessage loc="100 20" size="80 20"
        style="PlainText"
        label="dpfgseF1"
        vq="seltype"
        set="$VALUE=seltype"
        />
      <entry loc="100 40" size="75 20"
        style="PlainText"
        vq="shape180 impress"
        vc="shape180='$VALUE'"
        set="$VALUE=shape180"
        show="$ENABLE=(impress=0)"
        disable="Grayed out"
        />
      <textmessage loc="100 60" size="75 20"
        style="PlainText"
        label="23249 Hz"
        vq="sw1"
        set="$ssw='' format(sw1,0,0):$ssw $VALUE=$ssw+' Hz'"
        />
      <label loc="10 60" size="80 20"
        style="Label1"
        label="Bandwidth:"
        justify="Left"
        />
      <label loc="10 20" size="90 20"
        style="Label1"
        label="Selection type:"
        justify="Left"
        />
      <label loc="10 40" size="80 20"
        style="Label1"
        label="Base Shape"
        justify="Left"
        />
    </group>
    <group loc="10 0" size="390 25"
      bg=""
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="SeqDisplay2"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      >
      <textmessage loc="0 0" size="240 25"
        style="PlainText"
        label="bsHSQCROESY"
        vq="pslabel"
        set="$VALUE=pslabel"
        />
    </group>
  </group>
</template>
