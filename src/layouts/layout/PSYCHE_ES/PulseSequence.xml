<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="PulseSequence" element="pages" type="acquisition" >
  <group size="655 245"
    style="Heading1"
    label="Pulse Sequence"
    vq="personaType"
    show="$S=1 PersonaManager('showInPanel','acquire','pulsesequence'):$S $SHOW=$S"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="PulseSequence"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    rows="1"
    columns="1"
    >
    <group loc="5 25" size="270 180"
      style="Heading1"
      label="PSYCHE"
      border="Etched"
      tab="no"
      enable="no"
      reference="pureshift"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <menu loc="95 65" size="120 20"
        style="PlainText"
        label="menu"
        vq="selwavePS selpwPS"
        vc="$v='$VALUE' if $v &lt;&gt; '' then selwavePS=$v selbwPS=selbwPS dps endif"
        set="$VALUE=selwavePS"
        editable="No"
        >
        <mlabel 
          label="chirp"
          chval="chirp chirp"
          />
        <mlabel 
          label="wurst180"
          chval="wurst180 wurst180"
          />
        <mlabel 
          label="wurst2i"
          chval="wurst2i wurst2i"
          />
      </menu>
      <entry loc="95 45" size="70 20"
        style="PlainText"
        vq="gzlvlPS invgcal"
        vc="gzlvlPS=$VALUE"
        set="$VALUE=gzlvlPS"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="95 25" size="70 20"
        style="PlainText"
        vq="pfla"
        vc="pfla=$VALUE"
        set="$VALUE=pfla"
        digits="1"
        disable="Grayed out"
        />
      <label loc="170 25" size="40 20"
        style="Label1"
        label="deg."
        justify="Left"
        />
      <textmessage loc="170 45" size="95 20"
        style="PlainText"
        label="(0.7 G/cm)"
        vq="gzlvlPS invgcal probe"
        set="$gcm='' fixgrdR(gzlvlPS):$ret,$gcm if ($gcm&lt;&gt;'') then $gcm='('+$gcm+' G/cm)' endif $VALUE=$gcm"
        />
      <entry loc="125 85" size="90 20"
        style="PlainText"
        vq="selwavePS selbwPS"
        vc="selwavePS='$VALUE $VALUE ' selbwPS=selbwPS dps"
        set="$wave='' string2array(selwavePS):$wave $VALUE=$wave[1]"
        digits="0"
        disable="Grayed out"
        />
      <label loc="95 85" size="30 20"
        style="Label1"
        label="OR"
        justify="Center"
        />
      <textmessage loc="95 145" size="145 20"
        style="PlainText"
        label="9"
        vq="selpwrPS"
        set="$pwr='' format(selpwrPS,0,0):$pwr  $VALUE=$pwr"
        />
      <textmessage loc="95 125" size="145 20"
        style="PlainText"
        label="30.0 ms"
        vq="selpwPS"
        set="$pw='' format(selpwPS/1000,0,1):$pw $VALUE=$pw+' ms'"
        />
      <textmessage loc="95 105" size="175 20"
        style="PlainText"
        label="drussell_PSYCHE_007"
        vq="selshapePS"
        set="$VALUE=selshapePS"
        />
      <label loc="10 105" size="75 20"
        style="Label1"
        label="Shape"
        justify="Left"
        />
      <label loc="10 125" size="75 20"
        style="Label1"
        label="Pulse width"
        justify="Left"
        />
      <label loc="10 145" size="80 20"
        style="Label1"
        label="Power level"
        justify="Left"
        />
      <label loc="10 65" size="85 20"
        style="Label1"
        label="Wave pattern"
        justify="Left"
        />
      <label loc="10 45" size="80 20"
        style="Label1"
        label="Gradient"
        justify="Left"
        />
      <label loc="10 25" size="85 20"
        style="Label1"
        label="Flip angle"
        justify="Left"
        />
    </group>
    <group loc="280 130" size="230 75"
      style="Heading1"
      label="&quot;Acquisition&quot;"
      border="Etched"
      tab="no"
      enable="no"
      reference="pureshift"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <label loc="205 25" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <textmessage loc="10 45" size="220 20"
        style="PlainText"
        label="Suitable for J values &lt; ~12.5 Hz"
        vq="tauPS"
        set="$j=(1/(10*tauPS)) $js='' format($j,0,1):$js $VALUE='Suitable for J values &lt; ~'+$js+' Hz'"
        />
      <label loc="10 25" size="130 20"
        style="Label1"
        label="&quot;PureShift tau delay&quot;"
        justify="Left"
        />
      <entry loc="150 25" size="50 20"
        style="PlainText"
        vq="tauPS panellevel"
        vc="tauPS=$VALUE/1000"
        set="$VALUE=tauPS*1000"
        digits="1"
        disable="Grayed out"
        />
    </group>
    <group loc="460 25" size="190 105"
      style="Heading1"
      label="Echo Gradients"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="EDggroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <textmessage loc="10 20" size="175 20"
        style="PlainText"
        label="Encode Grad (5.0 G/cm)"
        vq="gzlvlE invgcal probe"
        set="$gcm='' fixgrdR(gzlvlE):$ret,$gcm if ($gcm&lt;&gt;'') then $gcm='('+$gcm+' G/cm)' endif $VALUE='Encode Grad '+$gcm"
        />
      <label loc="165 80" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <label loc="165 60" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <entry loc="100 40" size="60 20"
        style="PlainText"
        vq="gzlvlE"
        vc="gzlvlE=$VALUE"
        set="$VALUE=gzlvlE"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="100 60" size="60 20"
        style="PlainText"
        vq="gtE"
        vc="gtE=$VALUE/1000"
        set="$VALUE=gtE*1000"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="100 80" size="60 20"
        style="PlainText"
        vq="gstab"
        vc="gstab=$VALUE/1000"
        set="$VALUE=gstab*1000"
        digits="1"
        disable="Grayed out"
        />
      <label loc="10 60" size="70 20"
        style="Label1"
        label="Time"
        justify="Left"
        />
      <label loc="10 40" size="70 20"
        style="Label1"
        label="Strength"
        justify="Left"
        />
      <label loc="10 80" size="90 20"
        style="Label1"
        label="Recovery time"
        justify="Left"
        />
    </group>
    <group loc="280 25" size="175 105"
      style="Heading1"
      label="Steady State"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="sspulgroup"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <label loc="10 40" size="75 20"
        style="Label1"
        label="G- strength"
        justify="Left"
        />
      <label loc="150 60" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <entry loc="85 60" size="60 20"
        style="PlainText"
        vq="hsgt sspul PFGflg"
        vc="hsgt=$VALUE/1000"
        set="$VALUE=hsgt*1000"
        show="$ENABLE=(sspul='y' and PFGflg='y')*2-1"
        disable="Grayed out"
        />
      <entry loc="85 40" size="60 20"
        style="PlainText"
        vq="hsglvl sspul PFGflg"
        vc="hsglvl=$VALUE"
        set="$VALUE=hsglvl"
        show="$ENABLE=(sspul='y' and PFGflg='y')*2-1"
        digits="0"
        disable="Grayed out"
        />
      <label loc="10 60" size="60 20"
        style="Label1"
        label="G- time"
        justify="Left"
        />
      <check loc="10 20" size="150 20"
        style="Label1"
        label="Grad-90-Grad option"
        vq="sspul PFGflg"
        vc="sspul='y'"
        vc2="sspul='n'"
        set="$VALUE=(sspul='y' and PFGflg='y')"
        show="$ENABLE=(PFGflg='y')*2-1"
        />
    </group>
    <group loc="10 0" size="390 25"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="SeqDisplay2"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <textmessage loc="0 0" size="240 25"
        style="PlainText"
        label="PSYCHE"
        vq="pslabel"
        set="$VALUE=pslabel"
        />
    </group>
  </group>
</template>
