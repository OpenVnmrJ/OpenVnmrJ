<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="PulseSequence" element="pages" type="acquisition" >
  <group size="840 275"
    style="PlainText"
    label="Pulse Sequence"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="PulseSequence"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <button loc="345 165" size="160 25"
      style="PlainText"
      label="Regenerate Shape"
      vq="Cshape, pwClvl,pwC,pwCshp,pwCshp_lvl"
      vc=" BPmakeBIP(Cshape,pwClvl,pwC):pwCshp  pwCshp_lvl=pwClvl "
      bg="transparent"
      decor1="no"
      tooltip=" BPmakeBIP(Cshape,pwClvl,pwC):pwCshp  pwCshp_lvl=pwClvl "
      />
    <check loc="300 140" size="200 25"
      style="PlainText"
      label="decouple from 13CA/CO"
      vq="Cdec"
      vc="Cdec='y'"
      vc2="Cdec='n'"
      set="$VALUE=0 if (Cdec='y') then $VALUE=1 endif"
      tooltip="Cdec='y'"
      />
    <group loc="310 85" size="230 20"
      vq="exp_mode"
      show="if (exp_mode='R') then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      >
      <entry loc="130 0" size="80 20"
        style="PlainText"
        vq="timeTN"
        vc="timeTN=$VALUE"
        set="$VALUE=timeTN"
        digits="3"
        tooltip="timeTN"
        />
      <label loc="0 0" size="125 20"
        style="Label1"
        label="Relaxation time, sec"
        />
    </group>
    <entry loc="415 30" size="80 20"
      style="PlainText"
      vq="tauNH"
      vc="tauNH=$VALUE"
      set="$VALUE=tauNH"
      digits="3"
      tooltip="tauNH"
      />
    <label loc="295 30" size="125 20"
      style="Label1"
      label="tauNH (~1/4JNH)"
      />
    <check loc="295 55" size="255 25"
      style="PlainText"
      label="Set up for 15N R2* relaxation estimate"
      vq="exp_mode"
      vc="exp_mode='R'"
      vc2="exp_mode='n' timeTN=0.0"
      set="$VALUE=0 if (exp_mode='R') then $VALUE=1 endif"
      tooltip="exp_mode='R'"
      />
    <group loc="550 5" size="280 265"
      style="PlainText"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="gzlvl0-gzlvl11"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <entry loc="70 175" size="50 25"
        style="PlainText"
        vq="g6bal"
        vc="g6bal=$VALUE"
        set="$VALUE=g6bal"
        show="exists('g6bal','parameter'):$VALUE"
        digits="1"
        tooltip="g6bal"
        />
      <label loc="15 180" size="40 25"
        style="PlainText"
        label="g6bal"
        />
      <label loc="15 210" size="50 25"
        style="PlainText"
        label="gzlvl11"
        />
      <entry loc="70 210" size="50 25"
        style="PlainText"
        vq="gzlvl11"
        vc="gzlvl11=$VALUE"
        set="$VALUE=gzlvl11"
        show="exists('gzlvl11','parameter'):$VALUE"
        digits="0"
        />
      <group loc="130 10" size="70 225"
        vq="gzcal"
        show="exists('gzcal','parameter'):$SHOW"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="0 200" size="65 25"
          style="PlainText"
          vq="gzlvl11 gzcal"
          vc="gzlvl11=$VALUE/gzcal"
          set="$VALUE=gzlvl11*gzcal"
          show="exists('gzlvl11','parameter'):$VALUE"
          digits="3"
          />
        <label loc="8 8" size="64 16"
          style="Label3"
          label="(G/cm)"
          />
        <entry loc="0 48" size="64 24"
          style="PlainText"
          vq="gzlvl1 gzcal"
          vc="gzlvl1=$VALUE/gzcal"
          set="$VALUE=gzlvl1*gzcal"
          show="exists('gzlvl1','parameter'):$VALUE"
          digits="3"
          />
        <entry loc="0 72" size="64 24"
          style="PlainText"
          vq="gzlvl2 gzcal"
          vc="gzlvl2=$VALUE/gzcal"
          set="$VALUE=gzlvl2*gzcal"
          show="exists('gzlvl2','parameter'):$VALUE"
          digits="3"
          />
        <entry loc="0 96" size="64 24"
          style="PlainText"
          vq="gzlvl3 gzcal"
          vc="gzlvl3=$VALUE/gzcal"
          set="$VALUE=gzlvl3*gzcal"
          show="exists('gzlvl3','parameter'):$VALUE"
          digits="3"
          />
        <entry loc="0 120" size="64 24"
          style="PlainText"
          vq="gzlvl4 gzcal"
          vc="gzlvl4=$VALUE/gzcal"
          set="$VALUE=gzlvl4*gzcal"
          show="exists('gzlvl4','parameter'):$VALUE"
          digits="3"
          />
        <entry loc="0 144" size="64 24"
          style="PlainText"
          vq="gzlvl6 gzcal"
          vc="gzlvl6=$VALUE/gzcal"
          set="$VALUE=gzcal*gzlvl6"
          show="exists('gzlvl6','parameter'):$VALUE"
          digits="3"
          />
        <entry loc="0 24" size="64 24"
          style="PlainText"
          vq="gzlvl0 gzcal"
          vc="gzlvl0=$VALUE/gzcal"
          set="$VALUE=gzlvl0*gzcal"
          show="exists('gzlvl0','parameter'):$VALUE"
          digits="3"
          />
      </group>
      <entry loc="200 240" size="65 25"
        style="PlainText"
        vq="gstab"
        vc="gstab=$VALUE"
        set="$VALUE=gstab"
        show="exists('gstab','parameter'):$VALUE"
        digits="6"
        disable="Grayed out"
        />
      <label loc="160 240" size="40 25"
        style="PlainText"
        label="gstab"
        justify="Left"
        />
      <entry loc="70 240" size="70 25"
        style="PlainText"
        vq="gzcal"
        vc="gzcal=$VALUE"
        set="$VALUE=gzcal"
        show="exists('gzcal','parameter'):$VALUE"
        digits="6"
        disable="Grayed out"
        />
      <label loc="15 240" size="40 25"
        style="PlainText"
        label="gzcal"
        />
      <entry loc="200 128" size="64 24"
        style="PlainText"
        vq="gt4"
        vc="gt4=$VALUE"
        set="$VALUE=gt4"
        show="exists('gt4','parameter'):$VALUE"
        digits="6"
        />
      <entry loc="200 152" size="64 24"
        style="PlainText"
        vq="gt6"
        vc="gt6=$VALUE"
        set="$VALUE=gt6"
        show="exists('gt6','parameter'):$VALUE"
        digits="6"
        />
      <entry loc="200 104" size="64 24"
        style="PlainText"
        vq="gt3"
        vc="gt3=$VALUE"
        set="$VALUE=gt3"
        show="exists('gt3','parameter'):$VALUE"
        digits="6"
        />
      <entry loc="200 80" size="64 24"
        style="PlainText"
        vq="gt2"
        vc="gt2=$VALUE"
        set="$VALUE=gt2"
        show="exists('gt2','parameter'):$VALUE"
        />
      <entry loc="200 56" size="64 24"
        style="PlainText"
        vq="gt1"
        vc="gt1=$VALUE"
        set="$VALUE=gt1"
        show="exists('gt1','parameter'):$VALUE"
        digits="6"
        />
      <entry loc="200 32" size="64 24"
        style="PlainText"
        vq="gt0"
        vc="gt0=$VALUE"
        set="$VALUE=gt0"
        show="exists('gt0','parameter'):$VALUE"
        digits="6"
        />
      <label loc="200 16" size="64 16"
        style="Label3"
        label="Time (sec)"
        />
      <entry loc="72 152" size="48 24"
        style="PlainText"
        vq="gzlvl6"
        vc="gzlvl6=$VALUE"
        set="$VALUE=gzlvl6"
        show="exists('gzlvl6','parameter'):$VALUE"
        digits="0"
        />
      <entry loc="72 128" size="48 24"
        style="PlainText"
        vq="gzlvl4"
        vc="gzlvl4=$VALUE"
        set="$VALUE=gzlvl4"
        show="exists('gzlvl4','parameter'):$VALUE"
        digits="0"
        />
      <label loc="88 16" size="72 16"
        style="Label3"
        label="DAC"
        />
      <entry loc="72 104" size="48 24"
        style="PlainText"
        vq="gzlvl3"
        vc="gzlvl3=$VALUE"
        set="$VALUE=gzlvl3"
        show="exists('gzlvl3','parameter'):$VALUE"
        digits="0"
        />
      <entry loc="72 80" size="48 24"
        style="PlainText"
        vq="gzlvl2"
        vc="gzlvl2=$VALUE"
        set="$VALUE=gzlvl2"
        show="exists('gzlvl2','parameter'):$VALUE"
        digits="0"
        />
      <entry loc="72 56" size="48 24"
        style="PlainText"
        vq="gzlvl1"
        vc="gzlvl1=$VALUE"
        set="$VALUE=gzlvl1"
        show="exists('gzlvl1','parameter'):$VALUE"
        digits="0"
        />
      <entry loc="72 32" size="48 24"
        style="PlainText"
        vq="gzlvl0"
        vc="gzlvl0=$VALUE"
        set="$VALUE=gzlvl0"
        show="exists('gzlvl0','parameter'):$VALUE"
        digits="0"
        />
      <label loc="16 152" size="40 24"
        style="PlainText"
        label="gzlvl6"
        />
      <label loc="16 104" size="40 24"
        style="PlainText"
        label="gzlvl3"
        />
      <label loc="16 128" size="40 24"
        style="PlainText"
        label="gzlvl4"
        />
      <label loc="16 80" size="40 24"
        style="PlainText"
        label="gzlvl2"
        />
      <label loc="16 56" size="40 24"
        style="PlainText"
        label="gzlvl1"
        />
      <label loc="16 32" size="40 24"
        style="PlainText"
        label="gzlvl0"
        />
      <label loc="8 8" size="80 24"
        style="Heading2"
        label="Gradients"
        />
    </group>
    <label loc="325 245" size="95 20"
      style="PlainText"
      label="Pulse Width (us)"
      />
    <entry loc="420 245" size="50 20"
      style="PlainText"
      vq="pwCshp"
      vc="pwCshp=$VALUE"
      set="$VALUE=pwCshp"
      digits="0"
      tooltip="pwCshp"
      />
    <entry loc="420 220" size="50 20"
      style="PlainText"
      vq="pwCshp_lvl"
      vc="pwCshp_lvl=$VALUE"
      set="$VALUE=pwCshp_lvl"
      digits="0"
      tooltip="pwCshp_lvl"
      />
    <label loc="325 195" size="85 20"
      style="PlainText"
      label="Shape"
      />
    <label loc="325 220" size="85 20"
      style="PlainText"
      label="Power"
      />
    <entry loc="420 195" size="120 20"
      style="PlainText"
      vq="Cshape"
      vc="Cshape='$VALUE'"
      set="$VALUE=Cshape"
      digits="0"
      tooltip="Cshape"
      />
    <button loc="190 220" size="70 25"
      style="PlainText"
      label="Optimize"
      vq="tpwrsf_d ni phase"
      vc="array('tpwrsf_d',20,3900,-50) ni=1 phase=1 nt=2 wnt='wft dssh' wexp='' au"
      bg="transparent"
      decor1="no"
      />
    <button loc="190 245" size="70 25"
      style="PlainText"
      label="Optimize"
      vq="tpwrsf_u ni phase"
      vc="array('tpwrsf_u',20,2800,-50)  ni=1 phase=1 nt=2 wnt='wft dssh' wexp='' au"
      bg="transparent"
      decor1="no"
      />
    <entry loc="135 220" size="50 20"
      style="PlainText"
      vq="tpwrsf_d"
      vc="tpwrsf_d=$VALUE"
      set="$VALUE=tpwrsf_d"
      show="if tpwrsf_d&lt;4095.0 then $VALUE=1 else $VALUE=0 endif"
      digits="0"
      tooltip="tpwrsf_d"
      />
    <entry loc="135 245" size="50 20"
      style="PlainText"
      vq="tpwrsf_u"
      vc="tpwrsf_u=$VALUE"
      set="$VALUE=tpwrsf_u"
      show="if tpwrsf_u&lt;4095.0 then $VALUE=1 else $VALUE=0 endif"
      digits="0"
      tooltip="tpwrsf_u"
      />
    <label loc="25 245" size="85 20"
      style="PlainText"
      label="Fine Power(u)"
      />
    <label loc="25 220" size="85 20"
      style="PlainText"
      label="Fine Power(d)"
      />
    <label loc="25 195" size="90 25"
      style="PlainText"
      label="Flipback Width"
      vq="wet"
      />
    <entry loc="135 195" size="50 20"
      style="PlainText"
      vq="pwHs"
      vc="pwHs=[$VALUE]*1e3"
      set="$VALUE=pwHs/1.0e3"
      digits="3"
      tooltip="pwHs=[$VALUE]*1e3"
      />
    <label loc="10 5" size="295 25"
      style="Heading2"
      label="15N-1H TROSY options"
      />
    <group loc="10 35" size="235 100"
      label="15N-1H Multiplet Component"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      >
      <label loc="25 5" size="200 25"
        style="Label1"
        label="15N-1H multiplet component"
        />
      <radio loc="110 65" size="110 25"
        style="Heading1"
        label="Lower Right"
        vq="peak"
        vc="peak='LR'"
        set="$VALUE=0 if (peak='LR') then $VALUE=1 endif"
        tooltip="peak='LR'"
        />
      <radio loc="110 40" size="105 25"
        style="PlainText"
        label="Upper Right"
        vq="peak"
        vc="peak='UR'"
        set="$VALUE=0 if (peak='UR') then $VALUE=1 endif"
        tooltip="peak='UR'"
        />
      <radio loc="20 65" size="105 25"
        style="PlainText"
        label="Lower Left"
        vq="peak"
        vc="peak='LL'"
        set="$VALUE=0 if (peak='LL') then $VALUE=1 endif"
        tooltip="peak='LL'"
        />
      <radio loc="20 40" size="100 25"
        style="PlainText"
        label="Upper Left"
        vq="peak"
        vc="peak='UL'"
        set="$VALUE=0 if (peak='UL') then $VALUE=1 endif"
        tooltip="peak='UL'"
        />
    </group>
  </group>
</template>
