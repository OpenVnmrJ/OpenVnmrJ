<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="PulseSequence" element="pages" type="acquisition" >
  <group size="785 255"
    style="PlainText"
    label="Pulse Sequence"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="PulseSequence"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <group loc="425 145" size="280 105"
      style="Label1"
      label="Watergate"
      vq="flag3919"
      show="if flag3919='y' then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      >
      <entry loc="176 40" size="56 24"
        style="PlainText"
        vq="tau gt1 pw gstab1 d3 gstab flag3919"
        vc="tau=([$VALUE]*1e-3 -2*gt1-4.77*pw*1e-6-gstab-5.0*d3-gstab)/2.0"
        set="$VALUE=(2.0*tau+2*gt1+4.77*pw*1e-6+gstab+gstab+5*d3)*1e3"
        show="if flag3919='y' then $VALUE=1 else $VALUE=0 endif"
        digits="3"
        tooltip="tau"
        />
      <entry loc="176 64" size="56 24"
        style="PlainText"
        vq="d3 flag3919"
        vc="d3=$VALUE/1e6"
        set="$VALUE=d3*1e6"
        show="if flag3919='y' then $VALUE=1 else $VALUE=0 endif"
        digits="1"
        tooltip="d3=$VALUE/1e6"
        />
      <label loc="16 64" size="128 24"
        style="PlainText"
        label="3919 Delay (usec)"
        />
      <label loc="16 40" size="152 24"
        style="PlainText"
        label="Spin Echo Time (msec)"
        />
    </group>
    <group loc="260 0" size="520 240"
      style="PlainText"
      vq="wet"
      show="if (wet='yy'  or wet='yn' or wet='ny') then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="WETwroesy"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      >
      <selmenu loc="10 10" size="200 25"
        style="Heading2"
        label="Set WET Mode"
        vc="exec('$VALUE')"
        bg="VJBackground"
        editable="No"
        tooltip="wet"
        >
        <mlabel 
          label="WET In Relax Delay Only"
          chval="wet=`yn`"
          />
        <mlabel 
          label="WET After Mix Only"
          chval="wet=`ny`"
          />
        <mlabel 
          label="WET In Both"
          chval="wet=`yy`"
          />
        <mlabel 
          label="WET In Neither"
          chval="wet=`nn`"
          />
      </selmenu>
      <group loc="8 168" size="208 32"
        style="PlainText"
        vq="autosoft"
        show="if autosoft='y' then $VALUE=0 else $VALUE=1 endif"
        bg="transparent"
        border="None"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <button loc="0 0" size="200 24"
          style="Heading1"
          label="Optimize WET Parameters"
          vq="autosoft"
          vc="if autosoft='n' then BPautoWet(1) endif"
          bg="VJBackground"
          decor1="yes"
          tooltip="BPautoWet(1) "
          />
      </group>
      <entry loc="344 208" size="40 24"
        style="PlainText"
        vq="dz wet"
        vc="dz=$VALUE/1e6"
        set="$VALUE=dz*1e6"
        show="if (wet='yy' or wet='yn' or wet='ny') then $VALUE=1 else $VALUE=0 endif"
        digits="1"
        />
      <label loc="224 208" size="128 24"
        style="PlainText"
        label="WEFT Delay (usec)"
        />
      <group loc="232 8" size="280 184"
        style="Label2"
        label="WET Gradients"
        bg="transparent"
        border="Etched"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="40 152" size="72 24"
          style="PlainText"
          vq="gzcal wet"
          vc="gzcal=$VALUE"
          set="$VALUE=gzcal"
          show="if (wet='yy' or wet='yn' or wet='ny') then $VALUE=1 else $VALUE=0 endif"
          digits="6"
          tooltip="gzcal"
          />
        <label loc="8 128" size="256 24"
          style="PlainText"
          label="Gradient Calibration (G/cm per DAC value)"
          />
        <entry loc="176 88" size="48 24"
          style="PlainText"
          vq="gswet wet"
          vc="gswet=$VALUE/1e6"
          set="$VALUE=gswet*1e6"
          show="if (wet='yy' or wet='yn' or wet='ny') then $VALUE=1 else $VALUE=0 endif"
          digits="1"
          tooltip="gswet=$VALUE/1e6"
          />
        <label loc="32 88" size="160 24"
          style="PlainText"
          label="Stabilization Time (usec)"
          />
        <label loc="200 32" size="40 24"
          style="PlainText"
          label="G/cm"
          />
        <entry loc="152 32" size="48 24"
          style="PlainText"
          vq="gzlvlw wet gzcal"
          vc="gzlvlw=$VALUE/gzcal"
          set="$VALUE=gzlvlw*gzcal"
          show="if (wet='yy' or wet='yn' or wet='ny') then $VALUE=1 else $VALUE=0 endif"
          digits="3"
          />
        <label loc="136 32" size="16 24"
          style="PlainText"
          label="or"
          />
        <entry loc="80 56" size="48 24"
          style="PlainText"
          vq="gtw wet"
          vc="gtw=$VALUE/1000"
          set="$VALUE=gtw*1000"
          show="if (wet='yy' or wet='yn' or wet='ny') then $VALUE=1 else $VALUE=0 endif"
          digits="3"
          tooltip="gtw=$VALUE/1000"
          />
        <entry loc="80 32" size="48 24"
          style="PlainText"
          vq="gzlvlw wet"
          vc="gzlvlw=$VALUE"
          set="$VALUE=gzlvlw"
          show="if (wet='yy' or wet='ny' or wet='yn') then $VALUE=1 else $VALUE=0 endif"
          digits="0"
          tooltip="gzlvlw"
          />
        <label loc="8 56" size="88 24"
          style="PlainText"
          label="Time (msec)"
          />
        <label loc="8 32" size="64 24"
          style="PlainText"
          label="Amplitude"
          />
      </group>
      <group loc="8 40" size="184 128"
        style="Label2"
        label="WET RF"
        bg="transparent"
        border="Etched"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <group loc="8 64" size="168 48"
          style="PlainText"
          vq="autosoft"
          show="if autosoft='y' then $VALUE=0 else $VALUE=1 endif"
          border="None"
          side="Top"
          justify="Left"
          tab="no"
          enable="no"
          useref="no"
          subtype="Untitled"
          >
          <entry loc="120 24" size="48 24"
            style="PlainText"
            vq="wetpwr wet autosoft"
            vc="wetpwr=$VALUE"
            set="$VALUE=wetpwr"
            show="if ((wet='yy'  or wet='yn' or wet='ny') and autosoft='n') then $VALUE=1 else $VALUE=0 endif"
            digits="2"
            tooltip="wetpwr"
            />
          <entry loc="88 0" size="80 24"
            style="PlainText"
            vq="wetshape wet autosoft"
            vc="wetshape='$VALUE'"
            set="$VALUE=wetshape"
            show="if ((wet='yy' or wet='yn' or wet='ny') and autosoft='n') then $VALUE=1 else $VALUE=0 endif"
            tooltip="wetshape"
            />
          <label loc="0 24" size="64 24"
            style="PlainText"
            label="Power"
            justify="Left"
            />
          <label loc="0 0" size="64 24"
            style="PlainText"
            label="Shape"
            justify="Left"
            />
        </group>
        <entry loc="120 40" size="56 24"
          style="PlainText"
          vq="wetpw wet"
          vc="wetpw=[$VALUE]*1e3"
          set="$VALUE=wetpw/1000"
          show="if (wet='yy'  or wet='yn' or wet='ny') then $VALUE=1 else $VALUE=0 endif"
          digits="3"
          tooltip="wetpw=[$VALUE]*1e3"
          />
        <label loc="8 40" size="88 24"
          style="PlainText"
          label="Width (msec)"
          justify="Left"
          />
        <check loc="56 16" size="104 24"
          style="Heading4"
          label="Automatic"
          vq="autosoft"
          vc="autosoft='y'"
          vc2="autosoft='n'"
          set="if autosoft='y' then $VALUE=1 else $VALUE=0 endif"
          tooltip="autosoft='y'"
          />
      </group>
      <entry loc="144 208" size="40 24"
        style="PlainText"
        vq="d1 wet"
        vc="d1=$VALUE"
        set="$VALUE=d1"
        show="if (wet='yy' or wet='yn' or wet='ny' ) then $VALUE=1 else $VALUE=0 endif"
        digits="3"
        />
      <label loc="8 208" size="144 24"
        style="PlainText"
        label="Relaxation Delay (sec)"
        />
    </group>
    <selmenu loc="5 10" size="240 25"
      style="Heading4"
      label="Select Suppression Mode"
      vc="exec('$VALUE')"
      bg="VJBackground"
      editable="No"
      >
      <mlabel 
        label="WET"
        chval="wet=`ny` satmode=`n` flag3919=`n`"
        />
      <mlabel 
        label="3919 WATERGATE"
        chval="wet=`nn` flag3919=`y` satmode=`n`"
        />
      <mlabel 
        label="PRESAT"
        chval="wet=`nn` flag3919=`n` satmode=`y`"
        />
      <mlabel 
        label="No Water Suppression"
        chval="wet=`nn` flag3919=`n` satmode=`n`"
        />
    </selmenu>
    <check loc="15 185" size="150 25"
      style="Label1"
      label="Alternate Gradients"
      vq="alt_grd"
      vc="alt_grd='y'"
      vc2="alt_grd='n'"
      set="if alt_grd='y' then $VALUE=1 else $VALUE=0 endif"
      tooltip="alt_grd='y'"
      />
    <check loc="15 165" size="150 25"
      style="Label1"
      label="Steady-State Pulse"
      vq="sspul"
      vc="sspul='y'"
      vc2="sspul='n'"
      set="if sspul='y' then $VALUE=1 else $VALUE=0 endif"
      tooltip="sspul='y'"
      />
    <label loc="15 210" size="35 25"
      style="PlainText"
      label="rof1:"
      />
    <entry loc="55 210" size="40 25"
      style="PlainText"
      vq="rof1"
      vc="rof1=$VALUE"
      set="$VALUE=rof1"
      digits="1"
      />
    <label loc="100 210" size="30 25"
      style="PlainText"
      label="rof2:"
      />
    <entry loc="135 210" size="40 25"
      style="PlainText"
      vq="rof2"
      vc="rof2=$VALUE"
      set="$VALUE=rof2"
      digits="1"
      />
    <label loc="180 210" size="30 25"
      style="PlainText"
      label="alfa:"
      />
    <entry loc="215 210" size="40 25"
      style="PlainText"
      vq="alfa"
      vc="alfa=$VALUE"
      set="$VALUE=alfa"
      digits="1"
      />
    <group loc="8 40" size="240 88"
      style="Label2"
      label="ROESY"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      >
      <label loc="7 35" size="90 25"
        style="PlainText"
        label="Strength (Hz)"
        />
      <entry loc="97 35" size="50 25"
        style="PlainText"
        vq="strength"
        vc="strength=$VALUE"
        set="$VALUE=strength"
        digits="0"
        tooltip="strength"
        />
      <entry loc="97 10" size="50 25"
        style="PlainText"
        vq="mix"
        vc="mix=$VALUE"
        set="$VALUE=mix"
        digits="4"
        tooltip="mix"
        />
      <label loc="7 10" size="90 25"
        style="PlainText"
        label="Mix Time (sec)"
        />
      <check loc="142 60" size="80 20"
        style="PlainText"
        label="T-Roesy"
        vq="T_flg"
        vc="T_flg='y'"
        vc2="T_flg='n'"
        set="if T_flg='y' then $VALUE=1 else $VALUE=0 endif"
        tooltip="T_flg='y'"
        />
      <check loc="12 60" size="120 20"
        style="PlainText"
        label="Z-Filter After Mix"
        vq="zfilt"
        vc="zfilt='y'"
        vc2="zfilt='n'"
        set="if zfilt='y' then $VALUE=1 else $VALUE=0 endif"
        tooltip="zfilt='y'"
        />
    </group>
    <group loc="424 8" size="280 128"
      style="Label1"
      label="Presat"
      vq="satmode"
      show="if satmode='y' then $VALUE=1 else $VALUE=0 endif"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      >
      <entry loc="80 88" size="80 24"
        style="PlainText"
        vq="satdly satmode"
        vc="satdly=$VALUE"
        set="$VALUE=satdly"
        show="if satmode='y' then $VALUE=1 else $VALUE=0 endif"
        digits="3"
        tooltip="satdly"
        />
      <entry loc="80 64" size="80 24"
        style="PlainText"
        vq="satfrq satmode"
        vc="satfrq=$VALUE"
        set="$VALUE=satfrq"
        show="if satmode='y' then $VALUE=1 else $VALUE=0 endif"
        digits="1"
        tooltip="satfrq"
        />
      <entry loc="80 40" size="80 24"
        style="PlainText"
        vq="satpwr satmode"
        vc="satpwr=$VALUE"
        set="$VALUE=satpwr"
        show="if satmode='y' then $VALUE=1 else $VALUE=0 endif"
        digits="0"
        tooltip="satpwr"
        />
      <label loc="8 88" size="64 24"
        style="PlainText"
        label="Duration"
        />
      <label loc="8 64" size="64 24"
        style="PlainText"
        label="Offset"
        />
      <label loc="8 40" size="64 24"
        style="PlainText"
        label="Power"
        />
    </group>
  </group>
</template>
