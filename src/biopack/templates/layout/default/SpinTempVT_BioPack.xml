<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="SpinTempVT_BioPack" element="pages" type="sample" >
  <group size="815 210"
    style="PlainText"
    label="Spin&amp;Temp"
    vq="system BPclassic"
    show="$VALUE = (system = 'spectrometer') if BPclassic='n' then $VALUE=0 endif"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="SpinTempVT_BioPack"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <group loc="240 0" size="280 205"
      style="PlainText"
      label="Temperature"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="yes"
      enable="no"
      reference="smalltemp"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      >
      <check loc="10 185" size="260 25"
        style="Label2"
        label="Control temperature from this panel only"
        vc="vnmrinfo('set','tempExpControl',0)"
        vc2="vnmrinfo('set','tempExpControl',1)"
        set="vnmrinfo('get','tempExpControl'):$e $VALUE=1-$e"
        />
      <group loc="5 125" size="200 55"
        style="PlainText"
        bg="transparent"
        border="None"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <radio loc="0 32" size="184 16"
          style="PlainText"
          label="Ignore temperature errors"
          vq="tin"
          vc="tin='n' vnmrinfo('set','tempErrorControl',0)"
          set="vnmrinfo('get','tempErrorControl'):$e $VALUE = ($e=0)"
          />
        <radio loc="0 16" size="184 16"
          style="PlainText"
          label="Issue warning on error"
          vq="tin"
          vc="tin='w' vnmrinfo('set','tempErrorControl',2)"
          set="vnmrinfo('get','tempErrorControl'):$e $VALUE = ($e=2)"
          />
        <radio loc="0 0" size="184 16"
          style="PlainText"
          label="Abort experiment on error"
          vq="tin"
          vc="tin='y' vnmrinfo('set','tempErrorControl',1)"
          set="vnmrinfo('get','tempErrorControl'):$e $VALUE = ($e=1)"
          />
      </group>
      <textmessage loc="230 95" size="40 25"
        style="PlainText"
        label="25"
        vq="vtc"
        set="$VALUE=vtc"
        />
      <label loc="190 95" size="30 25"
        style="Label1"
        label="vtc:"
        />
      <textmessage loc="135 95" size="40 25"
        style="PlainText"
        statpar="vtval"
        />
      <label loc="10 95" size="130 25"
        style="PlainText"
        label="Current temperature:"
        justify="Left"
        />
      <parameter loc="10 70" size="255 25"
        style="PlainText"
        label="For more precision:"
        vq="temp"
        bg="transparent"
        tab="no"
        vq2="temp"
        digits="1"
        entryvalue="$VALUE=temp"
        entrycmd="vnmrinfo('set','tempExpControl',1) temp=$VALUE  on('temp') sethw('temp',temp):$e vnmrinfo('set','tempExpControl',0)"
        entrysize="40"
        unitsenabled="Label"
        unitssize="60"
        enable="no"
        reference="parameter"
        useref="no"
        disable="Grayed out"
        subtype="Untitled"
        expanded="yes"
        >
        <label loc="0 0" size="149 20"
          style="PlainText"
          label="For more precision:"
          vq="temp temp"
          subtype="parameter"
          />
        <entry loc="153 0" size="40 20"
          style="PlainText"
          vq="temp temp"
          vc="vnmrinfo('set','tempExpControl',1) temp=$VALUE  on('temp') sethw('temp',temp):$e vnmrinfo('set','tempExpControl',0)"
          set="$VALUE=temp"
          digits="1"
          disable="Grayed out"
          subtype="parameter"
          />
        <check loc="134 1" size="17 17"
          style="PlainText"
          vq="temp temp"
          subtype="parameter"
          />
        <label loc="195 0" size="60 20"
          style="PlainText"
          vq="temp temp"
          key="units"
          subtype="parameter"
          />
      </parameter>
      <slider loc="0 48" size="256 24"
        style="PlainText"
        vq="temp"
        vc="setvalue('temp',$VALUE)"
        set="$VALUE=temp"
        digital="true"
        min="0"
        max="50"
        incr1="1"
        incr2="1"
        digits="4"
        />
      <button loc="0 24" size="216 24"
        style="PlainText"
        label="Regulate Temperature at this Value:"
        vq="temp"
        vc="on('temp') sethw('temp',temp):$e"
        bg="VJBackground"
        decor1="yes"
        />
      <label loc="8 0" size="104 24"
        style="Heading2"
        label="Temperature"
        justify="Left"
        />
    </group>
    <check loc="10 185" size="230 25"
      style="Label2"
      label="Control spinning from this panel only"
      vq="in"
      vc="vnmrinfo('set','spinExpControl',0) in=in"
      vc2="vnmrinfo('set','spinExpControl',1) in=in"
      set="vnmrinfo('get','spinExpControl'):$e $VALUE=1-$e"
      />
    <group loc="10 125" size="215 55"
      style="PlainText"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      >
      <radio loc="0 32" size="184 16"
        style="PlainText"
        label="Ignore spinner errors"
        vq="in"
        vc="substr(in,2,1,'n'):in vnmrinfo('set','spinErrorControl',0)"
        set="vnmrinfo('get','spinErrorControl'):$e $VALUE = ($e=0)"
        />
      <radio loc="0 16" size="184 16"
        style="PlainText"
        label="Issue warning on error"
        vq="in"
        vc="substr(in,2,1,'w'):in vnmrinfo('set','spinErrorControl',2)"
        set="vnmrinfo('get','spinErrorControl'):$e $VALUE = ($e=2)"
        />
      <radio loc="0 0" size="184 16"
        style="PlainText"
        label="Abort experiment on error"
        vq="in"
        vc="substr(in,2,1,'y'):in vnmrinfo('set','spinErrorControl',1)"
        set="vnmrinfo('get','spinErrorControl'):$e $VALUE = ($e=1)"
        />
    </group>
    <textmessage loc="135 95" size="50 25"
      style="PlainText"
      statpar="spinval"
      />
    <label loc="25 95" size="105 25"
      style="PlainText"
      label="Current spin rate:"
      justify="Left"
      />
    <button loc="70 70" size="80 25"
      style="PlainText"
      label="Turn Off"
      vc="off('spin') sethw('spinner','off'):$e"
      bg="VJBackground"
      decor1="no"
      />
    <group loc="528 72" size="232 72"
      vq="spintype Console"
      show="$SHOW=(((spintype='liquids')or(spintype='nano')) and (Console='vnmrs'))"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="l/min."
      useref="no"
      subtype="Minor"
      expanded="yes"
      >
      <button loc="10 40" size="210 20"
        style="Label2"
        label="Reset Pneumatics if in Fault State"
        vc="sethw('pneufault','clear'):$e"
        bg="VJBackground"
        decor1="no"
        />
      <label loc="8 0" size="72 24"
        style="Label1"
        label="VT Air Flow:"
        />
      <spinner loc="80 0" size="48 24"
        style="PlainText"
        vq="vtairflow"
        vc="sethw('vtairflow',$VALUE,'nowait') vtairflow=$VALUE"
        set="$VALUE=vtairflow"
        digital="true"
        min="7.0"
        max="25.0"
        incr1="1.0"
        />
      <label loc="128 0" size="40 24"
        style="Label1"
        label="l/min."
        />
      <button loc="168 0" size="40 24"
        style="PlainText"
        label="Off"
        vq="vtairflow"
        vc="sethw('vtairflow',0) vtairflow=0"
        bg="VJBackground"
        decor1="no"
        />
    </group>
    <button loc="536 40" size="216 24"
      style="Label2"
      label="Reset VT Unit (typ. with probe change)"
      vc="sethw('vt','reset'):$e"
      bg="VJBackground"
      decor1="no"
      />
    <button loc="536 8" size="216 24"
      style="Label2"
      label="Turn Off VT Unit"
      vq="temp"
      vc="sethw('vt','off'):$e vnmrinfo('set','tempOnOff',0) off('temp')"
      bg="VJBackground"
      decor1="no"
      />
    <slider loc="24 48" size="192 24"
      style="PlainText"
      vq="spin"
      vc="setvalue('spin','$VALUE') on('spin'):$e if ($e=1) then sethw('spin',spin) endif"
      set="$VALUE=spin"
      digital="true"
      min="0"
      max="39"
      />
    <button loc="24 24" size="200 24"
      style="PlainText"
      label="Regulate Spinning at this Value:"
      vq="spin"
      vc="on('spin') sethw('spin',spin):$e"
      bg="VJBackground"
      decor1="no"
      />
    <label loc="0 0" size="88 24"
      style="Heading2"
      label="Spinner"
      justify="Left"
      />
  </group>
</template>
