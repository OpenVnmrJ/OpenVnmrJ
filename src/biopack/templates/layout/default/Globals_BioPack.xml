<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="Globals_BioPack" element="pages" type="sample" >
  <group size="830 215"
    style="PlainText"
    label="Globals&amp;Probefile"
    vq="panellevel cppauseflg customflag"
    show="$VALUE = ((panellevel &gt; 29) and (cppauseflg='n') and (customflag='n'))"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="Globals_BioPack"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    rows="1"
    columns="1"
    >
    <button loc="190 5" size="65 25"
      style="PlainText"
      label="Manual"
      vc="clear man('BPglobals')"
      bg="transparent"
      decor1="no"
      halignment="Center"
      valignment="Center"
      />
    <group loc="10 175" size="465 40"
      vq="seqfil"
      show="if seqfil='ghn_co' then $SHOW=1 else $SHOW=0 endif"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      rows="1"
      columns="1"
      >
      <button loc="0 10" size="325 25"
        style="PlainText"
        label="Update with Parameter Values in this Parameter Set"
        vc="BPbiopack2"
        bg="VJBackground"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <button loc="345 10" size="105 25"
        style="PlainText"
        label="Show/Print List"
        vc="BPlist"
        bg="VJBackground"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
    </group>
    <label loc="490 180" size="210 25"
      style="PlainText"
      label="Default 1H/13C Spinlock Field (Hz)"
      justify="Left"
      />
    <entry loc="705 180" size="40 25"
      style="PlainText"
      vq="BP1Hspinlock BPtpwrspinlock BPpwrlimits"
      vc="BP1Hspinlock=$VALUE if BPpwrlimits=1 then if BP1Hspinlock&gt;BPtpwrspinlock then BP1Hspinlock=BPtpwrspinlock endif endif BPhhspinlock BPlimitupdate"
      set="$VALUE=BP1Hspinlock"
      digits="0"
      disable="Grayed out"
      />
    <entry loc="755 180" size="40 25"
      style="PlainText"
      vq="BPspinlock BPdpwrspinlock BPpwrlimits"
      vc="BPspinlock=$VALUE if BPpwrlimits=1 then if BPspinlock&gt;BPdpwrspinlock then BPspinlock=BPdpwrspinlock endif endif BPccspinlock BPlimitupdate"
      set="$VALUE=BPspinlock"
      digits="0"
      disable="Grayed out"
      />
    <label loc="10 140" size="120 25"
      style="Label1"
      label="Current Pulse Power"
      />
    <label loc="10 115" size="150 25"
      style="Label1"
      label="Current Pulse Width (us)"
      />
    <textmessage loc="260 140" size="25 25"
      style="PlainText"
      label="60"
      vq="pwNlvl"
      set="$VALUE=pwNlvl"
      digits="0"
      />
    <textmessage loc="215 140" size="25 25"
      style="PlainText"
      label="58"
      vq="pwClvl"
      set="$VALUE=pwClvl"
      digits="0"
      />
    <textmessage loc="170 140" size="25 25"
      style="PlainText"
      label="60"
      vq="tpwr"
      set="$VALUE=tpwr"
      digits="0"
      />
    <textmessage loc="260 115" size="30 25"
      style="PlainText"
      label="34.0"
      vq="pwN"
      set="$VALUE=pwN"
      digits="1"
      />
    <textmessage loc="215 115" size="30 25"
      style="PlainText"
      label="13.0"
      vq="pwC"
      set="$VALUE=pwC"
      digits="1"
      />
    <textmessage loc="170 115" size="30 25"
      style="PlainText"
      label="6.5"
      vq="pw"
      set="$VALUE=pw"
      digits="1"
      />
    <group loc="305 90" size="60 75"
      vq="dn3"
      show="if dn3='H2' then $SHOW=1 else $SHOW=0 endif"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      rows="1"
      columns="1"
      >
      <textmessage loc="5 50" size="25 25"
        style="PlainText"
        label="50"
        vq="dpwr3"
        set="$VALUE=dpwr3"
        digits="0"
        />
      <textmessage loc="5 25" size="45 25"
        style="PlainText"
        label="561.2"
        vq="dmf3"
        set="$VALUE=1e6/dmf3"
        digits="1"
        />
      <button loc="2 0" size="35 25"
        style="PlainText"
        label="H2"
        vc="BPH2updatepw90"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
    </group>
    <button loc="255 90" size="40 25"
      style="PlainText"
      label="N15"
      vc="BPN15updatepw90"
      bg="transparent"
      decor1="no"
      halignment="Center"
      valignment="Center"
      />
    <button loc="210 90" size="40 25"
      style="PlainText"
      label="C13"
      vc="BPC13updatepw90"
      bg="transparent"
      decor1="no"
      halignment="Center"
      valignment="Center"
      />
    <button loc="165 90" size="35 25"
      style="PlainText"
      label="H1"
      vc="BPH1updatepw90"
      bg="transparent"
      decor1="no"
      halignment="Center"
      valignment="Center"
      />
    <label loc="5 90" size="135 25"
      style="PlainText"
      label="Update Probefile for:"
      />
    <group loc="410 230" size="310 25"
      vq="maxattench1"
      show="exists('maxattench1','parameter','global'):$e if $e then $VALUE=0 else $VALUE=1 endif"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      rows="1"
      columns="1"
      >
      <button loc="8 0" size="288 24"
        style="PlainText"
        label="Activate Absolute Power Limits for each Channel"
        vc="BPmaxattench"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
    </group>
    <check loc="395 5" size="185 25"
      style="Heading2"
      label="BioPack Power Limits"
      vq="BPpwrlimits"
      vc="BPpwrlimits=1"
      vc2="BPpwrlimits=0"
      set="if BPpwrlimits then $VALUE=1 else $VALUE=0 endif"
      />
    <group loc="415 25" size="210 150"
      vq="BPpwrlimits"
      show="if BPpwrlimits=1 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="PowerLimit"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <entry loc="170 100" size="30 25"
        style="PlainText"
        vq="BPdpwr2max"
        vc="BPdpwr2max=$VALUE BPremind BPlimitupdate"
        set="$VALUE=BPdpwr2max"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="170 125" size="30 25"
        style="PlainText"
        vq="BPdpwr3max"
        vc="BPdpwr3max=$VALUE BPremind BPlimitupdate"
        set="$VALUE=BPdpwr3max"
        digits="0"
        disable="Grayed out"
        />
      <label loc="10 100" size="200 25"
        style="PlainText"
        label="15N Decoupling Power"
        justify="Left"
        />
      <entry loc="160 75" size="40 25"
        style="PlainText"
        vq="BPdpwrspinlock"
        vc="BPdpwrspinlock=$VALUE BPremind BPlimitupdate"
        set="$VALUE=BPdpwrspinlock"
        digits="0"
        disable="Grayed out"
        />
      <label loc="10 75" size="170 25"
        style="PlainText"
        label="13C Spinlock Field (Hz)"
        justify="Left"
        />
      <entry loc="160 50" size="40 25"
        style="PlainText"
        vq="BPtpwrspinlock"
        vc="BPtpwrspinlock=$VALUE BPremind BPlimitupdate"
        set="$VALUE=BPtpwrspinlock"
        digits="0"
        disable="Grayed out"
        />
      <label loc="10 50" size="170 25"
        style="PlainText"
        label="1H Spinlock Field (Hz)"
        justify="Left"
        />
      <label loc="10 25" size="140 25"
        style="PlainText"
        label="13C Decoupling Power"
        justify="Left"
        />
      <entry loc="170 25" size="30 25"
        style="PlainText"
        vq="BPdpwrmax"
        vc="BPdpwrmax=$VALUE BPremind BPlimitupdate"
        set="$VALUE=BPdpwrmax"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="170 0" size="30 25"
        style="PlainText"
        vq="BPtpwrmax"
        vc="BPtpwrmax=$VALUE BPremind BPlimitupdate"
        set="$VALUE=BPtpwrmax"
        digits="0"
        disable="Grayed out"
        />
      <label loc="10 0" size="150 25"
        style="PlainText"
        label="1H Observe Power"
        justify="Left"
        />
      <label loc="10 125" size="210 25"
        style="Label1"
        label="2H Decoupling Power"
        />
    </group>
    <group loc="635 5" size="185 170"
      vq="maxattench1"
      show="exists('maxattench1','parameter','global'):$e if $e then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="PowerLimit"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <group loc="5 120" size="180 25"
        show="if numrfch&gt;4 then $VALUE=1 else $VALUE=0 endif"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        rows="1"
        columns="1"
        >
        <entry loc="140 0" size="30 20"
          style="PlainText"
          vq="maxattench5"
          vc="maxattench5=$VALUE"
          set="$VALUE=maxattench5"
          digits="0"
          disable="Grayed out"
          />
        <label loc="5 0" size="130 25"
          style="PlainText"
          label="Channel 5 Attenuator:"
          justify="Left"
          />
      </group>
      <group loc="0 95" size="185 25"
        vq="numrfch"
        show="if numrfch&gt;3 then $VALUE=1 else $VALUE=0 endif"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        rows="1"
        columns="1"
        >
        <entry loc="145 0" size="30 25"
          style="PlainText"
          vq="maxattench4"
          vc="maxattench4=$VALUE BPlimitupdate"
          set="$VALUE=maxattench4"
          digits="0"
          disable="Grayed out"
          />
        <label loc="10 0" size="130 20"
          style="PlainText"
          label="Channel 4 Attenuator:"
          justify="Left"
          />
      </group>
      <entry loc="145 70" size="30 25"
        style="PlainText"
        vq="maxattench3"
        vc="maxattench3=$VALUE BPlimitupdate"
        set="$VALUE=maxattench3"
        digits="0"
        disable="Grayed out"
        />
      <label loc="10 70" size="135 25"
        style="PlainText"
        label="Channel 3 Attenuator:"
        justify="Left"
        />
      <entry loc="145 45" size="30 25"
        style="PlainText"
        vq="maxattench2"
        vc="maxattench2=$VALUE BPlimitupdate"
        set="$VALUE=maxattench2"
        digits="0"
        disable="Grayed out"
        />
      <label loc="10 45" size="135 25"
        style="PlainText"
        label="Channel 2 Attenuator:"
        justify="Left"
        />
      <entry loc="145 20" size="30 25"
        style="PlainText"
        vq="maxattench1"
        vc="maxattench1=$VALUE BPlimitupdate"
        set="$VALUE=maxattench1"
        digits="0"
        disable="Grayed out"
        />
      <label loc="10 20" size="135 25"
        style="PlainText"
        label="Channel 1 Attenuator:"
        justify="Left"
        />
      <label loc="0 0" size="192 24"
        style="Heading2"
        label="Maximum Power Limits"
        justify="Left"
        />
    </group>
    <button loc="215 50" size="115 25"
      style="PlainText"
      label="Update Probefile"
      vq="dof dof2"
      vc="$dofCO='' format(dof,4,1):$dofCO   BPsetparams('dofCO',$dofCO,'C13') $dofN15='' format(dof2,4,1):$dofN15   BPsetparams('dofN15',$dofN15,'N15')"
      bg="transparent"
      decor1="no"
      halignment="Center"
      valignment="Center"
      />
    <label loc="185 50" size="40 25"
      style="Label1"
      label="then,"
      />
    <button loc="80 50" size="100 25"
      style="PlainText"
      label="Cursor on DSS"
      vc="BPfindfrqs(1)"
      bg="transparent"
      decor1="no"
      halignment="Center"
      valignment="Center"
      />
    <label loc="60 50" size="25 25"
      style="Label1"
      label="or,"
      />
    <button loc="10 50" size="45 25"
      style="PlainText"
      label="Auto"
      vc="BPfindfrqs"
      bg="transparent"
      decor1="no"
      halignment="Center"
      valignment="Center"
      />
    <label loc="190 25" size="140 25"
      style="Heading2"
      label="(for 174/120 ppm)"
      justify="Left"
      />
    <label loc="10 25" size="185 25"
      style="Heading2"
      label="Find  C13 dof/N15 dof2"
      justify="Left"
      />
    <label loc="5 5" size="180 25"
      style="Heading2"
      label="For DSS in 1H Spectrum:"
      justify="Left"
      />
  </group>
</template>
