<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="Pulse Sequence" element="pages" type="acquisition" >
  <group size="820 275"
    style="PlainText"
    label="Pulse Sequence"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="Pulse Sequence"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    rows="1"
    columns="1"
    >
    <check loc="320 250" size="75 25"
      style="Label3"
      label="Dpfgse"
      vq="purge presat wet watergate jumpret shaped dpfgse"
      vc=" dpfgse='y'"
      vc2="dpfgse='n' "
      set="if (dpfgse='y') then $VALUE=1 else $VALUE=0 endif"
      tooltip="dpfgse='y' "
      />
    <group loc="600 0" size="210 230"
      style="PlainText"
      label="DPFGSE"
      vq="dpfgse"
      show="if dpfgse='y' then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Titled"
      rows="1"
      columns="1"
      >
      <group loc="8 160" size="184 72"
        vq="autosoft dpfgse"
        show="if ( dpfgse='y' and autosoft='n') then $VALUE=1 else $VALUE=0 endif"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        rows="1"
        columns="1"
        >
        <label loc="0 0" size="184 24"
          style="PlainText"
          label="H2O 180-degree pulse shape"
          />
        <entry loc="110 50" size="30 20"
          style="PlainText"
          vq="pwpwr dpfgse pw"
          vc="pwpwr=$VALUE"
          set="$VALUE=pwpwr"
          show="if (dpfgse='y' and pwshape&lt;&gt;'') then $VALUE=1 else $VALUE=0 endif"
          digits="0"
          disable="Grayed out"
          tooltip="pwpwr"
          />
        <label loc="10 50" size="65 20"
          style="PlainText"
          label="at Power"
          />
        <entry loc="25 25" size="120 25"
          style="PlainText"
          vq="pwshape dpfgse pw"
          vc="pwshape='$VALUE'"
          set="$VALUE=pwshape"
          show="if (dpfgse='y' and pwshape&lt;&gt;'') then $VALUE=1 else $VALUE=0 endif"
          disable="Grayed out"
          tooltip="pwshape"
          />
      </group>
      <check loc="16 128" size="160 24"
        style="PlainText"
        label="Soggy"
        vq="soggy"
        vc="soggy='y'"
        vc2="soggy='n'"
        set="if (dpfgse='y' and soggy='y') then $VALUE=1 else $VALUE=0 endif"
        tooltip="soggy='y'"
        />
      <entry loc="145 105" size="45 20"
        style="PlainText"
        vq="gstab"
        vc="gstab=$VALUE"
        set="$VALUE=gstab"
        digits="6"
        disable="Grayed out"
        />
      <label loc="110 105" size="35 20"
        style="PlainText"
        label="gstab"
        />
      <entry loc="145 85" size="45 20"
        style="PlainText"
        vq="gt1"
        vc="gt1=$VALUE"
        set="$VALUE=gt1"
        digits="6"
        disable="Grayed out"
        />
      <label loc="110 85" size="35 20"
        style="PlainText"
        label="gt1"
        />
      <entry loc="60 85" size="45 20"
        style="PlainText"
        vq="gzlvl1"
        vc="gzlvl1=$VALUE"
        set="$VALUE=gzlvl1"
        digits="0"
        disable="Grayed out"
        />
      <label loc="15 85" size="45 20"
        style="PlainText"
        label="gzlvl1"
        />
      <label loc="15 65" size="45 20"
        style="PlainText"
        label="gzlvl0"
        />
      <entry loc="145 65" size="45 20"
        style="PlainText"
        vq="gt0"
        vc="gt0=$VALUE"
        set="$VALUE=gt0"
        digits="6"
        disable="Grayed out"
        />
      <label loc="110 65" size="35 20"
        style="PlainText"
        label="gt0"
        />
      <entry loc="60 65" size="45 20"
        style="PlainText"
        vq="gzlvl0"
        vc="gzlvl0=$VALUE"
        set="$VALUE=gzlvl0"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="120 40" size="50 20"
        style="PlainText"
        vq="flippw"
        vc="flippw=$VALUE"
        set="$VALUE=flippw"
        show="on('flippw'):$VALUE"
        digits="0"
        tooltip="flippw"
        />
      <label loc="10 40" size="110 25"
        style="PlainText"
        label="Pulse Width (usec)"
        />
      <check loc="10 20" size="160 20"
        style="PlainText"
        label="Automatic Selective 180"
        vq="dpfgse autosoft"
        vc="autosoft='y'"
        vc2="autosoft='n'"
        set="if (dpfgse='y' and autosoft='y') then $VALUE=1 else $VALUE=0 endif"
        tooltip="autosoft='y'"
        />
    </group>
    <check loc="320 155" size="95 25"
      style="Label3"
      label="Hard Pulses"
      vq="presat shaped wet watergate jumpret dpfgse purge swet"
      vc="presat='y' shaped='n' wet='n' watergate='n' jumpret='n' dpfgse='n' purge='n' swet='n'"
      vc2="presat='n'"
      set="if (presat='y') then $VALUE=1 else $VALUE=0 endif"
      tooltip="presat='y' "
      />
    <group loc="270 20" size="230 100"
      style="PlainText"
      label="Single-Frequency Saturation"
      vq="presat mfsat"
      show="if ((presat='y') and (mfsat='n')) then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="single-FrequencySaturation"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <button loc="16 64" size="200 24"
        style="Label3"
        label="Find Best Saturation Frequency"
        vq="presat shaped"
        vc="if presat='y' then BPautopresat(1) endif if shaped='y' then BPautoshaped(1) endif"
        bg="VJBackground"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <entry loc="128 40" size="32 24"
        style="PlainText"
        vq="satpwr shaped presat"
        vc="satpwr=$VALUE"
        set="$VALUE=satpwr"
        show="if (presat='y' or shaped='y') then $VALUE=1 else $VALUE=0 endif"
        digits="0"
        tooltip="satpwr"
        />
      <entry loc="128 16" size="48 24"
        style="PlainText"
        vq="satfrq presat shaped"
        vc="satfrq=$VALUE"
        set="$VALUE=satfrq"
        show="if  (presat='y' or shaped='y') then $VALUE=1 else $VALUE=0 endif"
        digits="1"
        disable="Grayed out"
        tooltip="satfrq"
        />
      <label loc="8 40" size="48 24"
        style="PlainText"
        label="Power"
        justify="Left"
        />
      <label loc="8 16" size="72 24"
        style="PlainText"
        label="Frequency"
        justify="Left"
        />
    </group>
    <group loc="280 20" size="300 100"
      style="PlainText"
      label="Multi-Frequency Saturation"
      vq="mfsat"
      show="if mfsat='y' then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="Multi-FrequencySaturation"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <button loc="160 20" size="70 20"
        style="Label3"
        label="Clear List"
        vc="mfll('new')"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <button loc="150 40" size="100 20"
        style="Label3"
        label="Add Frequency"
        vc="mfll"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <button loc="110 80" size="180 20"
        style="Label3"
        label="Instructions (see Text Output)"
        vc="man('mfpresat') "
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <button loc="110 60" size="180 20"
        style="Label3"
        label="Show List (see Text Output)"
        vc="clear cat(curexp+'/mfpresat.ll')"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <entry loc="70 60" size="30 20"
        style="PlainText"
        vq="satpwr shaped presat"
        vc="satpwr=$VALUE"
        set="$VALUE=satpwr"
        show="if (presat='y' or shaped='y') then $VALUE=1 else $VALUE=0 endif"
        digits="0"
        tooltip="satpwr"
        />
      <label loc="10 60" size="50 20"
        style="PlainText"
        label="Power"
        justify="Left"
        />
      <entry loc="72 26" size="40 24"
        style="PlainText"
        vq="satdly"
        vc="satdly=$VALUE"
        set="$VALUE=satdly"
        digits="3"
        disable="Grayed out"
        tooltip="satdly"
        />
      <label loc="8 26" size="64 24"
        style="PlainText"
        label="Time(sec)"
        />
    </group>
    <group loc="300 0" size="260 90"
      vq="purge"
      show="if purge='y' then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      rows="1"
      columns="1"
      >
      <label loc="0 0" size="192 24"
        style="Heading2"
        label="Calibrate pw90 in PURGE:"
        />
      <button loc="24 48" size="192 24"
        style="Label1"
        label="Update Probefile with this pw90"
        vc="BPH1updatepw90"
        bg="VJBackground"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <entry loc="216 24" size="32 24"
        style="PlainText"
        vq="pw pw90 compH"
        vc="pw=$VALUE pw90=pw*compH"
        set="$VALUE=pw"
        digits="2"
        />
      <label loc="120 24" size="96 24"
        style="Label1"
        label="2. Best pw is"
        justify="Left"
        />
      <button loc="24 24" size="88 24"
        style="PlainText"
        label="Find pw90"
        vc="array('pw',17,pw-1.6,0.2) wnt='wft select(1) vsadj dssh' wexp='BPautostack' au"
        bg="VJBackground"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <label loc="0 48" size="24 24"
        style="Label1"
        label="3."
        />
      <label loc="0 24" size="24 24"
        style="Label1"
        label="1."
        />
    </group>
    <group loc="555 190" size="265 70"
      vq="presat dpfgse"
      show="if ((presat='y') and (dpfgse='n')) then $SHOW=1 else $SHOW=0 endif"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      rows="1"
      columns="1"
      >
      <button loc="24 48" size="192 24"
        style="Label1"
        label="Update Probefile with this pw90"
        vc="BPH1updatepw90"
        bg="VJBackground"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <entry loc="216 24" size="32 24"
        style="PlainText"
        vq="pw pw90"
        vc="$best360=$VALUE pw=pw[$best360]/4 pw=trunc(pw*10)/10 pw90=pw"
        digits="2"
        />
      <label loc="120 24" size="96 24"
        style="Label1"
        label="2. Best Null is #"
        justify="Left"
        />
      <button loc="24 24" size="88 24"
        style="PlainText"
        label="Find pw360"
        vc="BPcheck360"
        bg="VJBackground"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <label loc="0 48" size="24 24"
        style="Label1"
        label="3."
        />
      <label loc="0 24" size="24 24"
        style="Label1"
        label="1."
        />
      <label loc="0 0" size="144 24"
        style="Heading2"
        label="Calibrate pw90:"
        />
    </group>
    <group loc="290 125" size="230 25"
      style="PlainText"
      vq="presat shaped purge"
      show="if (presat='y' or purge='y' or shaped='y') then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      rows="1"
      columns="1"
      >
      <selmenu loc="0 0" size="225 25"
        style="Label1"
        label="Set Saturation Period(s)"
        vc="exec('$VALUE')"
        bg="VJBackground"
        editable="No"
        tooltip="satmode"
        >
        <mlabel 
          label="Saturation During Relax Only"
          chval="satmode=`ynn`"
          />
        <mlabel 
          label="Saturation During Relax and D2"
          chval="satmode=`yyn`"
          />
        <mlabel 
          label="Saturation During D2 only"
          chval="satmode=`nyn`"
          />
        <mlabel 
          label="None"
          chval="satmode=`nnn`"
          />
      </selmenu>
    </group>
    <group loc="160 168" size="144 48"
      style="PlainText"
      vq="presat"
      show="if (presat='y') then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      rows="1"
      columns="1"
      >
      <group loc="16 24" size="128 24"
        style="PlainText"
        vq="scuba"
        show="if (presat='y' and scuba='y') then $VALUE=1 else $VALUE=0 endif"
        bg="transparent"
        border="None"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        rows="1"
        columns="1"
        >
        <entry loc="72 0" size="48 24"
          style="PlainText"
          vq="d3"
          vc="d3=$VALUE"
          set="$VALUE=d3"
          digits="6"
          />
        <label loc="0 0" size="64 24"
          style="PlainText"
          label="delay(d3)"
          />
      </group>
      <check loc="0 0" size="120 24"
        style="Label3"
        label="Scuba"
        vq="scuba presat"
        vc="scuba='y'"
        vc2="scuba='n'"
        set="if ((presat='y') and (scuba='y')) then $VALUE=1 else $VALUE=0 endif"
        tooltip="scuba='y'"
        />
    </group>
    <check loc="8 168" size="120 24"
      style="Label3"
      label="Composite Pulse"
      vq="composit"
      vc="composit='y'"
      vc2="composit='n'"
      set="if (composit='y') then $VALUE=1 else $VALUE=0 endif"
      tooltip="composit='y'"
      />
    <check loc="8 192" size="136 24"
      style="Label3"
      label="Steady-State Pulse"
      vq="sspul "
      vc=" sspul='y'"
      vc2="sspul='n'"
      set="if (sspul='y' ) then $VALUE=1 else $VALUE=0 endif"
      tooltip=" sspul='y'"
      />
    <entry loc="184 216" size="48 24"
      style="PlainText"
      vq="gzlvl0"
      vc="gzlvl0=$VALUE"
      set="$VALUE=gzlvl0"
      digits="0"
      tooltip="gzlvl0"
      />
    <entry loc="184 240" size="48 24"
      style="PlainText"
      vq="rof2"
      vc="rof2=$VALUE"
      set="$VALUE=rof2"
      digits="1"
      />
    <entry loc="248 240" size="32 24"
      style="PlainText"
      vq="alfa"
      vc="alfa=$VALUE"
      set="$VALUE=alfa"
      digits="1"
      />
    <entry loc="248 216" size="32 24"
      style="PlainText"
      vq="gt0"
      vc="gt0=$VALUE/1000"
      set="$VALUE=gt0*1000"
      digits="1"
      tooltip="gt0"
      />
    <label loc="16 216" size="144 24"
      style="Label1"
      label="Homospoil:   level/msec"
      justify="Left"
      />
    <entry loc="136 240" size="40 24"
      style="PlainText"
      vq="rof1"
      vc="rof1=$VALUE"
      set="$VALUE=rof1"
      digits="1"
      />
    <label loc="16 240" size="128 24"
      style="PlainText"
      label="rof1,rof2, alfa in usec"
      />
    <group loc="280 0" size="290 20"
      vq="purge"
      show="if (purge='y') then $VALUE=0 else $VALUE=1 endif"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      rows="1"
      columns="1"
      >
      <radio loc="130 0" size="130 20"
        style="PlainText"
        label="Multiple Frequency"
        vq="mfsat"
        vc="mfsat='y'"
        vc2="mfsat='n'"
        set="if mfsat='y' then $VALUE=1 else $VALUE=0 endif"
        tooltip="mfsat='y'"
        />
      <radio loc="0 0" size="120 20"
        style="PlainText"
        label="Single Frequency"
        vq="mfsat"
        vc="mfsat='n'"
        vc2="mfsat='y'"
        set="if mfsat='n' then $VALUE=1 else $VALUE=0 endif"
        tooltip="mfsat='n'"
        />
    </group>
    <label loc="10 0" size="120 20"
      style="Heading2"
      label="Saturation"
      />
    <label loc="32 144" size="104 24"
      style="PlainText"
      label="at Frequency (tof)"
      />
    <label loc="32 120" size="96 24"
      style="PlainText"
      label="at Power (tpwr)"
      />
    <entry loc="184 144" size="48 24"
      style="PlainText"
      vq="tof"
      vc="tof=$VALUE"
      set="$VALUE=tof"
      digits="1"
      />
    <entry loc="184 120" size="32 24"
      style="PlainText"
      vq="tpwr"
      vc="tpwr=$VALUE"
      set="$VALUE=tpwr"
      digits="0"
      />
    <entry loc="184 96" size="40 24"
      style="PlainText"
      vq="pw"
      vc="pw=$VALUE"
      set="$VALUE=pw"
      show="on('pw'):$VALUE"
      digits="2"
      />
    <label loc="16 96" size="120 24"
      style="PlainText"
      label="Observe Pulse(pw)"
      />
    <entry loc="184 48" size="48 24"
      style="PlainText"
      vq="p1"
      vc="p1=$VALUE"
      set="$VALUE=p1"
      show="if p1=0 then $VALUE=0 else $VALUE=1 endif"
      digits="2"
      disable="Grayed out"
      />
    <entry loc="184 72" size="64 24"
      style="PlainText"
      vq="d2"
      vc="d2=$VALUE"
      set="$VALUE=d2"
      show="if (d2=0) then $VALUE=0 else $VALUE=1 endif"
      digits="6"
      />
    <label loc="32 72" size="136 24"
      style="PlainText"
      label="Inter-Pulse Delay (d2)"
      />
    <label loc="16 48" size="112 24"
      style="PlainText"
      label="First Pulse (p1)"
      vq="p1"
      justify="Left"
      />
    <label loc="232 24" size="40 24"
      style="PlainText"
      label="Sec."
      />
    <entry loc="184 24" size="48 24"
      style="PlainText"
      vq="d1 presat shaped"
      vc="d1=$VALUE"
      set="$VALUE=d1"
      digits="3"
      tooltip="d1"
      />
    <label loc="16 24" size="168 24"
      style="PlainText"
      label="Saturation/Relaxation Delay"
      />
  </group>
</template>
