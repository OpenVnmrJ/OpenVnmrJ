<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="SATURATION" element="pages" type="acquisition" >
  <group size="820 275"
    style="PlainText"
    label="SATURATION"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="SATURATION"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    rows="1"
    columns="1"
    >
    <check loc="320 225" size="65 25"
      style="Label3"
      label="Flipsy"
      vq="purge flipsy presat wet watergate jumpret shaped dpfgse p1 d2 seqfil  layout"
      vc="seqfil='flipsy' layout=seqfil presat='n' p1=2.0*pw d2=0 flipsy ='y' presat='n' wet='n' watergate='n' jumpret='n' shaped='n' dpfgse='n' purge='n'"
      vc2=" flipsy ='n' presat='y' p1=0 seqfil='water' layout=seqfil"
      set="if ( flipsy ='y') then $VALUE=1 else $VALUE=0 endif"
      tooltip=" flipsy ='y' "
      />
    <check loc="320 200" size="65 25"
      style="Label3"
      label="Purge"
      vq="purge presat wet watergate jumpret shaped dpfgse pslabel seqfil flipsy layout"
      vc="purge='y' presat='n' wet='n' watergate='n' jumpret='n' shaped='n' flipsy='n' dpfgse='n' seqfil='water' layout=seqfil pslabel='water_purge' acqdisp"
      vc2="purge='n' presat='y' pslabel='water' acqdisp seqfil='water' layout=seqfil"
      set="if (purge='y') then $VALUE=1 else $VALUE=0 endif"
      tooltip="purge='y' "
      />
    <check loc="320 175" size="200 25"
      style="Label3"
      label="Presat with All Pulses Shaped"
      vq="wet watergate shaped presat jumpret dpfgse purge swet pslabel seqfil flipsy layout"
      vc="shaped='y' wet='n' watergate='n' presat='n' jumpret='n' dpfgse='n' purge='n' flipsy='n' swet='n' seqfil='water' layout=seqfil pslabel='water_shaped' acqdisp"
      vc2="shaped='n' pslabel='water' acqdisp seqfil='water' layout=seqfil"
      set="if (shaped='y') then $VALUE=1 else $VALUE=0 endif"
      tooltip="shaped='y' "
      />
    <check loc="320 150" size="95 25"
      style="Label3"
      label="Hard Pulses"
      vq="presat shaped wet watergate jumpret dpfgse purge swet pslabel seqfil flipsy layout"
      vc="presat='y' shaped='n' wet='n' watergate='n' jumpret='n' dpfgse='n' flipsy='n' purge='n' swet='n' seqfil='water' pslabel='water' acqdisp"
      vc2="presat='n' pslabel='water' acqdisp seqfil='water' layout=seqfil"
      set="if (presat='y') then $VALUE=1 else $VALUE=0 endif"
      tooltip="presat='y' "
      />
    <check loc="320 250" size="145 20"
      style="Label3"
      label="Alternate Gradients"
      vq="alt_grd"
      vc="alt_grd='y' "
      vc2="alt_grd='n' "
      set="if (alt_grd='y') then $VALUE=1 else $VALUE=0 endif"
      tooltip="alt_grd='y' "
      />
    <group loc="290 125" size="230 25"
      style="PlainText"
      vq="presat shaped purge flipsy"
      show="if (presat='y' or purge='y' or flipsy='y' or shaped='y') then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      rows="1"
      columns="1"
      >
      <selmenu loc="0 0" size="225 25"
        style="Label1"
        label="Set Saturation Period(s)"
        vc="exec('$VALUE')"
        bg="VJBackground"
        editable="No"
        tooltip="satmode"
        >
        <mlabel 
          label="Saturation During Relax Only"
          chval="satmode=`ynn`"
          />
        <mlabel 
          label="Saturation During Relax and D2"
          chval="satmode=`yyn`"
          />
        <mlabel 
          label="Saturation During D2 only"
          chval="satmode=`nyn`"
          />
        <mlabel 
          label="None"
          chval="satmode=`nnn`"
          />
      </selmenu>
    </group>
    <entry loc="184 216" size="48 24"
      style="PlainText"
      vq="gzlvl1"
      vc="gzlvl1=$VALUE"
      set="$VALUE=gzlvl1"
      digits="0"
      tooltip="gzlvl1"
      />
    <entry loc="184 240" size="48 24"
      style="PlainText"
      vq="rof2"
      vc="rof2=$VALUE"
      set="$VALUE=rof2"
      digits="1"
      />
    <entry loc="248 240" size="32 24"
      style="PlainText"
      vq="alfa"
      vc="alfa=$VALUE"
      set="$VALUE=alfa"
      digits="1"
      />
    <entry loc="248 216" size="32 24"
      style="PlainText"
      vq="gt1"
      vc="gt1=$VALUE/1000"
      set="$VALUE=gt1*1000"
      digits="1"
      tooltip="gt1"
      />
    <label loc="16 216" size="144 24"
      style="Label1"
      label="gzlvl1/gt1:   level/msec"
      justify="Left"
      />
    <entry loc="136 240" size="40 24"
      style="PlainText"
      vq="rof1"
      vc="rof1=$VALUE"
      set="$VALUE=rof1"
      digits="1"
      />
    <label loc="16 240" size="128 24"
      style="PlainText"
      label="rof1,rof2, alfa in usec"
      />
    <label loc="10 0" size="120 20"
      style="Heading2"
      label="Saturation"
      />
    <label loc="32 144" size="104 24"
      style="PlainText"
      label="at Frequency (tof)"
      />
    <label loc="32 120" size="96 24"
      style="PlainText"
      label="at Power (tpwr)"
      />
    <entry loc="184 144" size="48 24"
      style="PlainText"
      vq="tof"
      vc="tof=$VALUE"
      set="$VALUE=tof"
      digits="1"
      />
    <entry loc="184 120" size="32 24"
      style="PlainText"
      vq="tpwr"
      vc="tpwr=$VALUE"
      set="$VALUE=tpwr"
      digits="0"
      />
    <entry loc="184 96" size="40 24"
      style="PlainText"
      vq="pw"
      vc="pw=$VALUE"
      set="$VALUE=pw"
      show="on('pw'):$VALUE"
      digits="2"
      />
    <label loc="16 96" size="120 24"
      style="PlainText"
      label="Observe Pulse(pw)"
      />
    <entry loc="184 48" size="48 24"
      style="PlainText"
      vq="p1"
      vc="p1=$VALUE"
      set="$VALUE=p1"
      show="if p1=0 then $VALUE=0 else $VALUE=1 endif"
      digits="2"
      disable="Grayed out"
      />
    <entry loc="184 72" size="64 24"
      style="PlainText"
      vq="d2"
      vc="d2=$VALUE"
      set="$VALUE=d2"
      show="if (d2=0) then $VALUE=0 else $VALUE=1 endif"
      digits="6"
      />
    <label loc="32 72" size="136 24"
      style="PlainText"
      label="Inter-Pulse Delay (d2)"
      />
    <label loc="16 48" size="112 24"
      style="PlainText"
      label="First Pulse (p1)"
      vq="p1"
      justify="Left"
      />
    <label loc="232 24" size="40 24"
      style="PlainText"
      label="Sec."
      />
    <entry loc="184 24" size="48 24"
      style="PlainText"
      vq="d1 presat shaped"
      vc="d1=$VALUE"
      set="$VALUE=d1"
      digits="3"
      tooltip="d1"
      />
    <label loc="16 24" size="168 24"
      style="PlainText"
      label="Saturation/Relaxation Delay"
      />
  </group>
</template>
