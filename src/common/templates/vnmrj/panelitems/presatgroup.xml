<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="presatgroup" element="groups" type="acquisition" >
  <group size="815 240"
    style="Heading1"
    border="None"
    side="Top"
    justify="Left"
    tab="no"
    enable="no"
    reference="presatgroup"
    useref="no"
    subtype="Titled"
    expanded="yes"
    rows="1"
    columns="1"
    >
    <group loc="480 0" size="330 220"
      style="Heading1"
      label="Saturation Frequencies"
      border="Etched"
      tab="no"
      enable="no"
      reference="Frequencies"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <button loc="210 190" size="65 20"
        style="Heading2"
        label="as above"
        vc="decplusfrqc[7]=decplusfrqc[6]"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <button loc="210 90" size="65 20"
        style="Heading2"
        label="as above"
        vc="decplusfrqc[2]=decplusfrqc[1]"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <button loc="210 130" size="65 20"
        style="Heading2"
        label="as above"
        vc="decplusfrqc[4]=decplusfrqc[3]"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <button loc="210 150" size="65 20"
        style="Heading2"
        label="as above"
        vc="decplusfrqc[5]=decplusfrqc[4]"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <button loc="210 170" size="65 20"
        style="Heading2"
        label="as above"
        vc="decplusfrqc[6]=decplusfrqc[5]"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <button loc="210 110" size="65 20"
        style="Heading2"
        label="as above"
        vc="decplusfrqc[3]=decplusfrqc[2]"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <entry loc="150 170" size="60 20"
        style="PlainText"
        vq="decplusfrqc dm satpluscomp"
        vc="setoffset(dn,$VALUE):decplusfrqc[6]"
        set="setppm(decplusfrqc[6],dn):$VALUE"
        show="$ENABLE=((dm='nyn' or dm='nyy') and satpluscomp&gt;5)"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="150 150" size="60 20"
        style="PlainText"
        vq="decplusfrqc dm satpluscomp"
        vc="setoffset(dn,$VALUE):decplusfrqc[5]"
        set="setppm(decplusfrqc[5],dn):$VALUE"
        show="$ENABLE=((dm='nyn' or dm='nyy') and satpluscomp&gt;4)"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="150 110" size="60 20"
        style="PlainText"
        vq="decplusfrqc dm satpluscomp"
        vc="setoffset(dn,$VALUE):decplusfrqc[3]"
        set="setppm(decplusfrqc[3],dn):$VALUE"
        show="$ENABLE=((dm='nyn' or dm='nyy') and satpluscomp&gt;2)"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="150 190" size="60 20"
        style="PlainText"
        vq="decplusfrqc dm satpluscomp"
        vc="setoffset(dn,$VALUE):decplusfrqc[7]"
        set="setppm(decplusfrqc[7],dn):$VALUE"
        show="$ENABLE=((dm='nyn' or dm='nyy') and satpluscomp&gt;6)"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="150 130" size="60 20"
        style="PlainText"
        vq="decplusfrqc dm satpluscomp"
        vc="setoffset(dn,$VALUE):decplusfrqc[4]"
        set="setppm(decplusfrqc[4],dn):$VALUE"
        show="$ENABLE=((dm='nyn' or dm='nyy') and satpluscomp&gt;3)"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="150 90" size="60 20"
        style="PlainText"
        vq="decplusfrqc dm satpluscomp"
        vc="setoffset(dn,$VALUE):decplusfrqc[2]"
        set="setppm(decplusfrqc[2],dn):$VALUE"
        show="$ENABLE=((dm='nyn' or dm='nyy') and satpluscomp&gt;1)"
        digits="1"
        disable="Grayed out"
        />
      <button loc="100 190" size="40 20"
        style="Heading2"
        label="set"
        vc="selplusfrqc[7]=tof+cr-sw/2+rfl-rfp"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <button loc="100 170" size="40 20"
        style="Heading2"
        label="set"
        vc="selplusfrqc[6]=tof+cr-sw/2+rfl-rfp"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <button loc="100 150" size="40 20"
        style="Heading2"
        label="set"
        vc="selplusfrqc[5]=tof+cr-sw/2+rfl-rfp"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <button loc="100 110" size="40 20"
        style="Heading2"
        label="set"
        vc="selplusfrqc[3]=tof+cr-sw/2+rfl-rfp"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <button loc="100 130" size="40 20"
        style="Heading2"
        label="set"
        vc="selplusfrqc[4]=tof+cr-sw/2+rfl-rfp"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <button loc="100 90" size="40 20"
        style="Heading2"
        label="set"
        vc="selplusfrqc[2]=tof+cr-sw/2+rfl-rfp"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <entry loc="30 190" size="70 20"
        style="PlainText"
        vq="satplus selplusfrqc satpluscomp"
        vc="setoffset(tn,$VALUE):selplusfrqc[7]"
        set="setppm(selplusfrqc[7],tn):$VALUE"
        show="$ENABLE=(satplus='y' and satpluscomp&gt;6)"
        disable="Grayed out"
        />
      <check loc="10 170" size="25 20"
        style="Label1"
        vq="selplusfrqc"
        vc="satpluscomp=6 if size('selplusfrqc')=5 then selplusfrqc=selplusfrqc,0 decplusfrqc=decplusfrqc,0 endif dps"
        vc2="satpluscomp=5 dps"
        set="$VALUE=(size('selplusfrqc')&gt;5)"
        />
      <check loc="10 150" size="25 20"
        style="Label1"
        vq="selplusfrqc"
        vc="satpluscomp=5 if size('selplusfrqc')=4 then selplusfrqc=selplusfrqc,0 decplusfrqc=decplusfrqc,0 endif dps"
        vc2="satpluscomp=4 dps"
        set="$VALUE=(size('selplusfrqc')&gt;4)"
        />
      <check loc="10 190" size="25 20"
        style="Label1"
        vq="selplusfrqc"
        vc="satpluscomp=7 if size('selplusfrqc')=6 then selplusfrqc=selplusfrqc,0 decplusfrqc=decplusfrqc,0 endif dps"
        vc2="satpluscomp=6 dps"
        set="$VALUE=(size('selplusfrqc')&gt;6)"
        />
      <check loc="10 130" size="25 20"
        style="Label1"
        vq="selplusfrqc"
        vc="satpluscomp=4 if size('selplusfrqc')=3 then selplusfrqc=selplusfrqc,0 decplusfrqc=decplusfrqc,0 endif dps"
        vc2="satpluscomp=3 dps"
        set="$VALUE=(size('selplusfrqc')&gt;3)"
        />
      <check loc="10 110" size="25 20"
        style="Label1"
        vq="selplusfrqc"
        vc="satpluscomp=3 if size('selplusfrqc')=2 then selplusfrqc=selplusfrqc,0 decplusfrqc=decplusfrqc,0 endif dps"
        vc2="satpluscomp=2 dps"
        set="$VALUE=(size('selplusfrqc')&gt;2)"
        />
      <check loc="10 90" size="25 20"
        style="Label1"
        vq="selplusfrqc"
        vc="satpluscomp=2 if size('selplusfrqc')=1 then selplusfrqc=selplusfrqc,0 decplusfrqc=decplusfrqc,0 endif dps"
        vc2="satpluscomp=1 dps"
        set="$VALUE=(size('selplusfrqc')&gt;1)"
        />
      <entry loc="30 170" size="70 20"
        style="PlainText"
        vq="satplus selplusfrqc satpluscomp"
        vc="setoffset(tn,$VALUE):selplusfrqc[6]"
        set="setppm(selplusfrqc[6],tn):$VALUE"
        show="$ENABLE=(satplus='y' and satpluscomp&gt;5)"
        disable="Grayed out"
        />
      <entry loc="30 150" size="70 20"
        style="PlainText"
        vq="satplus selplusfrqc satpluscomp"
        vc="setoffset(tn,$VALUE):selplusfrqc[5]"
        set="setppm(selplusfrqc[5],tn):$VALUE"
        show="$ENABLE=(satplus='y' and satpluscomp&gt;4)"
        disable="Grayed out"
        />
      <entry loc="30 130" size="70 20"
        style="PlainText"
        vq="satplus selplusfrqc satpluscomp"
        vc="setoffset(tn,$VALUE):selplusfrqc[4]"
        set="setppm(selplusfrqc[4],tn):$VALUE"
        show="$ENABLE=(satplus='y' and satpluscomp&gt;3)"
        disable="Grayed out"
        />
      <entry loc="30 110" size="70 20"
        style="PlainText"
        vq="satplus selplusfrqc satpluscomp"
        vc="setoffset(tn,$VALUE):selplusfrqc[3]"
        set="setppm(selplusfrqc[3],tn):$VALUE"
        show="$ENABLE=(satplus='y' and satpluscomp&gt;2)"
        disable="Grayed out"
        />
      <entry loc="30 90" size="70 20"
        style="PlainText"
        vq="satplus selplusfrqc satpluscomp"
        vc="setoffset(tn,$VALUE):selplusfrqc[2]"
        set="setppm(selplusfrqc[2],tn):$VALUE"
        show="$ENABLE=(satplus='y' and satpluscomp&gt;1)"
        disable="Grayed out"
        />
      <entry loc="30 70" size="70 20"
        style="PlainText"
        vq="satplus selplusfrqc tof sw rfl rfp"
        vc="if (size('selplusfrqc'=1) then selplusfrqc=$VALUE else selplusfrqc endif"
        set="$VALUE=(selplusfrqc[1]-tof+sw/2-rfl+rfp)/reffrq"
        show="$ENABLE=(satplus='y')"
        disable="Grayed out"
        />
      <label loc="150 45" size="60 20"
        style="Label1"
        label="13C ppm"
        justify="Left"
        />
      <entry loc="150 70" size="60 20"
        style="PlainText"
        vq="dm decplusfrqc"
        vc="setoffset(dn,$VALUE):decplusfrqc[1]"
        set="setppm(decplusfrqc[1],dn):$VALUE"
        show="$ENABLE=(dm='nyn' or dm='nyy')"
        digits="1"
        disable="Grayed out"
        />
      <button loc="100 70" size="40 20"
        style="Heading2"
        label="set"
        vc="selplusfrqc[1]=tof+cr-sw/2+rfl-rfp"
        bg="transparent"
        decor1="yes"
        halignment="Center"
        valignment="Center"
        />
      <label loc="30 45" size="60 20"
        style="Label1"
        label="1H ppm"
        justify="Left"
        />
      <check loc="140 20" size="190 20"
        style="Label1"
        label="13C dec during suppression"
        vq="dm"
        vc="if dm='nny' then dm='nyy' else dm='nyn' endif dps"
        vc2="if dm='nyy' then dm='nny' else dm='n' endif dps"
        set="$VALUE=(dm='nyn' or dm='nyy')"
        />
      <entry loc="100 20" size="30 20"
        style="PlainText"
        vq="satpluscomp"
        vc="satpluscomp=$VALUE"
        set="$VALUE=satpluscomp"
        show="$ENABLE=(satplus='y')"
        disable="Grayed out"
        />
      <check loc="10 70" size="25 20"
        style="Label1"
        vq="satplus"
        vc="satplus='y' satpluscomp=1 dps"
        vc2="satplus='n' satpluscomp=0 dps"
        set="$VALUE=(satplus='y')"
        />
      <label loc="10 20" size="90 20"
        style="Label1"
        label="# Frequencies:"
        justify="Left"
        />
    </group>
    <group loc="250 0" size="225 195"
      style="Heading1"
      label="SatPLUS"
      vq="satmode"
      show="$SHOW=(satmode='y')"
      border="Etched"
      tab="no"
      enable="no"
      reference="SatPLUS"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <check loc="100 20" size="90 20"
        style="Label1"
        label="Do scout"
        vq="doscout procdim wstart"
        vc="on('doscout'):$ison if ($ison&gt;-1) then on('doscout') procdim=0 wstart='PRESATproc(`wstart`)' endif"
        vc2="on('doscout'):$ison if ($ison&gt;-1) then off('doscout') wstart='' endif"
        set="on('doscout'):$ison if ($ison&gt;0) then $VALUE=1 else $VALUE=0 endif"
        show="on('doscout'):$ison if ($ison&gt;-1) then $ENABLE=1 else $ENABLE=0 endif"
        />
      <check loc="5 20" size="100 20"
        style="Label1"
        label="PRESATplus"
        vq="satplus"
        vc="satplus='y' dps"
        vc2="satplus='n' dps"
        set="$VALUE=(satplus='y')"
        />
      <label loc="10 105" size="90 20"
        style="Label1"
        label="# Cycles"
        justify="Left"
        />
      <entry loc="100 105" size="60 20"
        style="PlainText"
        vq="satpluscyc"
        vc="satpluscyc=$VALUE satplusdly=satplusdelta*satpluscomp*satpluscyc"
        set="$VALUE=satpluscyc"
        disable="Grayed out"
        />
      <entry loc="100 85" size="60 20"
        style="PlainText"
        vq="satplusdelta"
        vc="satplusdelta=$VALUE satplusdly=satplusdelta*satpluscomp*satpluscyc"
        set="$VALUE=satplusdelta"
        digits="3"
        disable="Grayed out"
        />
      <label loc="10 85" size="90 20"
        style="Label1"
        label="Delta delay"
        justify="Left"
        />
      <textmessage loc="165 65" size="50 20"
        style="PlainText"
        label="7 Hz"
        vq="satpluspwr"
        set="getpower(satpluspwr,tn):$gh2 $VALUE='' format($gh2,0,0):$VALUE $VALUE=$VALUE+' Hz' on('presatplusgh2'):$pon if ($pon&gt;-1) then presatplusgh2=$gh2 endif"
        />
      <entry loc="100 65" size="60 20"
        style="PlainText"
        vq="satpluspwr"
        vc="satpluspwr=$VALUE"
        set="$VALUE=satpluspwr"
        digits="0"
        disable="Grayed out"
        />
      <label loc="10 65" size="70 20"
        style="Label1"
        label="Power (dB)"
        justify="Left"
        />
      <entry loc="100 45" size="60 20"
        style="PlainText"
        vq="satplusdly"
        vc="satplusdly=$VALUE satplusdelta=satplusdly/satpluscomp/satpluscyc"
        set="$VALUE=satplusdly"
        disable="Grayed out"
        />
      <label loc="165 85" size="30 20"
        style="Label1"
        label="s"
        justify="Left"
        />
      <label loc="165 45" size="30 20"
        style="Label1"
        label="s"
        justify="Left"
        />
      <label loc="10 45" size="70 20"
        style="Label1"
        label="Delay"
        justify="Left"
        />
    </group>
    <group loc="5 0" size="240 195"
      style="Heading1"
      label="Saturate H2O"
      vq="satmode"
      show="$SHOW=(satmode='y')"
      border="Etched"
      tab="no"
      enable="no"
      reference="SaturateH2O"
      useref="no"
      subtype="Titled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <entry loc="80 165" size="60 20"
        style="PlainText"
        vq="mixN"
        vc="mixN=$VALUE"
        set="$VALUE=mixN"
        digits="2"
        disable="Grayed out"
        />
      <check loc="10 145" size="130 20"
        style="Label1"
        label="NOE"
        vq="noe"
        vc="noe='y' dps"
        vc2="noe='n' dps"
        set="$VALUE=(noe='y')"
        />
      <label loc="150 165" size="25 20"
        style="Label1"
        label="s"
        justify="Left"
        />
      <label loc="25 165" size="45 20"
        style="Label1"
        label="Delay"
        justify="Left"
        />
      <label loc="25 125" size="45 20"
        style="Label1"
        label="Delay"
        justify="Left"
        />
      <label loc="150 125" size="25 20"
        style="Label1"
        label="s"
        justify="Left"
        />
      <check loc="10 105" size="130 20"
        style="Label1"
        label="Re-saturate H2O"
        vq="sath2o"
        vc="sath2o='y' dps"
        vc2="sath2o='n' dps"
        set="$VALUE=(sath2o='y')"
        />
      <entry loc="80 40" size="60 20"
        style="PlainText"
        vq="satfrq satmode"
        vc="if (slpsat='n') then satfrq=$VALUE else satfrq=satfrq endif"
        set="$VALUE=satfrq"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="80 125" size="60 20"
        style="PlainText"
        vq="sath2odly"
        vc="sath2odly=$VALUE"
        set="$VALUE=sath2odly"
        digits="2"
        disable="Grayed out"
        />
      <menu loc="150 80" size="55 20"
        style="PlainText"
        vq="satfrq"
        vc="parunits('set','satfrq','$VALUE')"
        set="parunits('get','satfrq'):$VALUE"
        editable="No"
        >
        <mlabel 
          label="ppm"
          chval="ppm1"
          />
        <mlabel 
          label="Hz"
          chval="Hz"
          />
      </menu>
      <entry loc="80 85" size="60 20"
        style="PlainText"
        vq="satfrq"
        vc="vnmrunits('set','satfrq',$VALUE)"
        set="vnmrunits('get','satfrq'):$VALUE"
        digits="1"
        disable="Grayed out"
        />
      <label loc="10 20" size="70 20"
        style="Label1"
        label="Delay"
        justify="Left"
        />
      <entry loc="80 20" size="60 20"
        style="PlainText"
        vq="satdly satmode"
        vc="satdly=$VALUE"
        set="$VALUE=satdly"
        digits="2"
        disable="Grayed out"
        />
      <label loc="10 40" size="70 20"
        style="Label1"
        label="Offset"
        justify="Left"
        />
      <label loc="10 60" size="70 20"
        style="Label1"
        label="Power (dB)"
        justify="Left"
        />
      <entry loc="80 60" size="60 20"
        style="PlainText"
        vq="satpwr satmode"
        vc="satpwr=$VALUE"
        set="$VALUE=satpwr"
        digits="0"
        disable="Grayed out"
        />
      <textmessage loc="150 40" size="50 20"
        style="PlainText"
        label="6.16p"
        vq="satfrq satmode slpsat"
        set="setsatppm:$VALUE"
        show="$ENABLE=(slpsat='n')"
        />
      <textmessage loc="150 60" size="50 20"
        style="PlainText"
        label="51 Hz"
        vq="satpwr"
        set="getpower(satpwr,tn):$gh2 $VALUE='' format($gh2,0,0):$VALUE $VALUE=$VALUE+' Hz' on('presatgh2'):$pon if ($pon&gt;-1) then presatgh2=$gh2 endif"
        />
      <label loc="150 20" size="30 20"
        style="Label1"
        label="s"
        justify="Left"
        />
    </group>
    <button loc="5 200" size="150 20"
      style="Heading2"
      label="Switch back to s2pul"
      vq="seqfil"
      vc="wet='n' satmode='n' wds='' wstart='' seqfil='s2pul'"
      bg="transparent"
      decor1="yes"
      halignment="Center"
      valignment="Center"
      />
  </group>
</template>
