<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!--
 ! 
 ! Copyright (C) 2015  University of Oregon
 ! You may distribute under the terms of either the GNU General Public
 ! License or the Apache License, as specified in the LICENSE file.
 ! For more information, see the LICENSE file.
 !
 -->

<template name="Planner" element="pages" type="acquisition" >
  <group size="670 250" font="PlainText" style="PlainText"
    point="PlainText"
    fg="PlainText"
    label="Plan"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    reference="Planner"
    useref="no"
    >
    <group loc="0 30" size="160 30" fg="PlainText"
      vq="activestudy"
      show="$VALUE=2*(activestudy&lt;&gt;'null')-1"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <filemenu loc="0 10" size="160 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="autodir"
        vc="setgplan('$VALUE')"
        file="$VALUE=autodir+'/plans'"
        type="file"
        >
      </filemenu>
    </group>
    <group loc="80 80" size="80 30" fg="PlainText"
      vq="iplanDefaultType"
      show="if iplanDefaultType=3 then $VALUE=0 else $VALUE=1 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <entry loc="0 0" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vc=" gplan('setDefaultSize',$VALUE/10.0)"
        set="gplan('getDefaultSize'):$VALUE $VALUE=$VALUE*10.0"
        disable="Grayed out"
        />
      <label loc="50 0" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
    </group>
    <group loc="80 80" size="90 20" fg="PlainText"
      vq="iplanDefaultType"
      show="if iplanDefaultType=3 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <entry loc="0 0" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vc=" gplan('setDefaultSize',$VALUE/10.0)"
        set="gplan('getDefaultSize'):$VALUE $VALUE=$VALUE*10.0"
        disable="Grayed out"
        />
      <label loc="50 0" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
    </group>
    <group loc="310 20" size="320 150" font="Heading1"
      style="Heading1"
      point="Heading1"
      fg="Heading1"
      label="Volume Parameters"
      vq="iplanType"
      show="if iplanType=2 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <label loc="270 90" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="270 70" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="270 50" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="270 30" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <entry loc="212 90" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="pro"
        vc="gplan('setValue','pro',$VALUE/10.0)"
        set="$VALUE=pro*10.0"
        show="on('pro'):$VALUE"
        disable="Grayed out"
        />
      <label loc="172 90" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="pro"
        justify="Left"
        />
      <label loc="172 70" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="lpe2"
        justify="Left"
        />
      <entry loc="212 70" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="lpe2"
        vc="gplan('setValue','lpe2',$VALUE/10.0)"
        set="$VALUE=lpe2*10.0"
        show="on('lpe2'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="212 50" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="lro"
        vc="gplan('setValue','lro',$VALUE/10.0)"
        set="$VALUE=lro*10.0"
        show="on('lro'):$VALUE"
        disable="Grayed out"
        />
      <label loc="172 50" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="lro"
        justify="Left"
        />
      <label loc="172 30" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="lpe"
        justify="Left"
        />
      <entry loc="212 30" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="lpe"
        vc="gplan('setValue','lpe',$VALUE/10.0)"
        set="$VALUE=lpe*10.0"
        show="on('lpe'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="72 70" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="phi"
        vc="gplan('setValue','phi',$VALUE)"
        set="$VALUE=phi"
        show="on('phi'):$VALUE"
        disable="Grayed out"
        />
      <label loc="12 70" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="phi"
        justify="Left"
        />
      <entry loc="72 50" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="psi"
        vc="gplan('setValue','psi',$VALUE)"
        set="$VALUE=psi"
        show="on('psi'):$VALUE"
        disable="Grayed out"
        />
      <label loc="12 50" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="psi"
        justify="Left"
        />
      <entry loc="72 30" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="theta"
        vc="gplan('setValue','theta',$VALUE)"
        set="$VALUE=theta"
        show="on('theta'):$VALUE"
        disable="Grayed out"
        />
      <label loc="12 30" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="theta"
        justify="Left"
        />
      <label loc="12 0" size="140 20" font="Heading1"
        style="Heading1"
        point="Heading1"
        fg="Heading1"
        label="Volume Parameters"
        justify="Left"
        />
    </group>
    <group loc="320 10" size="310 160" font="Heading1"
      style="Heading1"
      point="Heading1"
      fg="Heading1"
      label="Stack Parameters"
      vq="iplanType"
      show="if iplanType=0 then $VALUE=1 else $VALUE=0 endif"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <check loc="290 80" size="20 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="iplanType"
        vc="gplan('setUseppe', 1)"
        vc2="gplan('setUseppe', 0)"
        set="gplan('getUseppe'):$VALUE"
        />
      <label loc="260 40" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 60" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 80" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 100" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 120" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <entry loc="200 40" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="lpe"
        vc="gplan('setValue', 'lpe', $VALUE/10.0)"
        set="$VALUE=lpe*10"
        show="on('lpe'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="200 60" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="lro"
        vc="gplan('setValue', 'lro', $VALUE/10.0)"
        set="$VALUE=lro*10"
        show="on('lro'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="200 80" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="ppe"
        vc="gplan('setValue', 'ppe', $VALUE/10.0)"
        set="$VALUE=ppe*10"
        show="on('ppe'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="200 100" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="pro"
        vc="gplan('setValue', 'pro', $VALUE/10.0)"
        set="$VALUE=pro*10"
        show="on('ppe'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="200 120" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="pss0"
        vc="gplan('setValue', 'pss0', $VALUE/10.0)"
        set="$VALUE=pss0*10"
        show="on('pss0'):$VALUE"
        disable="Grayed out"
        />
      <textmessage loc="160 40" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
	vq="lpe"
	set="$VALUE='lpe'"
        justify="Left"
        />
      <textmessage loc="160 60" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
	vq="lro"
	set="$VALUE='lro'"
        justify="Left"
        />
      <textmessage loc="160 80" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
	vq="ppe"
	set="$VALUE='ppe'"
        justify="Left"
        />
      <textmessage loc="160 100" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
	vq="pro"
	set="$VALUE='pro'"
        justify="Left"
        />
      <textmessage loc="160 120" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
	vq="pss0"
	set="$VALUE='pss0'"
        justify="Left"
        />
      <check loc="160 140" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="fix gap"
        vc="gplan('setGapMode', 1)"
        vc2="gplan('setGapMode', 0)"
        set="gplan('getGapMode'):$VALUE"
        />
      <label loc="110 140" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="110 100" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <entry loc="60 140" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="gap"
        vc="gplan('setValue', 'gap', $VALUE/10.0)"
        set="$VALUE = gap*10.0"
        show="on('gap'):$VALUE"
        disable="Grayed out"
        />
      <label loc="0 140" size="60 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="gap"
        justify="Left"
        />
      <entry loc="60 120" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="pss ns"
        vc="gplan('setValue', 'ns', $VALUE)"
        set="$VALUE = size('pss')"
        show="on('ns'):$VALUE"
        disable="Grayed out"
        />
      <label loc="0 120" size="60 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="slices"
        justify="Left"
        />
      <entry loc="60 100" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="thk"
        vc="gplan('setValue', 'thk', $VALUE)"
        set="$VALUE = thk"
        show="on('thk'):$VALUE"
        disable="Grayed out"
        />
      <label loc="0 100" size="60 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="thickness"
        justify="Left"
        />
      <entry loc="60 80" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="phi"
        vc="gplan('setValue', 'phi', $VALUE)"
        set="$VALUE = phi"
        show="on('phi'):$VALUE"
        disable="Grayed out"
        />
      <label loc="0 80" size="50 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="phi"
        justify="Left"
        />
      <entry loc="60 60" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="psi"
        vc="gplan('setValue','psi', $VALUE)"
        set="$VALUE = psi"
        show="on('psi'):$VALUE"
        disable="Grayed out"
        />
      <label loc="0 60" size="50 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="psi"
        justify="Left"
        />
      <entry loc="60 40" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="theta"
        vc="gplan('setValue', 'theta', $VALUE)"
        set="$VALUE = theta"
        show="on('theta'):$VALUE"
        disable="Grayed out"
        />
      <label loc="0 40" size="50 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="theta"
        justify="Left"
        />
      <label loc="0 10" size="140 20" font="Heading1"
        style="Heading1"
        point="Heading1"
        fg="Heading1"
        label="Stack Parameters"
        justify="Left"
        />
    </group>
    <group loc="320 20" size="320 150" font="Heading1"
      style="Heading1"
      point="Heading1"
      fg="Heading1"
      label="voxel Parameters"
      vq="iplanType"
      show="if iplanType=3 then $VALUE=1 else $VALUE=-1 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <label loc="260 130" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 110" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 90" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 70" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 50" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 30" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="0 0" size="130 20" font="Heading1"
        style="Heading1"
        point="Heading1"
        fg="Heading1"
        label="Voxel Parameters"
        justify="Left"
        />
      <button loc="160 0" size="150 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="Save voxel for shimming"
        vc="prescan[8] = userdir+'/fastmap/voxel.par' prescan[3]='Not Done' writeparam(prescan[8],'iplanType vtheta  vphi vpsi vox1 vox2 vox3 pos1 pos2 pos3')"
        />
      <entry loc="200 130" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="pos3"
        vc="gplan('setValue','pos3',$VALUE/10.0)"
        set="$VALUE=pos3*10.0"
        show="on('pos3'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="200 110" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="pos2"
        vc="gplan('setValue','pos2',$VALUE/10.0)"
        set="$VALUE=pos2*10.0"
        show="on('pos2'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="200 90" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="pos1"
        vc="gplan('setValue','pos1',$VALUE/10.0)"
        set="$VALUE=pos1*10.0"
        show="on('pos1'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="200 70" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="vox3"
        vc="gplan('setValue','vox3',$VALUE)"
        set="$VALUE=vox3"
        show="on('vox3'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="200 50" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="vox2"
        vc="gplan('setValue','vox2',$VALUE)"
        set="$VALUE=vox2"
        show="on('vox2'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="200 30" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="vox1"
        vc="gplan('setValue','vox1',$VALUE)"
        set="$VALUE=vox1"
        show="on('vox1'):$VALUE"
        disable="Grayed out"
        />
      <label loc="160 130" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="pos3"
        justify="Left"
        />
      <label loc="160 110" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="pos2"
        justify="Left"
        />
      <label loc="160 90" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="pos1"
        justify="Left"
        />
      <label loc="160 50" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="vox2"
        justify="Left"
        />
      <label loc="160 70" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="vox3"
        justify="Left"
        />
      <label loc="160 30" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="vox1"
        justify="Left"
        />
      <entry loc="60 70" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="vphi"
        vc="gplan('setValue','vphi',$VALUE)"
        set="$VALUE=vphi"
        show="on('vphi'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="60 50" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="vpsi"
        vc="gplan('setValue','vpsi',$VALUE)"
        set="$VALUE=vpsi"
        show="on('vpsi'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="60 30" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="vtheta"
        vc="gplan('setValue','vtheta',$VALUE)"
        set="$VALUE=vtheta"
        show="on('vtheta'):$VALUE"
        disable="Grayed out"
        />
      <label loc="0 70" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="vphi"
        justify="Left"
        />
      <label loc="0 50" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="vpsi"
        justify="Left"
        />
      <label loc="0 30" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="vtheta"
        justify="Left"
        />
    </group>
    <group loc="320 20" size="310 160" font="Heading1"
      style="Heading1"
      point="Heading1"
      fg="Heading1"
      label="Radial Parameters"
      vq="iplanType"
      show="if iplanType=1 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <check loc="290 70" size="20 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="iplanType"
        vc="gplan('setUseppe', 1)"
        vc2="gplan('setUseppe', 0)"
        set="gplan('getUseppe'):$VALUE"
        />
      <label loc="260 110" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 90" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 70" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 50" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 30" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="110 90" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <check loc="160 130" size="90 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="fix angle"
        vc="gplan('setGapMode', 1)"
        vc2="gplan('setGapMode', 0)"
        set="gplan('getGapMode'):$VALUE"
        />
      <entry loc="60 110" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="ns"
        vc="gplan('setValue','ns',$VALUE)"
        set="$VALUE=size('ns')"
        show="on('ns'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="60 130" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="gap"
        vc="gplan('setValue','gap',$VALUE)"
        set="$VALUE=gap"
        show="on('gap'):$VALUE"
        disable="Grayed out"
        />
      <label loc="0 130" size="60 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="fan angle"
        justify="Left"
        />
      <entry loc="200 110" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="pss0"
        vc="pss0=$VALUE/10.0 gplan('setValue','pss0',$VALUE/10.0)"
        set="$VALUE=pss0*10.0"
        show="on('pss0'):$VALUE"
        disable="Grayed out"
        />
      <label loc="160 90" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="pro"
        justify="Left"
        />
      <label loc="160 110" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="pss0"
        justify="Left"
        />
      <entry loc="200 90" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="pro"
        vc="gplan('setValue','pro',$VALUE/10.0)"
        set="$VALUE=pro*10.0"
        show="on('pro'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="200 70" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="ppe"
        vc="gplan('setValue','ppe',$VALUE/10.0)"
        set="$VALUE=ppe*10.0"
        show="on('ppe'):$VALUE"
        disable="Grayed out"
        />
      <label loc="160 70" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="ppe"
        justify="Left"
        />
      <entry loc="200 50" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="lro"
        vc="gplan('setValue','lro',$VALUE/10.0)"
        set="$VALUE=lro*10.0"
        show="on('lro'):$VALUE"
        disable="Grayed out"
        />
      <label loc="160 50" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="lro"
        justify="Left"
        />
      <entry loc="200 30" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="lpe"
        vc="gplan('setValue','lpe',$VALUE/10.0)"
        set="$VALUE=lpe*10.0"
        show="on('lpe'):$VALUE"
        disable="Grayed out"
        />
      <label loc="160 30" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="lpe"
        justify="Left"
        />
      <label loc="0 110" size="60 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="# of slices"
        justify="Left"
        />
      <entry loc="60 90" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="thk"
        vc="gplan('setValue','thk',$VALUE)"
        set="$VALUE=thk"
        show="on('thk'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="60 70" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="phi"
        vc="gplan('setValue','phi',$VALUE)"
        set="$VALUE=phi"
        show="on('phi'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="60 50" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="psi"
        vc="gplan('setValue','psi',$VALUE)"
        set="$VALUE=psi"
        show="on('psi'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="60 30" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="theta"
        vc="gplan('setValue','theta',$VALUE)"
        set="$VALUE=theta"
        show="on('theta'):$VALUE"
        disable="Grayed out"
        />
      <label loc="0 90" size="60 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="thickness"
        justify="Left"
        />
      <label loc="0 70" size="60 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="phi"
        justify="Left"
        />
      <label loc="0 50" size="60 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="psi"
        justify="Left"
        />
      <label loc="0 30" size="60 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="theta"
        justify="Left"
        />
      <label loc="0 0" size="130 20" font="Heading1"
        style="Heading1"
        point="Heading1"
        fg="Heading1"
        label="Radial Parameters"
        justify="Left"
        />
    </group>
    <group loc="0 40" size="170 20" fg="PlainText"
      vq="activestudy"
      show="$VALUE=2*(activestudy='null')-1"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <filemenu loc="0 0" size="160 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vc="setgplan('$VALUE')"
        file="$VALUE=systemdir+'/imaging/templates/vnmrj/choicefiles/plans'"
        type="file"
        >
      </filemenu>
    </group>
    <button loc="170 90" size="130 20" font="PlainText"
      style="PlainText"
      point="PlainText"
      fg="PlainText"
      label="marking"
      vc="gplan('setMarkMode', 1)"
      />
    <button loc="170 130" size="130 20" font="PlainText"
      style="PlainText"
      point="PlainText"
      fg="PlainText"
      label="save milestone"
      vc="gplan('saveMilestoneStacks')"
      />
    <group loc="120 200" size="472 40" fg="PlainText"
      vq="iplanType"
      show="if iplanType&lt;2 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <menu loc="330 0" size="120 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="pss"
        vc="gplan('alternateSlices', $VALUE)"
	set="gplan('getActStackInfo', 'alternateOrder'):$VALUE"
        >
        <mlabel label="order" chval="0"/>
        <mlabel label="alternate" chval="1"/>
        <mlabel label="reverse" chval="2"/>
        <mlabel label="reverse alternate" chval="3"/>
      </menu>
      <check loc="220 0" size="110 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="show order"
	vq="iplanType"
        vc="gplan('setDrawOrders', 1)"
        vc2="gplan('setDrawOrders', 0)"
	set="gplan('getActStackInfo', 'drawOrder'):$VALUE"
        />
      <check loc="120 0" size="100 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="center lines"
	vq="iplanType"
        vc="gplan('setDisplayStyle', 1)"
        vc2="gplan('setDisplayStyle', 0)"
	set="gplan('getActStackInfo', 'style'):$VALUE"
        />
      <check loc="0 0" size="120 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="fill intersections"
	vq="iplanType"
        vc="gplan('setFillPolygon', 1)"
        vc2="gplan('setFillPolygon', 0)"
	set="gplan('getActStackInfo', 'fill'):$VALUE"
        />
      <check loc="220 20" size="80 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="3D axes"
	vq="iplanType"
        vc="gplan('setDrawAxes', 1)"
        vc2="gplan('setDrawAxes', 0)"
	set="gplan('getActStackInfo', 'drawAxes'):$VALUE"
        />
      <check loc="120 20" size="100 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="3D view"
	vq="iplanType"
        vc="gplan('setDraw3D', 1)"
        vc2="gplan('setDraw3D', 0)"
	set="gplan('getActStackInfo', 'draw3D'):$VALUE"
        />
      <check loc="0 20" size="120 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="intersection"
	vq="iplanType"
        vc="gplan('setDrawInterSection', 1)"
        vc2="gplan('setDrawInterSection', 0)"
	set="gplan('getActStackInfo', 'drawInterSection'):$VALUE"
        />
    </group>
    <group loc="120 200" size="310 40" fg="PlainText"
      vq="iplanType"
      show="if iplanType&gt;1 and iplanType&lt;4 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <check loc="0 0" size="120 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="fill intersections"
	vq="iplanType"
        vc="gplan('setFillPolygon', 1)"
        vc2="gplan('setFillPolygon', 0)"
	set="gplan('getActStackInfo', 'fill'):$VALUE"
        />
      <check loc="220 20" size="80 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="3D axes"
	vq="iplanType"
        vc="gplan('setDrawAxes', 1)"
        vc2="gplan('setDrawAxes', 0)"
	set="gplan('getActStackInfo', 'drawAxes'):$VALUE"
        />
      <check loc="120 20" size="100 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="3D view"
	vq="iplanType"
        vc="gplan('setDraw3D', 1)"
        vc2="gplan('setDraw3D', 0)"
	set="gplan('getActStackInfo', 'draw3D'):$VALUE"
        />
      <check loc="0 20" size="120 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="intersection"
	vq="iplanType"
        vc="gplan('setDrawInterSection', 1)"
        vc2="gplan('setDrawInterSection', 0)"
	set="gplan('getActStackInfo', 'drawInterSection'):$VALUE"
        />
    </group>
    <group loc="120 200" size="120 20" fg="PlainText"
      vq="iplanType"
      show="if iplanType=4 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <check loc="0 0" size="120 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="fill intersections"
	vq="iplanType"
        vc="gplan('setFillPolygon', 1)"
        vc2="gplan('setFillPolygon', 0)"
	set="gplan('getActStackInfo', 'fill'):$VALUE"
        />
    </group>
    <label loc="0 200" size="120 20" font="Heading1"
      style="Heading1"
      point="Heading1"
      fg="Heading1"
      label="Display Options:"
      justify="Left"
      />
    <group loc="320 20" size="330 90" font="Heading1"
      style="Heading1"
      point="Heading1"
      fg="Heading1"
      label="Saturation Band Parameters"
      vq="iplanType"
      show="if iplanType=4 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <label loc="260 30" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 50" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <entry loc="200 50" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="satthk"
        vc="gplan('setValue','satthk',$VALUE)"
        set="$VALUE=satthk"
        show="on('satthk'):$VALUE"
        disable="Grayed out"
        />
      <label loc="160 50" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="satthk"
        justify="Left"
        />
      <entry loc="200 30" size="60 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="satpos"
        vc="gplan('setValue','satpos',$VALUE/10.0)"
        set="$VALUE=satpos*10.0"
        show="on('satpos'):$VALUE"
        disable="Grayed out"
        />
      <label loc="160 30" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="satpos"
        justify="Left"
        />
      <entry loc="60 70" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="sphi"
        vc="gplan('setValue','sphi',$VALUE)"
        set="$VALUE=sphi"
        show="on('sphi'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="60 50" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="spsi"
        vc="gplan('setValue','spsi',$VALUE)"
        set="$VALUE=spsi"
        show="on('spsi'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="60 30" size="50 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vq="stheta"
        vc="gplan('setValue','stheta',$VALUE)"
        set="$VALUE=stheta"
        show="on('stheta'):$VALUE"
        disable="Grayed out"
        />
      <label loc="0 70" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="sphi"
        justify="Left"
        />
      <label loc="0 50" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="spsi"
        justify="Left"
        />
      <label loc="0 30" size="40 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="stheta"
        justify="Left"
        />
      <label loc="0 0" size="210 20" font="Heading1"
        style="Heading1"
        point="Heading1"
        fg="Heading1"
        label="Saturation Band Parameters"
        justify="Left"
        />
    </group>
    <group loc="170 50" size="120 20" fg="PlainText"
      vq="iplanDefaultType"
      show="if iplanDefaultType=3 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <button loc="0 0" size="110 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="add voxel"
        vc="gplan('addAstack',3)"
        />
    </group>
    <group loc="170 50" size="130 20" fg="PlainText"
      vq="iplanDefaultType"
      show="if iplanDefaultType=5 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <button loc="0 0" size="130 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="add CSI stack"
        vc="gplan('addAstack',5)"
        />
    </group>
    <group loc="160 50" size="120 20" fg="PlainText"
      vq="iplanDefaultType"
      show="if iplanDefaultType=2 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <button loc="10 0" size="110 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="add volume"
        vc="gplan('addAstack',2)"
        />
    </group>
    <group loc="170 40" size="110 30" fg="PlainText"
      vq="iplanDefaultType"
      show="if iplanDefaultType=1 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <button loc="0 9" size="110 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="add radial stack"
        vc="gplan('addAstack', 1)"
        />
    </group>
    <group loc="170 50" size="110 30" fg="PlainText"
      vq="iplanDefaultType"
      show="if iplanDefaultType=0 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <button loc="0 0" size="110 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        label="add slices"
        vc="gplan('addAstack', 0)"
        />
    </group>
    <button loc="170 110" size="130 20" font="PlainText"
      style="PlainText"
      point="PlainText"
      fg="PlainText"
      label="add saturation band"
      vc="gplan('addAstack',4)"
      />
    <button loc="230 170" size="50 20" font="PlainText"
      style="PlainText"
      point="PlainText"
      fg="PlainText"
      label="restart"
      vc="gplan('startIplan', -1)"
      />
    <button loc="170 170" size="60 20" font="PlainText"
      style="PlainText"
      point="PlainText"
      fg="PlainText"
      label="refresh"
      vc="gplan('refresh')"
      />
    <button loc="90 170" size="80 20" font="PlainText"
      style="PlainText"
      point="PlainText"
      fg="PlainText"
      label="restore stack"
      vc="gplan('restoreStack')"
      />
    <button loc="40 170" size="50 20" font="PlainText"
      style="PlainText"
      point="PlainText"
      fg="PlainText"
      label="delete"
      vc="gplan('deleteSelected')"
      />
    <button loc="0 170" size="40 20" font="PlainText"
      style="PlainText"
      point="PlainText"
      fg="PlainText"
      label="clear"
      vc="gplan('clearStacks')"
      />
    <textmessage loc="0 20" size="150 20" font="Heading2"
      style="Heading2"
      point="Heading2"
      fg="Heading2"
      vq="name"
      set="$VALUE=name"
      />
    <textmessage loc="0 0" size="150 20" font="Heading1"
      style="Heading1"
      point="Heading1"
      fg="Heading1"
      vq="pslabel"
      set="$VALUE=pslabel"
      />
    <menu loc="80 60" size="80 20" font="PlainText"
      style="PlainText"
      point="PlainText"
      fg="PlainText"
      vq="iplanDefaultType"
      vc="gplan('setDefaultType', $VALUE)"
      set="$VALUE = iplanDefaultType"
      >
      <mlabel label="slices" chval="0"/>
      <mlabel label="radial" chval="1"/>
      <mlabel label="volume" chval="2"/>
      <mlabel label="voxel" chval="3"/>
      <mlabel label="2D CSI" chval="5"/>
    </menu>
    <label loc="0 60" size="80 20" font="Label1"
      style="Label1"
      point="Label1"
      fg="Label1"
      label="localization"
      justify="Left"
      />
    <label loc="0 80" size="80 20" font="Label1"
      style="Label1"
      point="Label1"
      fg="Label1"
      label="default size"
      justify="Left"
      />
    <group loc="0 110" size="160 40" fg="PlainText"
      vq="iplanDefaultType"
      show="if iplanDefaultType&lt;&gt;3 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <entry loc="100 0" size="30 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vc="gplan('setDefaultSlices', $VALUE)"
        set="gplan('getDefaultSlices'):$VALUE"
        disable="Grayed out"
        />
      <label loc="130 20" size="30 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="mm"
        justify="Center"
        />
      <entry loc="100 20" size="30 20" font="PlainText"
        style="PlainText"
        point="PlainText"
        fg="PlainText"
        vc="gplan('setDefaultThk',$VALUE)"
        set="gplan('getDefaultThk'):$VALUE"
        disable="Grayed out"
        />
      <label loc="0 20" size="100 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="default thickness"
        justify="Left"
        />
      <label loc="0 0" size="100 20" font="Label1"
        style="Label1"
        point="Label1"
        fg="Label1"
        label="default # of slices"
        justify="Left"
        />
    </group>
  </group>
</template>
