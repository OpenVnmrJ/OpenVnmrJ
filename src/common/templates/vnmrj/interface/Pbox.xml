<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!--
 !
 ! Copyright (C) 2015  University of Oregon
 ! You may distribute under the terms of either the GNU General Public
 ! License or the Apache License, as specified in the LICENSE file.
 ! For more information, see the LICENSE file.
 !
 -->

<template name="Pbox" element="pages" type="processing" >
<folder loc="8 8" size="616 348">
    <group loc="16 8" size="584 336"
      style="Heading1"
      label="Make Waveform"
      side="Top"
      justify="Left"
      border="None"
      tab="no"
      useref="no"
      >
    <textmessage loc="32 290" size="544 24" 
      style="Info"
      label=""
      vq="pboxstr"
      set="$VALUE=pboxstr[14]"
      />
    <group loc="0 216" size="388 62"
      style="Heading1"
      border="None"
      side="Top"
      justify="Left"
      vq="pboxstr"
      show="$SHOW=(pboxstr[15]='y')"
      tab="no"
      useref="no"
      >
      <entry loc="140 32" size="245 20"
        style="PlainText"
        vq="pboxstr"
        vc="pboxstr[4]='$VALUE'"
        set="$VALUE=pboxstr[4]"
        disable="Grayed out"
        />
      <label loc="32 32" size="120 20"
        style="Label1"
        label="Additional options"
        justify="Left"
        />
      <button loc="272 0" size="112 25"
        style="Heading2"
        label="Make it"
        vq="r7"
        show="$SHOW=(r7&gt;0.5)*2-1"
        vc="pboxvnmrj('makeit')"
        enabled="yes"
        />
      <entry loc="140 0" size="120 20" 
        style="PlainText"
        vq="pboxstr"
        vc="pboxstr[3]='$VALUE'"
        set="$VALUE=pboxstr[3]"
        disable="Grayed out"
        />
      <label loc="32 0" size="104 20"
        style="Label1"
        label="Shape file name"
        justify="Left"
        />
    </group>
    <group loc="432 216" size="160 80"
      style="Heading1"
      border="None"
      side="Top"
      justify="Left"
      vq="pboxstr"
      show="$SHOW=(pboxstr[15]='y')"
      tab="no"
      useref="no"
      >
      <check loc="8 54" size="120 24"
        style="Label1"
        label="Show spectrum"
        vq="pboxstr"
        vc="pboxstr[6]='y'"
        vc2="pboxstr[6]='n'"
        set="$VALUE=(pboxstr[6]='y')"
        />
      <check loc="8 30" size="80 24"
        style="Label1"
        label="Show XY"
        vq="pboxstr"
        vc="pboxstr[5]='xy'"
        vc2="pboxstr[5]='z'"
        set="$VALUE=(pboxstr[5]='xy')"
        />
      <check loc="96 30" size="72 24"
        style="Label1"
        label="Show Z"
        vq="pboxstr"
        vc="pboxstr[5]='z'"
        vc2="pboxstr[5]='xy'"
        set="$VALUE=(pboxstr[5]='z')"
        />
      <button loc="8 0" size="152 25"
        style="Heading2"
        label="Simulate"
        vc="pboxvnmrj('simulate')"
        enabled="yes"
        />
    </group>
    <button loc="204 10" size="200 25"
      style="Heading2"
      label="New waveform"
      vc="pboxvnmrj('newwave')"
      enabled="yes"
      />
    <group loc="16 36" size="576 168" font=""
      style="Heading1"
      point=""
      fg=""
      label="Select Waveform"
      border="Etched"
      side="Top"
      justify="Left"
      vq="pboxstr"
      show="$SHOW=(pboxstr[15]='y')"
      tab="no"
      useref="no"
      >
      <label loc="480 128" size="48 24"
        style="Label1"
        label="Wave #"
        justify="Left"
        />
      <textmessage loc="528 128" size="32 24"
        style="Info"
        label="0"
        vq="r7"
        set="if (r7&lt;0.5) then $VALUE='' else format(r7,1,0):$VALUE endif"
        />
      <button loc="344 128" size="120 25"
        style="Heading2"
        label="Add waveform"
        vc="pboxvnmrj('add')"
        enabled="yes"
        />
      <button loc="344 88" size="200 25"
        style="Heading2"
        label="Select from spectrum"
        vc="pboxvnmrj('bw')"
        enabled="yes"
        />
      <group loc="32 80" size="256 104" font=""
        style="Heading1"
        point=""
        fg=""
        border="None"
        side="Top"
        justify="Left"
        tab="no"
        useref="no"
        >
        <label loc="0 48" size="136 24"
          style="Label1"
          label="Frequency offset (Hz)"
          justify="Right"
          />
        <entry loc="144 48" size="104 20"
          style="PlainText"
          vq="r2"
          vc="r2=$VALUE"
          set="$VALUE=r2"
          disable="Grayed out"
          />
        <label loc="16 24" size="120 24"
          style="Label1"
          label="Pulse length (sec)"
          justify="Right"
          />
        <entry loc="144 24" size="104 20"
          style="PlainText"
          vq="r3"
          vc="r3=$VALUE"
          set="$VALUE=r3"
          disable="Grayed out"
          />
        <label loc="32 0" size="104 24"
          style="Label1"
          label="Bandwidth (Hz)"
          justify="Right"
          />
        <entry loc="144 0" size="104 20"
          style="PlainText"
          vq="r1"
          vc="r1=$VALUE"
          set="$VALUE=r1"
          disable="Grayed out"
          />
      </group>
      <group loc="40 24" size="248 48"
        style="Heading1"
        border="None"
        side="Top"
        justify="Left"
        tab="no"
        useref="no"
        >
        <filemenu loc="88 24" size="152 20"
          style="PlainText"
          vq="pboxstr"
          vc="pboxstr[2]='$VALUE'"
          set="$VALUE=pboxstr[2]"
          file="$VALUE=userdir+'/persistence/pbox_namelist'"
          type="file"
          vq2="pboxstr"
          />
        <filemenu loc="88 0" size="152 20"
          style="PlainText"
          vq="pboxstr"
          vc="pboxstr[1]='$VALUE' pboxvnmrj('namelist')"
          set="$VALUE=pboxstr[1]"
          file="$VALUE=userdir+'/persistence/pbox_typelist'"
          type="file"
          />
        <label loc="0 0" size="88 20"
          style="Label1"
          label="Shape type"
          justify="Left"
          />
        <label loc="0 24" size="88 20"
          style="Label1"
          label="Shape name"
          justify="Left"
          />
      </group>
      <group loc="336 24" size="224 80" font=""
        style="Heading1"
        point=""
        fg=""
        border="None"
        side="Top"
        justify="Left"
        tab="no"
        useref="no"
        >
        <label loc="8 24" size="120 20"
          style="Label1"
          label="Reference power"
          justify="Left"
          />
        <entry loc="128 24" size="96 20"
          style="PlainText"
          vq="ref_pwr"
          vc="ref_pwr=$VALUE"
          set="$VALUE=ref_pwr"
          show="on('ref_pwr'):$ENABLE"
          disable="Grayed out"
          />
        <entry loc="128 0" size="96 20"
          style="PlainText"
          vq="ref_pw90"
          vc="ref_pw90=$VALUE"
          set="$VALUE=ref_pw90"
          show="on('ref_pw90'):$ENABLE"
          disable="Grayed out"
          />
        <label loc="8 0" size="120 20"
          style="Label1"
          label="Reference pw90"
          justify="Left"
          />
      </group>
      </group>
    </group>
    <group loc="16 288" size="576 136"
      style="Heading1"
      label="Update Parameters"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      useref="no"
      >
      <label loc="16 8" size="104 20"
        style="Label1"
        label="Shape file name"
        justify="Left"
        />
      <entry loc="120 8" size="200 20" 
        style="PlainText"
        vq="pboxstr"
        vc="pboxstr[3]='$VALUE' pboxvnmrj('readpar')"
        set="$VALUE=pboxstr[3]"
        disable="Grayed out"
        />
      <menu loc="328 8" size="64 20" style="PlainText"
        label="menu"
        vq="pboxstr"
        vc="pboxstr[16]='$VALUE' pboxvnmrj('readpar')"
        set="$VALUE=pboxstr[16]"
        >
        <mlabel label="RF" chval=".RF"/>
        <mlabel label="DEC" chval=".DEC"/>
        <mlabel label="GRD" chval=".GRD"/>
      </menu>
      <button loc="15 52" size="180 25"
        style="Heading2"
        label="Read parameter values"
        vc="pboxvnmrj('readpar')"
        vq="pboxstr pboxreal"
        show="$SHOW=1"
        enabled="yes"
        />
      <button loc="200 52" size="260 25"
        style="Heading2"
        label="Set parameter values into experiment"
        vc="pboxvnmrj('setpar')"
        vq="pboxstr pboxreal"
        enabled="yes"
        />
      <button loc="15 85" size="170 25"
        style="Heading2"
        label="Reset parameter names"
        vc="pboxvnmrj('resetpar')"
        vq="pboxstr pboxreal"
        enabled="yes"
        />
      <group loc="16 128" size="550 124"
        style="Heading1"
        label="Parameters"
        border="Etched"
        side="Top"
        justify="Left"
        tab="no"
        useref="no"
        >
        <label loc="404 12" size="72 20"
          style="Label1"
          label="Name"
          justify="Left"
          />
        <label loc="488 12" size="96 20"
          style="Label1"
          label="Value"
          justify="Left"
          />
        <label loc="304 64" size="96 20"
          style="Label1"
          label="Dec mod freq ("
          justify="Right"
          />
        <label loc="312 40" size="88 20"
          style="Label1"
          label="Pulse width ("
          justify="Right"
          />
        <textmessage loc="488 40" size="96 20"
          style="PlainText"
          label=""
          vq="pboxstr pboxreal"
          set="pboxvnmrj('readpar','pw'):$VALUE"
          />
        <textmessage loc="488 64" size="96 20"
          style="PlainText"
          label=""
          vq="pboxstr pboxreal"
          set="pboxvnmrj('readpar','dmf'):$VALUE"
          />
        <textmessage loc="488 88" size="96 20"
          style="PlainText"
          label=""
          vq="pboxstr pboxreal"
          set="pboxvnmrj('readpar','dres'):$VALUE"
          />
        <label loc="472 40" size="16 20"
          style="Label1"
          label=")"
          justify="Left"
          />
        <label loc="472 64" size="16 20"
          style="Label1"
          label=")"
          justify="Left"
          />
        <label loc="472 88" size="16 20"
          style="Label1"
          label=")"
          justify="Left"
          />
        <entry loc="400 40" size="72 20"
          style="PlainText"
          vq="pboxstr"
          vc="pboxstr[10]='$VALUE'"
          set="$VALUE=pboxstr[10]"
          disable="Grayed out"
          />
        <entry loc="400 64" size="72 20"
          style="PlainText"
          vq="pboxstr"
          vc="pboxstr[11]='$VALUE'"
          set="$VALUE=pboxstr[11]"
          disable="Grayed out"
          />
        <entry loc="400 88" size="72 20"
          style="PlainText"
          vq="pboxstr"
          vc="pboxstr[12]='$VALUE'"
          set="$VALUE=pboxstr[12]"
          disable="Grayed out"
          />
        <label loc="328 88" size="72 20"
          style="Label1"
          label="Resolution ("
          justify="Right"
          />
        <label loc="108 12" size="72 20"
          style="Label1"
          label="Name"
          justify="Left"
          />
        <label loc="192 12" size="120 20"
          style="Label1"
          label="Value"
          justify="Left"
          />
        <label loc="48 40" size="56 20"
          style="Label1"
          label="Pattern ("
          justify="Right"
          />
        <label loc="8 64" size="96 20"
          style="Label1"
          label="Coarse power ("
          justify="Right"
          />
        <label loc="24 88" size="80 20"
          style="Label1"
          label="Fine power ("
          justify="Right"
          />
        <entry loc="104 40" size="72 20"
          style="PlainText"
          vq="pboxstr"
          vc="pboxstr[7]='$VALUE'"
          set="$VALUE=pboxstr[7]"
          disable="Grayed out"
          />
        <entry loc="104 64" size="72 20"
          style="PlainText"
          vq="pboxstr"
          vc="pboxstr[8]='$VALUE'"
          set="$VALUE=pboxstr[8]"
          disable="Grayed out"
          />
        <entry loc="104 88" size="72 20"
          style="PlainText"
          vq="pboxstr"
          vc="pboxstr[9]='$VALUE'"
          set="$VALUE=pboxstr[9]"
          disable="Grayed out"
          />
        <label loc="176 40" size="16 20"
          style="Label1"
          label=")"
          justify="Left"
          />
        <label loc="176 64" size="16 20"
          style="Label1"
          label=")"
          justify="Left"
          />
        <label loc="176 88" size="16 20"
          style="Label1"
          label=")"
          justify="Left"
          />
        <textmessage loc="192 40" size="120 24"
          style="PlainText"
          label=""
          vq="pboxstr pboxreal"
          set="$VALUE=pboxstr[3]"
          />
        <textmessage loc="192 64" size="96 24"
          style="PlainText"
          label=""
          vq="pboxstr pboxreal"
          set="pboxvnmrj('readpar','pwr'):$VALUE"
          />
        <textmessage loc="192 88" size="96 24"
          style="PlainText"
          label=""
          vq="pboxstr pboxreal"
          set="pboxvnmrj('readpar','pwrf'):$VALUE"
          />
      </group>
      <textmessage loc="32 290" size="544 24" 
        style="Info"
        label=""
        vq="pboxstr"
        set="$VALUE=pboxstr[14]"
        />
    </group>
</folder>
</template>
