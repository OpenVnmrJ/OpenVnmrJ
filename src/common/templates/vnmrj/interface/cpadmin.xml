<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="cpadmin" element="groups" type="acquisition" >
  <group size="830 450"
    bg=""
    border="None"
    tab="no"
    enable="no"
    reference="cpadmin"
    useref="no"
    subtype="Convenience"
    expanded="yes"
    >
    <button loc="300 390" size="200 25"
      style="Heading2"
      label="Save"
      vc="cpADMIN('save')"
      />
    <folder loc="10 20" size="810 355">
    <group loc="10 20" size="810 355" value="Templates">

  <group loc="45 5" size="700 255"
    bg=""
    border="None"
    tab="no"
    enable="no"
    vq="cpprefs"
    show="$SHOW=1"
    vc="vnmrjcmd('pnew','cpprefs')"
    reference="cpadminsavedata"
    useref="no"
    subtype="Convenience"
    expanded="yes"
    >
    <label loc="20 35" size="260 20"
      style="Label1"
      label="Study directory template (svfdir)"
      justify="Left"
      />
    <entry loc="275 35" size="400 20"
      style="PlainText"
      vq="cpprefs"
      vc="cpprefs[9]='$VALUE' cpADMIN('example')"
      set="$VALUE=cpprefs[9]"
      />
    <label loc="20 55" size="260 20"
      style="Label1"
      label="Sample directory template (sampdirtmplt)"
      justify="Left"
      />
    <entry loc="275 55" size="400 20"
      style="PlainText"
      vq="cpprefs"
      vc="cpprefs[10]='$VALUE' cpADMIN('example')"
      set="$VALUE=cpprefs[10]"
      />
    <label loc="20 75" size="260 20"
      style="Label1"
      label="Data template (svfname)"
      justify="Left"
      />
    <entry loc="275 75" size="400 20"
      style="PlainText"
      vq="cpprefs"
      vc="cpprefs[11]='$VALUE' cpADMIN('example')"
      set="$VALUE=cpprefs[11]"
      />
    <label loc="20 95" size="260 20"
      style="Label1"
      label="Automation directory template (autodir)"
      justify="Left"
      />
    <entry loc="275 95" size="400 20"
      style="PlainText"
      vq="cpprefs"
      vc="cpprefs[26]='$VALUE' setautodirtmplt(cpprefs[26]):cpprefs[26] cpADMIN('example')"
      set="$VALUE=cpprefs[26]"
      />
    <label loc="20 120" size="145 20"
      style="Label1"
      label="Bitmap image format"
      justify="Left"
      />
    <filemenu loc="160 120" size="80 20"
        style="PlainText"
        vq="cpprefs"
        vq2="cpprefs"
        set="$VALUE=cpprefs[8]"
        vc="cpprefs[8]='$VALUE'"
        file="$VALUE=userdir+'/persistence/cpADMIN/plotformats'"
    />
    <label loc="275 120" size="145 20"
      style="Label1"
      label="Time display format"
      justify="Left"
      />
    <menu loc="410 120" size="135 20"
        style="PlainText"
        vq="cpprefs"
        vc="cpprefs[68]='$VALUE'"
        set="$VALUE=cpprefs[68]"
        editable="No"
        >
        <mlabel
          label="12 Hour (AM/PM)"
          chval="ampm"
          />
        <mlabel
          label="24 Hour"
          chval="24hour"
          />
    </menu>
    <label loc="20 145" size="120 20"
      style="Label1"
      label="Examples:"
      fg=""
      />
    <label loc="40 165" size="150 20"
      style="Label1"
      label="Study directory:"
      justify="Right"
      vq="cpprefs"
      />
    <textmessage loc="200 165" size="350 20"
      style="PlainText"
      label=""
      vq="cpprefs"
      set="$VALUE=cpprefs[27]"
      />
    <label loc="40 185" size="150 20"
      style="Label1"
      label="Sample directory:"
      justify="Right"
      vq="cpprefs"
      />
    <textmessage loc="200 185" size="350 20"
      style="PlainText"
      label=""
      vq="cpprefs"
      set="$VALUE=cpprefs[28]"
      />
    <label loc="40 205" size="150 20"
      style="Label1"
      label="Data:"
      justify="Right"
      vq="cpprefs"
      />
    <textmessage loc="200 205" size="350 20"
      style="PlainText"
      label=""
      vq="cpprefs"
      set="$VALUE=cpprefs[29]"
      />
    <label loc="40 225" size="150 20"
      style="Label1"
      label="Automation directory:"
      justify="Right"
      vq="cpprefs"
      />
    <textmessage loc="200 225" size="350 20"
      style="PlainText"
      label=""
      vq="cpprefs"
      set="$VALUE=cpprefs[33]"
      />
    <button loc="275 5" size="230 25"
      style="Heading2"
      label="Restore defaults"
      vc="cpADMIN('defaults')"
      />
    <label loc="0 5" size="200 25"
      style="Label1"
      label="Template preferences:"
      />
  </group>
   </group>

    <group loc="10 45" size="810 355" value="Automation" >

  <group loc="25 5" size="695 305"
    border="None"
    tab="no"
    enable="no"
    vq="cpprefs"
    show="$SHOW=1"
    vc="vnmrjcmd('pnew','cpprefs')"
    reference="cpadminautomation"
    useref="no"
    subtype="Convenience"
    expanded="yes"
    >
    <textmessage loc="10 5" size="375 20"
      style="Info"
      label="traymax = 100"
      vq="traymax"
      set="$st='' $traymax=traymax if (traymax=97) then $traymax=96 endif format($traymax,0,0):$st if (traymax=0) then $VALUE='Background Acquisition Preferences (traymax=0)' else $VALUE='Automation preferences:  traymax = '+$st endif"
      />
    <group loc="435 25" size="240 210"
      vq="traymax"
      show="$SHOW=(traymax&gt;0)"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Convenience"
      >
    <button loc="25 80" size="200 25"
      style="Heading2"
      label="Set time schedule"
      vc="autoschedule('init',cpprefs[7])"
      />
    <radio loc="25 25" size="200 20"
        style="Label1"
	label="Always use current"
        vq="cpprefs"
        vc="cpprefs[7]='current'"
	vc2="cpprefs[7]='daily'"
        set="$VALUE=(cpprefs[7]='current')"
        />
    <radio loc="25 45" size="200 20"
        style="Label1"
        label="Create as per schedule"
        vq="cpprefs"
        vc="cpprefs[7]='daily'"
        vc2="cpprefs[7]='current'"
        set="$VALUE=(cpprefs[7]='daily')"
        />
    <label loc="5 0" size="225 20"
        style="Label1"
        label="Automation directory:"
        justify="Left"
        />
    </group>
    <group loc="5 25" size="610 280"
      vq="traymax"
      show="$SHOW=(traymax=0)"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Convenience"
      >
      <label loc="5 35" size="215 20"
        style="Label1"
        label="Process/plot time"
        justify="Right"
        />
      <label loc="285 35" size="65 20"
        style="Label1"
        label="s"
        />
      <entry loc="230 35" size="50 20"
        style="PlainText"
        vq="cpprefs"
        vc="cpprefs[2]='$VALUE'"
        set="$VALUE=cpprefs[2]"
        />
      <label loc="5 55" size="215 20"
        style="Label1"
        label="Shim each sample from"
        justify="Right"
        />
      <menu loc="230 55" size="160 20"
        style="PlainText"
        vq="cpprefs"
        vc="cpprefs[49]='$VALUE'"
        set="$VALUE=cpprefs[49]"
        editable="No"
        >
        <mlabel
          label="Default shims"
          chval="yes"
          />
        <mlabel
          label="Last shims"
          chval="no"
          />
      </menu>
      <check loc="230 75" size="65 20"
        style="Label1"
        label="yes"
        vq="cpprefs atune"
        show="$ENABLE=(atune='y')*2-1"
        vc="cpprefs[50]='yes'"
        vc2="cpprefs[50]='no'"
        set="$VALUE=(cpprefs[50]='yes')"
        />
      <label loc="5 75" size="215 20"
        style="Label1"
        label="Skip sample if protune fails"
        justify="Right"
        />
      <group loc="230 95" size="340 22"
        vq="tin"
        show="vnmrinfo('get','tempExpControl'):$SHOW $SHOW=($SHOW=0)"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <label loc="0 0" size="340 20"
          style="Label1"
          label="Temperature control from Spin/Temp panel only"
          justify="Left"
          />
      </group>
      <group loc="230 95" size="120 22"
        vq="tin"
        show="vnmrinfo('get','tempExpControl'):$SHOW"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <check loc="45 0" size="65 20"
          style="Label1"
          label="Ambient"
          vq="cpprefs"
          vc="cpprefs[39]=''"
          set="$VALUE=(cpprefs[39]='')"
          />
        <entry loc="0 0" size="40 20"
          style="PlainText"
          vq="cpprefs"
          vc="cpprefs[39]='$VALUE'"
          set="$VALUE=cpprefs[39]"
          />
      </group>
      <label loc="5 95" size="215 20"
        style="Label1"
        label="Default sample temp.(C):"
        justify="Right"
        />
    </group>
    <group loc="5 25" size="680 280"
      vq="traymax"
      show="$SHOW=(traymax&gt;0)"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Convenience"
      >
      <label loc="10 15" size="215 20"
        style="Label1"
        label="Sample change time"
        justify="Left"
        />
      <label loc="285 15" size="65 20"
        style="Label1"
        label="s"
        />
      <entry loc="230 15" size="50 20"
        style="PlainText"
        vq="cpprefs"
        vc="cpprefs[1]='$VALUE'"
        set="$VALUE=cpprefs[1]"
        />
      <label loc="10 35" size="215 20"
        style="Label1"
        label="Process/plot time"
        justify="Left"
        />
      <label loc="285 35" size="65 20"
        style="Label1"
        label="s"
        />
      <entry loc="230 35" size="50 20"
        style="PlainText"
        vq="cpprefs"
        vc="cpprefs[2]='$VALUE'"
        set="$VALUE=cpprefs[2]"
        />
      <label loc="10 55" size="215 20"
        style="Label1"
        label="Shim each sample from"
        justify="Left"
        />
      <menu loc="230 55" size="160 20"
        style="PlainText"
        vq="cpprefs"
        vc="cpprefs[49]='$VALUE'"
        set="$VALUE=cpprefs[49]"
        editable="No"
        >
        <mlabel
          label="Default shims"
          chval="yes"
          />
        <mlabel
          label="Last shims"
          chval="no"
          />
      </menu>
      <check loc="230 75" size="65 20"
        style="Label1"
        label="yes"
        vq="cpprefs atune"
        show="$ENABLE=(atune='y')*2-1"
        vc="cpprefs[50]='yes'"
        vc2="cpprefs[50]='no'"
        set="$VALUE=(cpprefs[50]='yes')"
        />
      <label loc="10 75" size="215 20"
        style="Label1"
        label="Skip sample if protune fails"
        justify="Left"
        />
      <label loc="305 95" size="90 20"
        style="Label1"
        label="(per operator)"
        />
      <entry loc="230 95" size="70 20"
        style="PlainText"
        vq="cpprefs"
        vc="cpprefs[3]='$VALUE'"
        set="$VALUE=cpprefs[3]"
        />
      <label loc="10 95" size="215 20"
        style="Label1"
        label="Max priority samples"
        justify="Left"
        />
      <label loc="10 115" size="215 20"
        style="Label1"
        label="Allow priority samples at night"
        justify="Left"
        />
      <check loc="230 115" size="65 20"
        style="Label1"
        label="yes"
        vq="cpprefs"
        vc="cpprefs[80]='yes'"
        vc2="cpprefs[80]='no'"
        set="$VALUE=(cpprefs[80]='yes')"
        />
      <check loc="230 135" size="165 20"
        style="Label1"
        label="redirect Exp to NightQ"
        vq="cpprefs"
        vc="cpprefs[58]='yes'"
        vc2="cpprefs[58]='no'"
        set="$VALUE=(cpprefs[58]='yes')"
        />
      <label loc="10 135" size="215 20"
        style="Label1"
        label="When DayQ exceeds time limit:"
        justify="Left"
        />
      <label loc="10 155" size="215 20"
        style="Label1"
        label="Locations selection"
        vq="traymax"
        show="$SHOW=((traymax&lt;&gt;96) and (traymax&lt;&gt;768) and (traymax&gt;1))*2-1"
        justify="Left"
        />
      <menu loc="230 155" size="160 20"
        style="PlainText"
        vq="cpprefs traymax"
        vc="cpprefs[4]='$VALUE'"
        show="$SHOW=((traymax&lt;&gt;96) and (traymax&lt;&gt;768) and (traymax&gt;1))*2-1"
        set="$VALUE=cpprefs[4]"
        editable="No"
        >
        <mlabel 
          label="Let user select"
          chval="random"
          />
        <mlabel 
          label="Next available"
          chval="next"
          />
      </menu>
      <check loc="230 175" size="65 20"
        style="Label1"
        label="yes"
        vq="cpprefs"
        vc="cpprefs[38]='yes'"
        vc2="cpprefs[38]='no'"
        set="$VALUE=(cpprefs[38]='yes')"
        />
      <label loc="10 175" size="215 20"
        style="Label1"
        label="Auto-resubmit errored locations"
        justify="Left"
        />
      <check loc="230 195" size="65 20"
        style="Label1"
        label="yes"
        vq="cpprefs"
        vc="cpprefs[36]='yes'"
        vc2="cpprefs[36]='no'"
        set="$VALUE=(cpprefs[36]='yes')"
        />
      <label loc="10 195" size="215 20"
        style="Label1"
        label="Reuse errored locations"
        justify="Left"
        />
      <check loc="230 215" size="65 20"
        style="Label1"
        label="yes"
        vq="cpprefs"
        vc="cpprefs[43]='yes'"
        vc2="cpprefs[43]='no'"
        set="$VALUE=(cpprefs[43]='yes')"
        />
      <label loc="10 215" size="215 20"
        style="Label1"
        label="Reuse completed locations"
        justify="Left"
        />
      <group loc="230 235" size="350 22"
        vq="tin"
        show="vnmrinfo('get','tempExpControl'):$SHOW $SHOW=($SHOW=0)"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <label loc="0 0" size="350 20"
          style="Label1"
          label="Temperature control from Spin/Temp panel only"
          justify="Left"
          />
      </group>
      <group loc="230 235" size="120 22"
        vq="tin"
        show="vnmrinfo('get','tempExpControl'):$SHOW"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <check loc="45 0" size="65 20"
          style="Label1"
          label="Ambient"
          vq="cpprefs"
          vc="cpprefs[39]=''"
          set="$VALUE=(cpprefs[39]='')"
          />
        <entry loc="0 0" size="40 20"
          style="PlainText"
          vq="cpprefs"
          vc="cpprefs[39]='$VALUE'"
          set="$VALUE=cpprefs[39]"
          />
      </group>
      <label loc="10 235" size="215 20"
        style="Label1"
        label="Default automation temp.(C):"
        justify="Left"
        />
      <label loc="10 255" size="225 20"
        style="Label1"
        label="When Automation queue is done:"
        vq="traymax"
        show="$SHOW=((traymax&lt;&gt;96) and (traymax&lt;&gt;768) and (traymax&gt;1))*2-1"
        justify="Left"
        />
      <filemenu loc="230 255" size="240 20"
        style="PlainText"
        vq="cpprefs"
        vq2="cpprefs"
        show="$SHOW=((traymax&lt;&gt;96) and (traymax&lt;&gt;768) and (traymax&gt;1))*2-1"
        set="$VALUE=cpprefs[15]"
        vc="cpprefs[15]='$VALUE'"
        file="$VALUE=userdir+'/persistence/cpADMIN/refsample'"
        />
      <group loc="475 255" size="200 20"
        vq="cpprefs traymax"
        show="$SHOW=((cpprefs[15]='standby') and (traymax&lt;&gt;96) and (traymax&lt;&gt;768) and (traymax&gt;1))"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <label loc="0 0" size="100 20"
          style="Label1"
          label="standby location:"
          vq="traymax"
          justify="Left"
          />
        <entry loc="100 0" size="40 20"
          style="PlainText"
          vq="cpprefs"
          vc="cpADMIN('standbysample','$VALUE'):cpprefs[72]"
          set="$VALUE=cpprefs[72]"
          />
        </group>
    </group>
  </group>
   </group>

    <group loc="10 45" size="810 355" value="SQview" >
  <group loc="55 5" size="690 295"
    border="None"
    tab="no"
    enable="no"
    vq="cpprefs"
    show="$SHOW=1"
    vc="vnmrjcmd('pnew','cpprefs')"
    reference="cpadminautomation"
    useref="no"
    subtype="Convenience"
    expanded="yes"
    >
    <label loc="10 15" size="190 20"
      style="Label1"
      label="StudyQueue view options:"
      justify="Left"
      />
    <check loc="50 40" size="150 20"
      style="Label1"
      label="Sample"
      vq="cpprefs"
      vc="strstr(cpprefs[74],'Sample'):$ok if not ($ok) then cpprefs[74]=cpprefs[74]+' Sample' endif"
      vc2="$s1='' $s2='' strstr(cpprefs[74],'Sample'):$ok,$s1,$s2 if ($ok) then cpprefs[74]=$s1+' '+$s2 endif"
      set="strstr(cpprefs[74],'Sample'):$ok $VALUE=$ok"
      />
    <check loc="50 60" size="150 20"
      style="Label1"
      label="Active sample"
      vq="cpprefs"
      vc="strstr(cpprefs[74],'Active'):$ok if not ($ok) then cpprefs[74]=cpprefs[74]+' Active' endif"
      vc2="$s1='' $s2='' strstr(cpprefs[74],'Active'):$ok,$s1,$s2 if ($ok) then cpprefs[74]=$s1+' '+$s2 endif"
      set="strstr(cpprefs[74],'Active'):$ok $VALUE=$ok"
      />
    <check loc="50 80" size="150 20"
      style="Label1"
      label="Spectrometer"
      vq="cpprefs"
      vc="strstr(cpprefs[74],'Spectrometer'):$ok if not ($ok) then cpprefs[74]=cpprefs[74]+' Spectrometer' endif"
      vc2="$s1='' $s2='' strstr(cpprefs[74],'Spectrometer'):$ok,$s1,$s2 if ($ok) then cpprefs[74]=$s1+' '+$s2 endif"
      set="strstr(cpprefs[74],'Spectrometer'):$ok $VALUE=$ok"
      />
    <check loc="50 100" size="150 20"
      style="Label1"
      label="Study cluster"
      vq="cpprefs"
      vc="strstr(cpprefs[74],'Cluster'):$ok if not ($ok) then cpprefs[74]=cpprefs[74]+' Cluster' endif"
      vc2="$s1='' $s2='' strstr(cpprefs[74],'Cluster'):$ok,$s1,$s2 if ($ok) then cpprefs[74]=$s1+' '+$s2 endif"
      set="strstr(cpprefs[74],'Cluster'):$ok $VALUE=$ok"
      />

    <label loc="10 135" size="190 20"
      style="Label1"
      label="Sample view preferences:"
      justify="Left"
      />
    <check loc="50 160" size="150 20"
      style="Label1"
      label="Show scout FIDs"
      vq="cpprefs"
      vc="cpprefs[67]='yes'"
      vc2="cpprefs[67]='no'"
      set="$VALUE=(cpprefs[67]='yes')"
      />
    <check loc="50 180" size="150 20"
      style="Label1"
      label="Show errored nodes"
      vq="cpprefs"
      vc="cpprefs[73]='yes'"
      vc2="cpprefs[73]='no'"
      set="$VALUE=(cpprefs[73]='yes')"
      />

    <label loc="275 15" size="250 20"
      style="Label1"
      label="Spectrometer view preferences:"
      justify="Left"
      />
    <check loc="300 65" size="350 20"
      style="Label1"
      label="Reverse chronology for completed studies/FIDs"
      vq="cpprefs"
      vc="cpprefs[54]='reverse'"
      vc2="cpprefs[54]=''"
      set="$VALUE=(cpprefs[54]='reverse')"
      />
    <group loc="265 20" size="400 270"
      vq="traymax"
      show="$SHOW=(traymax&gt;0)"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
<!--
    <label loc="5 0" size="230 25"
      style="Heading1"
      label="Spectrometer View preferences"
      justify="Left"
      />
-->
    <label loc="10 20" size="160 20"
      style="Label1"
      label="Display order: "
      justify="Left"
      />
    <button loc="120 20" size="180 25"
      style="Heading2"
      label="Restore defaults"
      vc="cpprefs[53]='ACPEQ'"
      />
    <radio loc="50 70" size="160 20"
      style="Label1"
      label="Active study"
      vq="cpprefs atune"
      vc="$ret=0 strstr(cpprefs[53],'A'):$ret if ($ret=0) then cpprefs[53]=cpprefs[53]+'A' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(cpprefs[53],'A'):$ret,$s1,$s2 if ($ret) then cpprefs[53]=$s1+$s2 endif"
      set="$ret=0 strstr(cpprefs[53],'A'):$ret $VALUE=$ret"
      />
    <check loc="50 90" size="160 20"
      style="Label1"
      label="Completed studies"
      vq="cpprefs atune"
      show="$ret1=0 strstr(cpprefs[53],'F'):$ret1 if ($ret1=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(cpprefs[53],'C'):$ret if ($ret=0) then cpprefs[53]=cpprefs[53]+'C' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(cpprefs[53],'C'):$ret,$s1,$s2 if ($ret) then cpprefs[53]=$s1+$s2 endif"
      set="$ret=0 strstr(cpprefs[53],'C'):$ret $VALUE=$ret"
      />
    <check loc="50 110" size="160 20"
      style="Label1"
      label="Studies in progress"
      vq="cpprefs atune"
      show="$ret1=0 strstr(cpprefs[53],'F'):$ret1 $ret2=0 strstr(cpprefs[53],'S'):$ret2 if ($ret1=0) and ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(cpprefs[53],'P'):$ret if ($ret=0) then cpprefs[53]=cpprefs[53]+'P' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(cpprefs[53],'P'):$ret,$s1,$s2 if ($ret) then cpprefs[53]=$s1+$s2 endif"
      set="$ret=0 strstr(cpprefs[53],'P'):$ret $VALUE=$ret"
      />
    <check loc="50 130" size="360 20"
      style="Label1"
      label="FIDs (chronological acquisition)"
      vq="cpprefs atune"
      show="$ret1=0 strstr(cpprefs[53],'S'):$ret1 if ($ret1=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(cpprefs[53],'F'):$ret if ($ret=0) then cpprefs[53]=cpprefs[53]+'F' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(cpprefs[53],'F'):$ret,$s1,$s2 if ($ret) then cpprefs[53]=$s1+$s2 endif"
      set="$ret=0 strstr(cpprefs[53],'F'):$ret $VALUE=$ret"
      />
    <check loc="50 150" size="160 20"
      style="Label1"
      label="Errored studies"
      vq="cpprefs atune"
      vc="$ret=0 strstr(cpprefs[53],'E'):$ret if ($ret=0) then cpprefs[53]=cpprefs[53]+'E' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(cpprefs[53],'E'):$ret,$s1,$s2 if ($ret) then cpprefs[53]=$s1+$s2 endif"
      set="$ret=0 strstr(cpprefs[53],'E'):$ret $VALUE=$ret"
      />
    <radio loc="50 170" size="160 20"
      style="Label1"
      label="Active study (here)"
      vq="cpprefs atune"
      vc2="$ret=0 strstr(cpprefs[53],'A'):$ret if ($ret=0) then cpprefs[53]=cpprefs[53]+'A' endif"
      vc="$ret=0 $s1='' $s2='' strstr(cpprefs[53],'A'):$ret,$s1,$s2 if ($ret) then cpprefs[53]=$s1+$s2 endif"
      set="$ret=0 strstr(cpprefs[53],'A'):$ret if ($ret=0) then $VALUE=1 else $VALUE=0 endif"
      />
    <check loc="50 190" size="360 25"
      style="Label1"
      label="Pending studies (chronological location access)"
      vq="cpprefs atune"
      vc="$ret=0 strstr(cpprefs[53],'S'):$ret if ($ret=0) then cpprefs[53]=cpprefs[53]+'S' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(cpprefs[53],'S'):$ret,$s1,$s2 if ($ret) then cpprefs[53]=$s1+$s2 endif"
      set="$ret=0 strstr(cpprefs[53],'S'):$ret $VALUE=$ret"
      />
    <check loc="50 210" size="175 20"
      style="Label1"
      label="Studies in DayQ/NightQ"
      vq="cpprefs atune"
      show="$ret1=0 strstr(cpprefs[53],'S'):$ret1 if ($ret1=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(cpprefs[53],'Q'):$ret if ($ret=0) then cpprefs[53]=cpprefs[53]+'Q' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(cpprefs[53],'Q'):$ret,$s1,$s2 if ($ret) then cpprefs[53]=$s1+$s2 endif"
      set="$ret=0 strstr(cpprefs[53],'Q'):$ret $VALUE=$ret"
      />
    </group>
    <group loc="265 20" size="400 240"
      vq="traymax"
      show="$SHOW=(traymax=0)"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
<!--
    <label loc="5 0" size="230 25"
      style="Heading1"
      label="Spectrometer View preferences"
      justify="Left"
      />
-->
    <label loc="10 20" size="160 20"
      style="Label1"
      label="Display order: "
      justify="Left"
      />
    <button loc="120 20" size="180 25"
      style="Heading2"
      label="Restore defaults"
      vc="cpprefs[53]='ACPEQ'"
      />
    <radio loc="50 70" size="160 20"
      style="Label1"
      label="Active study"
      vq="cpprefs atune"
      vc="$ret=0 strstr(cpprefs[53],'A'):$ret if ($ret=0) then cpprefs[53]=cpprefs[53]+'A' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(cpprefs[53],'A'):$ret,$s1,$s2 if ($ret) then cpprefs[53]=$s1+$s2 endif"
      set="$ret=0 strstr(cpprefs[53],'A'):$ret $VALUE=$ret"
      />
    <check loc="50 90" size="160 20"
      style="Label1"
      label="Completed studies"
      vq="cpprefs atune"
      show="$ret1=0 strstr(cpprefs[53],'F'):$ret1 if ($ret1=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(cpprefs[53],'C'):$ret if ($ret=0) then cpprefs[53]=cpprefs[53]+'C' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(cpprefs[53],'C'):$ret,$s1,$s2 if ($ret) then cpprefs[53]=$s1+$s2 endif"
      set="$ret=0 strstr(cpprefs[53],'C'):$ret $VALUE=$ret"
      />
    <check loc="50 110" size="160 20"
      style="Label1"
      label="FIDs (chronological)"
      vq="cpprefs atune"
      vc="$ret=0 strstr(cpprefs[53],'F'):$ret if ($ret=0) then cpprefs[53]=cpprefs[53]+'F' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(cpprefs[53],'F'):$ret,$s1,$s2 if ($ret) then cpprefs[53]=$s1+$s2 endif"
      set="$ret=0 strstr(cpprefs[53],'F'):$ret $VALUE=$ret"
      />
    <check loc="50 130" size="160 20"
      style="Label1"
      label="Errored studies"
      vq="cpprefs atune"
      vc="$ret=0 strstr(cpprefs[53],'E'):$ret if ($ret=0) then cpprefs[53]=cpprefs[53]+'E' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(cpprefs[53],'E'):$ret,$s1,$s2 if ($ret) then cpprefs[53]=$s1+$s2 endif"
      set="$ret=0 strstr(cpprefs[53],'E'):$ret $VALUE=$ret"
      />
    <radio loc="50 150" size="160 20"
      style="Label1"
      label="Active study (here)"
      vq="cpprefs atune"
      vc2="$ret=0 strstr(cpprefs[53],'A'):$ret if ($ret=0) then cpprefs[53]=cpprefs[53]+'A' endif"
      vc="$ret=0 $s1='' $s2='' strstr(cpprefs[53],'A'):$ret,$s1,$s2 if ($ret) then cpprefs[53]=$s1+$s2 endif"
      set="$ret=0 strstr(cpprefs[53],'A'):$ret if ($ret=0) then $VALUE=1 else $VALUE=0 endif"
      />
    </group>
   </group>
    </group>

   <group loc="10 45" size="810 355" value="Queue" >

  <group loc="55 5" size="585 325"
    border="None"
    tab="no"
    enable="no"
    vq="cpprefs"
    show="$SHOW=1"
    vc="vnmrjcmd('pnew','cpprefs')"
    reference="cpadminqueue"
    useref="no"
    subtype="Convenience"
    expanded="yes"
    >
    <label loc="5 0" size="155 20"
      style="Label1"
      label="Queue preferences:"
      />
    <label loc="160 0" size="450 20"
      style="Label1"
      label="[User can override AutoLock, AutoShim, ProTune, and TempPad options]"
      justify="Left"
      />
    <label loc="355 25" size="40 20"
      style="Label1"
      label="for"
      justify="Left"
      />
    <menu loc="380 25" size="170 20"
        style="PlainText"
        vq="cpprefs"
        vc="$val='$VALUE' if $val='New' then cpprefs[70]='New' cpprefs[69]='' elseif $val='Continue' then cpprefs[70]='' cpprefs[69]='Continue' elseif ($val='NewContinue') or ($val='ContinueNew') then cpprefs[70]='New' cpprefs[69]='Continue' else cpprefs[69]='' cpprefs[70]='' endif"
        set="$VALUE=cpprefs[70]+cpprefs[69]"
        editable="No"
        >
        <mlabel
          label="New study only"
          chval="New"
          />
        <mlabel
          label="New and continue study"
          chval="NewContinue"
          />
    </menu>
    <check loc="270 25" size="95 20"
      style="Label1"
      label="AutoShim"
      vq="cpprefs"
      vc="cpprefs[13]='e'"
      vc2="cpprefs[13]='n'"
      set="$VALUE=((cpprefs[13]&lt;&gt;'n') and (cpprefs[13]&lt;&gt;''))"
      />
    <check loc="175 25" size="90 20"
      style="Label1"
      label="AutoLock"
      vq="cpprefs"
      vc="cpprefs[12]='a'"
      vc2="cpprefs[12]='n'"
      set="$VALUE=((cpprefs[12]&lt;&gt;'n') and (cpprefs[12]&lt;&gt;''))"
      />
    <label loc="30 25" size="160 20"
      style="Label1"
      label="Before first experiment:"
      justify="Left"
      />
    <label loc="5 50" size="200 20"
      style="Label1"
      label="By default, run Queue in:"
      />
    <radio loc="205 50" size="100 20"
      style="Label1"
      label="Automation"
      vq="cpprefs traymax"
      vc="cpprefs[52]='autodir' strstr(cpprefs[62],'auto'):$ok if ($ok=0) then cpprefs[62]='auto'+cpprefs[62] endif"
      vc2="cpprefs[52]=cpprefs[52]"
      set="$VALUE=(cpprefs[52]='autodir')"
      show="$ENABLE=(traymax&gt;1)*2-1"
      />
    <radio loc="305 50" size="100 20"
      style="Label1"
      label="Foreground"
      vq="cpprefs"
      vc="cpprefs[52]='fgexp' strstr(cpprefs[62],'fg'):$ok if ($ok=0) then cpprefs[62]='fg'+cpprefs[62] endif"
      vc2="cpprefs[52]=cpprefs[52]"
      set="$VALUE=(cpprefs[52]='fgexp')"
      />
    <radio loc="405 50" size="100 20"
      style="Label1"
      label="Background"
      vq="cpprefs"
      vc="cpprefs[52]='bgauto' strstr(cpprefs[62],'bg'):$ok if ($ok=0) then cpprefs[62]='bg'+cpprefs[62] endif"
      vc2="cpprefs[52]=cpprefs[52]"
      set="$VALUE=(cpprefs[52]='bgauto')"
      />
    <label loc="5 75" size="120 20"
      style="Label1"
      label="By default, add..."
      />
    <entry loc="130 75" size="100 20"
        style="PlainText"
        vq="cpprefs"
        vc="cpprefs[5]='$VALUE'"
        set="$VALUE=cpprefs[5]"
        />
    <label loc="235 75" size="340 20"
      style="Label1"
      label="to the Queue for a new study"
      />
    <group loc="0 100" size="570 125"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Convenience"
      expanded="yes"
      >
      <check loc="5 0" size="360 20"
        style="Label1"
        label="Allow submission to Automation Queue"
        vq="cpprefs traymax"
        vc="strstr(cpprefs[62],'auto'):$ok if ($ok=0) then cpprefs[62]=cpprefs[62]+'auto' endif"
        vc2="$s1='' $s2='' strstr(cpprefs[62],'auto'):$ok,$s1,$s2 if ($ok) and (cpprefs[52]&lt;&gt;'autodir') then cpprefs[62]=$s1+$s2 else cpprefs[62]=cpprefs[62] endif"
        set="strstr(cpprefs[62],'auto'):$VALUE"
        show="$ENABLE=(traymax&gt;1)*2-1"
        />
      <textmessage loc="310 0" size="175 20"
        style="Info"
        label="traymax = 100"
        vq="traymax"
        set="$st='' $traymax=traymax if (traymax=97) then $traymax=96 endif format($traymax,0,0):$st $VALUE='(traymax = '+$st+')'"
        />
      <label loc="30 25" size="270 20"
        style="Label1"
        vq="traymax"
        label="Before first (day and night) experiment:"
        justify="Left"
        />
      <check loc="310 25" size="95 20"
        style="Label1"
        label="ProTune"
        vq="cpprefs atune traymax"
        show="$ENABLE=((atune='y') and (traymax&gt;1))*2-1"
        vc="if (atune&lt;&gt;'y') then cpprefs[44]='no' else strstr(cpprefs[44],'wkup'):$wk if ($wk) then $s='autowkup' else $s='auto' endif cpprefs[44]=$s endif"
        vc2="strstr(cpprefs[44],'wkup'):$wk if ($wk) then $s='wkup' else $s='no' endif cpprefs[44]=$s"
        set="strstr(cpprefs[44],'auto'):$ato $VALUE=((cpprefs[44]='yes') or ($ato&gt;0))"
        />
      <label loc="30 50" size="300 20"
        style="Label1"
        vq="traymax"
        label="Before first acq. equilibrate sample temp for:"
        justify="Left"
        />
      <label loc="370 50" size="125 20"
        style="Label1"
        vq="traymax"
        label="s (TempPad)"
        />
      <entry loc="310 50" size="50 20"
        style="PlainText"
        vq="cpprefs traymax"
        vc="cpprefs[34]='$VALUE'"
        set="$VALUE=cpprefs[34]"
	show="$ENABLE=(traymax&gt;1)*2-1"
        />
      <check loc="30 75" size="480 20"
        style="Label1"
        label="After findz0 routine read lockphase from probe file (automation only)"
        vq="cpprefs traymax"
        vc="cpprefs[51]='yes'"
        vc2="cpprefs[51]='no'"
        set="$VALUE=(cpprefs[51]='yes')"
        show="$ENABLE=(traymax&gt;1)*2-1"
        />
      <label loc="30 100" size="200 20"
        style="Label1"
        vq="traymax"
        label="Before sample insert, allow"
        justify="Left"
        />
      <entry loc="200 100" size="40 20"
        style="PlainText"
        vq="cpprefs traymax"
        vc="cpprefs[40]='$VALUE'"
        set="$VALUE=cpprefs[40]"
        show="$ENABLE=(traymax&gt;1)*2-1"
        />
      <label loc="245 100" size="200 20"
        style="Label1"
        vq="traymax"
        label="s for temp to change; else..."
        justify="Left"
        />
      <menu loc="420 100" size="80 20"
        style="PlainText"
        vq="cpprefs traymax"
        vc="cpprefs[41]='$VALUE'"
        set="$VALUE=cpprefs[41]"
        show="$ENABLE=(traymax&gt;1)*2-1"
        editable="No"
        >
        <mlabel
          label="Abort"
          chval="y"
          />
        <mlabel
          label="Alert"
          chval="w"
          />
        <mlabel
          label="Ignore"
          chval="n"
          />
      </menu>
    </group>
    <group loc="5 225" size="570 75"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Convenience"
      expanded="yes"
      >
      <check loc="5 0" size="460 20"
        style="Label1"
        label="Allow submission to Non-Automation Queue in foreground"
        justify="Left"
        vq="cpprefs"
        vc="strstr(cpprefs[62],'fg'):$ok if ($ok=0) then cpprefs[62]='fg'+cpprefs[62] endif"
        vc2="$s1='' $s2='' strstr(cpprefs[62],'fg'):$ok,$s1,$s2 if ($ok) and (cpprefs[52]&lt;&gt;'fgexp') then cpprefs[62]=$s1+$s2 else cpprefs[62]=cpprefs[62] endif"
        set="strstr(cpprefs[62],'fg'):$VALUE"
        />
      <check loc="5 25" size="460 20"
        style="Label1"
        label="Allow submission to Non-Automation Queue in background"
        justify="Left"
        vq="cpprefs"
        vc="strstr(cpprefs[62],'bg'):$ok if ($ok=0) then cpprefs[62]='bg'+cpprefs[62] endif"
        vc2="$s1='' $s2='' strstr(cpprefs[62],'bg'):$ok,$s1,$s2 if ($ok) and (cpprefs[52]&lt;&gt;'bgauto') then cpprefs[62]=$s1+$s2 else cpprefs[62]=cpprefs[62] endif"
        set="strstr(cpprefs[62],'bg'):$VALUE"
        />
      <label loc="25 50" size="150 20"
        style="Label1"
        label="Before first experiment:"
        justify="Left"
        />
      <check loc="195 50" size="95 20"
        style="Label1"
        label="ProTune"
        vq="cpprefs atune"
        show="$ENABLE=(atune='y')*2-1"
        vc="if (atune&lt;&gt;'y') then cpprefs[44]='no' else strstr(cpprefs[44],'auto'):$wk if ($wk) then $s='autowkup' else $s='wkup' endif cpprefs[44]=$s endif"
        vc2="strstr(cpprefs[44],'auto'):$wk if ($wk) then $s='auto' else $s='no' endif cpprefs[44]=$s"
        set="strstr(cpprefs[44],'wkup'):$ato $VALUE=($ato&gt;0)"
        />
    </group>
  </group>
    </group>

    <group loc="10 45" size="810 355" value="eOptions" >

  <group loc="55 5" size="585 325"
    border="None"
    tab="no"
    enable="no"
    vq="cpprefs"
    show="$SHOW=1"
    vc="vnmrjcmd('pnew','cpprefs')"
    reference="cpadminqueue"
    useref="no"
    subtype="Convenience"
    expanded="yes"
    >
    <label loc="5 0" size="155 20"
      style="Label1"
      label="eOptions preferences:"
      />
   <label loc="160 0" size="450 20"
      style="Label1"
      label="[User can override Plot2plotter and eMessage options]"
      />
     <check loc="25 30" size="25 25"
      style="Label1"
      vq="cpprefs"
      vc="cpprefs[14]='y'"
      vc2="cpprefs[14]='n'"
      set="$VALUE=(cpprefs[14]='y')"
      />
    <textmessage loc="45 30" size="210 25"
      style="Label1"
      label=" "
      vq="cpprefs"
      set="if (cpprefs[14]='y') then $VALUE='Email options enabled' else $VALUE='Email options disabled' endif"
      />
    <label loc="25 66" size="150 20"
      style="Label1"
      label="After every experiment"
      justify="Left"
      />
    <check loc="175 66" size="120 20"
      style="Label1"
      label="Plot2plotter"
      vq="cpprefs"
      vc="cpprefs[17]='plot'"
      vc2="cpprefs[17]=''"
      set="$VALUE=(cpprefs[17]='plot')"
      />
    <check loc="175 106" size="120 20"
      style="Label1"
      label="Save a plot"
      vq="cpprefs"
      vc="cpprefs[18]='save'"
      vc2="cpprefs[18]=''"
      set="$VALUE=(cpprefs[18]='save')"
      />
    <check loc="295 106" size="235 20"
      style="Label1"
      label="Save JCAMP spectrum (1D only)"
      vq="cpprefs"
      vc="cpprefs[20]='save'"
      vc2="cpprefs[20]=''"
      set="$VALUE=(cpprefs[20]='save')"
      />
    <check loc="175 126" size="115 20"
      style="Label1"
      label="Email a plot"
      vq="cpprefs"
      vc="cpprefs[19]='email'"
      vc2="cpprefs[19]=''"
      set="$VALUE=(cpprefs[19]='email')"
      show="$ENABLE=(cpprefs[14]='y')*2-1"
      />
    <check loc="175 86" size="115 20"
      style="Label1"
      label="  Email the FID"
      vq="cpprefs"
      vc="cpprefs[63]='email'"
      vc2="cpprefs[63]=''"
      set="$VALUE=(cpprefs[63]='email')"
      show="$ENABLE=(cpprefs[14]='y')*2-1"
      />
    <check loc="295 126" size="235 20"
      style="Label1"
      label="Email JCAMP spectrum (1D only)"
      vq="cpprefs "
      vc="cpprefs[21]='email'"
      vc2="cpprefs[21]=''"
      set="$VALUE=(cpprefs[21]='email')"
      show="$ENABLE=(cpprefs[14]='y')*2-1"
      />
    <menu loc="395 151" size="100 20"
      style="PlainText"
      vq="cpprefs"
      vc="cpprefs[22]='$VALUE'"
      set="$VALUE=cpprefs[22]"
      editable="No"
      >
      <mlabel
        label="std"
        chval="std"
        />
      <mlabel
        label="xy"
        chval="xy"
        />
    </menu>
    <label loc="295 151" size="110 20"
      style="Label1"
      label="JCAMP format"
      justify="Left"
      />
    <label loc="25 151" size="145 20"
      style="Label1"
      label="Bitmap image format"
      justify="Left"
      />
    <filemenu loc="175 151" size="100 20"
        style="PlainText"
        vq="cpprefs"
        vq2="cpprefs"
        set="$VALUE=cpprefs[8]"
        vc="cpprefs[8]='$VALUE'"
        file="$VALUE=userdir+'/persistence/cpADMIN/plotformats'"
    />
    <label loc="25 201" size="140 20"
      style="Label1"
      label="Send eMessages to:"
      justify="Left"
      />
    <check loc="175 201" size="120 20"
      style="Label1"
      label="Study owner"
      vq="cpprefs"
      vc="cpprefs[65]='y'"
      vc2="cpprefs[65]='n'"
      set="$VALUE=(cpprefs[65]='y')"
      />
    <check loc="295 201" size="150 20"
      style="Label1"
      label="Administrator"
      vq="cpprefs"
      vc="cpprefs[59]='y'"
      vc2="cpprefs[59]='n'"
      set="$VALUE=(cpprefs[59]='y')"
      />
    <textmessage loc="25 221" size="160 20"
      style="Label1"
      set="if (cpprefs[65]='y') or (cpprefs[59]='y') then $VALUE='Whenever the study' else $VALUE='' endif"
      />
<!--
    <check loc="175 221" size="100 20"
      style="Label1"
      fg=""
      label="Errors"
      vq="cpprefs"
      vc="cpprefs[65]=cpprefs[65]"
      vc2="cpprefs[65]=cpprefs[65]"
      set="if (cpprefs[65]='y') then $VALUE=1 else $VALUE=0 endif"
      />
-->
    <group loc="170 221" size="130 60"
	vq="cpprefs"
	show="$SHOW=(cpprefs[65]='y')"
	expanded="yes"
	>
    <label loc="5 0" size="100 20"
      style="Label1"
      label="Errors"
      justify="Left"
      />
    <check loc="5 20" size="100 20"
      style="Label1"
      label="Starts"
      vq="cpprefs"
      vc="$ok=0 $s1='' $s2='' strstr(cpprefs[61],'start'):$ok,$s1,$s2 if not ($ok) then cpprefs[61]=$s1+'start'+$s2 endif"
      vc2="$ok=0 $s1='' $s2='' strstr(cpprefs[61],'start'):$ok,$s1,$s2 if ($ok) then cpprefs[61]=$s1+$s2 endif"
      set="$ok=0 strstr(cpprefs[61],'start'):$ok $VALUE=$ok"
      />
    <check loc="5 40" size="100 20"
      style="Label1"
      label="Completes"
      vq="cpprefs"
      vc="$ok=0 $s1='' $s2='' strstr(cpprefs[61],'done'):$ok,$s1,$s2 if not ($ok) then cpprefs[61]=$s1+'done'+$s2 endif"
      vc2="$ok=0 $s1='' $s2='' strstr(cpprefs[61],'done'):$ok,$s1,$s2 if ($ok) then cpprefs[61]=$s1+$s2 endif"
      set="$ok=0 strstr(cpprefs[61],'done'):$ok $VALUE=$ok"
      />
     </group>
<!--
    <check loc="295 221" size="100 20"
      style="Label1"
      fg=""
      label="Errors"
      vq="cpprefs"
      vc="cpprefs[59]=cpprefs[59]"
      vc2="cpprefs[59]=cpprefs[59]"
      set="if (cpprefs[59]='y') then $VALUE=1 else $VALUE=0 endif"
      />
-->
    <group loc="290 221" size="130 60"
        vq="cpprefs"
        show="$SHOW=(cpprefs[59]='y')"
        expanded="yes"
        >
    <label loc="5 0" size="100 20"
      style="Label1"
      label="Errors"
      justify="Left"
      />
    <check loc="5 20" size="100 20"
      style="Label1"
      label="Starts"
      vq="cpprefs"
      vc="$ok=0 $s1='' $s2='' strstr(cpprefs[60],'start'):$ok,$s1,$s2 if not ($ok) then cpprefs[60]=$s1+'start'+$s2 endif"
      vc2="$ok=0 $s1='' $s2='' strstr(cpprefs[60],'start'):$ok,$s1,$s2 if ($ok) then cpprefs[60]=$s1+$s2 endif"
      set="$ok=0 strstr(cpprefs[60],'start'):$ok $VALUE=$ok"
      />
    <check loc="5 40" size="100 20"
      style="Label1"
      label="Completes"
      vq="cpprefs"
      vc="$ok=0 $s1='' $s2='' strstr(cpprefs[60],'done'):$ok,$s1,$s2 if not ($ok) then cpprefs[60]=$s1+'done'+$s2 endif"
      vc2="$ok=0 $s1='' $s2='' strstr(cpprefs[60],'done'):$ok,$s1,$s2 if ($ok) then cpprefs[60]=$s1+$s2 endif"
      set="$ok=0 strstr(cpprefs[60],'done'):$ok $VALUE=$ok"
      />
    </group>
    <label loc="25 176" size="145 20"
      style="Label1"
      label="Plot parameter style"
      justify="Left"
      />
    <menu loc="175 176" size="100 20"
        style="PlainText"
        vq="cpprefs"
        set="$VALUE=cpprefs[71]"
        vc="cpprefs[71]='$VALUE'"
    >
        <mlabel 
          label="Basic"
          chval="ppa"
          />
        <mlabel 
          label="Basic(right)"
          chval="ppa(wc-50)"
          />
        <mlabel 
          label="Full"
          chval="pap"
          />
        <mlabel 
          label="Horiz. Box"
          chval="bpa"
          />
        <mlabel 
          label="Vert. Box"
          chval="bpav"
          />
	<mlabel
	  label="Text only"
	  chval="pltext"
	  />
        <mlabel 
          label="None"
	  chval=""
          />
    </menu>
  </group>
    </group>

    <group loc="10 75" size="810 355" value="DataMirror">

  <group loc="55 5" size="685 255"
    border="None"
    tab="no"
    enable="no"
    vq="cpprefs"
    show="$SHOW=1"
    vc="vnmrjcmd('pnew','cpprefs')"
    reference="cpadminsavedata"
    useref="no"
    subtype="Convenience"
    expanded="yes"
    >
   <check loc="175 0" size="300 25"
      style="Label1"
      label="On/Off"
      vq="cpprefs"
      vc="cpprefs[16]='yes'"
      vc2="isFDAsystem:$p11 if($p11) then cpprefs[16]='yes' else cpprefs[16]='no' endif"
      set="$VALUE=(cpprefs[16]='yes')"
      />
    <group loc="625 5" size="55 20"
      vq="cpprefs"
      show="$SHOW=(cpprefs[16]='yes')"
      >
      <label loc="0 0" size="55 20"
       style="Label1"
       label="Zip it?"
       justify="Left"
       />
    </group>
    <label loc="15 30" size="135 20"
      style="Label1"
      label="Template for FIDs"
      justify="Left"
      />
    <entry loc="175 30" size="440 20"
      style="PlainText"
      vq="cpprefs"
      vc="cpprefs[23]='$VALUE' cpADMIN('example')"
      set="$VALUE=cpprefs[23]"
      show="$ENABLE=(cpprefs[16]='yes')*2-1"
      />
    <group loc="625 30" size="55 20"
      vq="cpprefs"
      show="$SHOW=(cpprefs[16]='yes')"
      >
     <check loc="0 0" size="50 20"
      style="Label1"
      label="yes"
      vq="cpprefs"
      vc="cpprefs[55]='yes'"
      vc2="cpprefs[55]='no'"
      set="$VALUE=(cpprefs[55]='yes')"
      />
    </group>
    <label loc="15 50" size="135 20"
      style="Label1"
      label="Template for plots"
      justify="Left"
      />
    <entry loc="175 50" size="440 20"
      style="PlainText"
      vq="cpprefs"
      vc="cpprefs[24]='$VALUE' cpADMIN('example')"
      set="$VALUE=cpprefs[24]"
      show="$ENABLE=((cpprefs[16]='yes') and (cpprefs[18]='save'))*2-1"
      />
    <group loc="145 50" size="25 20"
      vq="cpprefs"
      show="$SHOW=(cpprefs[16]='yes')"
      >
     <check loc="5 0" size="20 20"
      style="Label1"
      vq="cpprefs"
      vc="cpprefs[18]='save'"
      vc2="cpprefs[18]=''"
      set="$VALUE=(cpprefs[18]='save')"
      />
    </group>
    <group loc="625 50" size="55 20"
      style="Heading1"
      vq="cpprefs"
      show="$SHOW=((cpprefs[16]='yes') and (cpprefs[18]='save'))"
      >
     <check loc="0 0" size="50 20"
      style="Label1"
      label="yes"
      vq="cpprefs"
      vc="cpprefs[56]='yes'"
      vc2="cpprefs[56]='no'"
      set="$VALUE=(cpprefs[56]='yes')"
      />
    </group>
    <label loc="15 70" size="135 20"
      style="Label1"
      label="Template for spectra"
      justify="Left"
      />
    <entry loc="175 70" size="440 20"
      style="PlainText"
      vq="cpprefs"
      vc="cpprefs[25]='$VALUE' cpADMIN('example')"
      set="$VALUE=cpprefs[25]"
      show="$ENABLE=((cpprefs[16]='yes') and (cpprefs[20]='save'))*2-1"
      />
    <group loc="145 70" size="25 20"
      vq="cpprefs"
      show="$SHOW=(cpprefs[16]='yes')"
      >
     <check loc="5 0" size="20 20"
      style="Label1"
      vq="cpprefs"
      vc="cpprefs[20]='save'"
      vc2="cpprefs[20]=''"
      set="$VALUE=(cpprefs[20]='save')"
     />
    </group>
    <group loc="625 70" size="55 20"
      vq="cpprefs"
      show="$SHOW=((cpprefs[16]='yes') and (cpprefs[20]='save'))"
      >
     <check loc="0 0" size="50 20"
      style="Label1"
      label="yes"
      vq="cpprefs"
      vc="cpprefs[57]='yes'"
      vc2="cpprefs[57]='no'"
      set="$VALUE=(cpprefs[57]='yes')"
      />
    </group>
    <menu loc="395 95" size="100 20"
      style="PlainText"
      vq="cpprefs"
      vc="cpprefs[22]='$VALUE'"
      set="$VALUE=cpprefs[22]"
      editable="No"
      >
      <mlabel
        label="std"
        chval="std"
        />
      <mlabel
        label="xy"
        chval="xy"
        />
    </menu>
    <label loc="280 95" size="110 20"
      style="Label1"
      label="JCAMP format"
      justify="Right"
      />
    <label loc="15 95" size="145 20"
      style="Label1"
      label="Bitmap image format"
      justify="Left"
      />
    <filemenu loc="175 95" size="100 20"
        style="PlainText"
        vq="cpprefs"
        vq2="cpprefs"
        set="$VALUE=cpprefs[8]"
        vc="cpprefs[8]='$VALUE'"
        file="$VALUE=userdir+'/persistence/cpADMIN/plotformats'"
    />
    <group loc="0 120" size="640 60"
      vq="cpprefs"
      show="exists('svfdir2','parameter','global'):$sd2ex $SHOW=($sd2ex&gt;0)"
      >
    <label loc="0 0" size="400 20"
      style="Label1"
      label="Dynamically maintain a 2nd copy of the sample directory:"
      />
    <label loc="15 25" size="195 20"
      style="Label1"
      label="Template for 2nd copy"
      justify="Left"
      />
    <entry loc="175 25" size="440 20"
      style="PlainText"
      vq="cpprefs"
      vc="isFDAsystem:$p11 if($p11) then setp11svfdr2('$VALUE') cpprefs[47]=svfdir2 else cpprefs[47]='$VALUE' endif cpADMIN('example')"
      set="$VALUE=cpprefs[47]"
      show="$ENABLE=(cpprefs[16]='yes')*2-1"
      />
    </group>
    <label loc="0 170" size="90 20"
      style="Label1"
      label="Examples:"
      />
    <label loc="85 170" size="85 20"
      style="Label1"
      label="FIDs:"
      justify="Right"
      vq="cpprefs"
      />
    <textmessage loc="175 170" size="490 20"
      style="PlainText"
      label=""
      vq="cpprefs"
      set="if (cpprefs[16]='yes') then $VALUE=cpprefs[30] else $VALUE='' endif"
      />
    <label loc="70 190" size="100 20"
      style="Label1"
      label="Plots:"
      justify="Right"
      vq="cpprefs"
      />
    <textmessage loc="175 190" size="490 20"
      style="PlainText"
      label=""
      vq="cpprefs"
      set="if (cpprefs[16]='yes') then $VALUE=cpprefs[31] else $VALUE='' endif"
      />
    <label loc="70 210" size="100 20"
      style="Label1"
      label="Spectra:"
      justify="Right"
      vq="cpprefs"
      />
    <textmessage loc="175 210" size="490 20"
      style="PlainText"
      label=""
      vq="cpprefs"
      set="if (cpprefs[16]='yes') then $VALUE=cpprefs[32] else $VALUE='' endif"
      />
    <label loc="30 230" size="140 20"
      style="Label1"
      label="Path to 2nd copy:"
      justify="Right"
      vq="cpprefs"
      />
    <textmessage loc="175 230" size="490 20"
      style="PlainText"
      label=""
      vq="cpprefs"
      set="exists('svfdir2','parameter','global'):$sd2ex if ($sd2ex=0) then $VALUE='' else if (cpprefs[16]='yes') then $VALUE=cpprefs[48] else $VALUE='' endif endif"
      />
    <label loc="0 0" size="200 25"
      style="Label1"
      label="DataMirror preferences:"
      />
  </group>
   </group>

    <group loc="10 75" size="810 355" value="SampleTags">
  <group loc="30 5" size="585 255"
    border="None"
    tab="no"
    enable="no"
    vq="cpprefs"
    show="$SHOW=1"
    vc="vnmrjcmd('pnew','cpprefs')"
    reference="sampglobal"
    useref="no"
    subtype="Convenience"
    expanded="yes"
    >
    <button loc="215 210" size="225 25"
      style="Heading2"
      label="Save sample tags"
      vc="addsampglobal('save','refresh')"
      />
    <group loc="15 5" size="585 205"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Convenience"
      >
      <label loc="430 175" size="165 20"
        style="Label1"
        label="[reqparvals] !"
        justify="Left"
        />
      <label loc="430 155" size="125 20"
        style="Label1"
        label="have empty values"
        justify="Left"
        />
      <label loc="430 135" size="125 20"
        style="Label1"
        label="list above may not"
        justify="Left"
        />
      <label loc="430 115" size="125 20"
        style="Label1"
        label="Parameters in the"
        justify="Left"
        />
      <textfile loc="430 25" size="110 90"
        style="PlainText"
        vq="userdir cpprefs"
        set="$VALUE=userdir+'/persistence/cpADMIN/cpadmin_reqparvals'"
        editable="yes"
        wrap="no"
        />
      <textfile loc="200 25" size="110 170"
        style="PlainText"
        vq="userdir cpprefs"
        set="$VALUE=userdir+'/persistence/cpADMIN/cpadmin_sampleglobal'"
        show="$ENABLE=0"
        editable="no"
        wrap="no"
        />
      <textfile loc="315 25" size="110 170"
        style="PlainText"
        vq="userdir cpprefs"
        set="$VALUE=userdir+'/persistence/cpADMIN/cpadmin_usersampleglobal'"
        editable="yes"
        wrap="no"
        />
      <label loc="430 5" size="125 20"
        style="Label1"
        label="Required Parameters"
        justify="Center"
        />
      <label loc="315 5" size="105 20"
        style="Label1"
        label="UserSampTags"
        justify="Center"
        />
      <label loc="200 5" size="105 20"
        style="Label1"
        label="Basic [Required]"
        justify="Center"
        />
      <label loc="25 95" size="170 20"
        style="Label1"
        label="queued acquisition.]"
        justify="Left"
        />
      <label loc="25 75" size="170 20"
        style="Label1"
        label="preserved during a"
        justify="Left"
        />
      <label loc="25 55" size="170 20"
        style="Label1"
        label="their values will be"
        justify="Left"
        />
      <label loc="25 35" size="170 20"
        style="Label1"
        label="[These parameters and"
        justify="Left"
        />
      <label loc="25 5" size="130 25"
        style="Label1"
        label="Sample tags:"
        />
    </group>
  </group>
    </group>

    <group loc="10 75" size="810 355" value="UserPrefs">
  <group loc="55 5" size="585 255"
    border="None"
    tab="no"
    enable="no"
    vq="cpprefs"
    show="$SHOW=1"
    vc="vnmrjcmd('pnew','cpprefs')"
    reference="UserPrefs"
    useref="no"
    subtype="Convenience"
    expanded="yes"
    >
    <label loc="300 65" size="160 20"
      style="Label1"
      label="After user login:"
      justify="Left"
      />
    <menu loc="400 90" size="155 20"
      style="PlainText"
      vq="cpprefs"
      vc="cpprefs[6]='$VALUE'"
      set="$VALUE=cpprefs[6]"
      editable="No"
      >
      <mlabel 
        label="Do nothing"
        chval="none"
        />
      <mlabel 
        label="Show tray"
        chval="showtray"
        />
      <mlabel 
        label="Close tray"
        chval="closetray"
        />
      <mlabel 
        label="Ready for submit"
        chval="newsample"
        />
    </menu>
    <label loc="300 110" size="260 20"
      style="Label1"
      label="After sample submission:"
      justify="Left"
      />
    <menu loc="400 135" size="155 20"
      style="PlainText"
      vq="cpprefs"
      vc="cpprefs[45]='$VALUE'"
      set="$VALUE=cpprefs[45]"
      editable="No"
      >
      <mlabel
        label="Do nothing"
        chval="none"
        />
      <mlabel
        label="Clear Queue"
        chval="clearqueue"
        />
      <mlabel
        label="Quit submit mode"
        chval="quitsubmit"
        />
      <mlabel
        label="Operator logout"
        chval="operatorlogout"
        />
    </menu>
<!--
    <button loc="300 10" size="255 25"
      style="Heading2"
      label="Manage Operators"
      vq="cpprefs"
      vc="operightsManager"
      decor1=""
      />
-->
    <label loc="330 170" size="230 25"
      style="PlainText"
      label="Process data on drag-and-drop"
      vq="cpprefs"
      />
    <check loc="310 170" size="25 25"
      style="Label1"
      vq="cpprefs"
      vc="cpprefs[81]='y'"
      vc2="cpprefs[81]='n'"
      set="$VALUE=(cpprefs[81]='y')"
      />
    <label loc="330 200" size="230 25"
      style="Label1"
      label="Enable Adaptive NMR"
      vq="cpprefs"
      />
    <check loc="310 200" size="25 25"
      style="Label1"
      vq="cpprefs"
      vc="cpprefs[64]='y'"
      vc2="cpprefs[64]='n'"
      set="$VALUE=(cpprefs[64]='y')"
      />
    <label loc="330 230" size="260 25"
      style="Label1"
      label="Send submissions to Study Mimic"
      vq="cpprefs"
      />
    <check loc="310 230" size="25 25"
      style="Label1"
      vq="cpprefs"
      vc="cpprefs[66]='yes'"
      vc2="cpprefs[66]='no'"
      set="$VALUE=(cpprefs[66]='yes')"
      />

    <group loc="5 5" size="290 235"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Convenience"
      >
      <group loc="5 35" size="280 195"
        vq="cpprefs"
        show="$SHOW=(cpprefs[35]='y')"
        border="Etched"
        tab="no"
        enable="no"
        reference="userprefs"
        useref="no"
        subtype="Basic"
        expanded="yes"
        >
        <button loc="30 150" size="215 25"
          style="Heading2"
          label="Setup default values"
          vc="UserPrefs('savemodule',cpprefs[42])"
          decor1=""
          />
        <group loc="5 0" size="270 150"
          bg=""
          border="None"
          tab="no"
          enable="no"
          useref="no"
          subtype="Convenience"
          expanded="yes"
          >
          <textfile loc="155 25" size="110 115"
            style="PlainText"
            vq="userdir"
            set="$VALUE=userdir+'/persistence/cpADMIN/cpadmin_userprefs'"
            editable="yes"
            wrap="no"
            />
          <label loc="15 35" size="130 20"
            style="Label1"
            label="[Parameters in the"
            justify="Left"
            />
          <label loc="15 55" size="130 20"
            style="Label1"
            label="table can have"
            justify="Left"
            />
          <label loc="15 75" size="130 20"
            style="Label1"
            label="operator specific"
            justify="Left"
            />
          <label loc="15 95" size="130 20"
            style="Label1"
            label="default values]"
            justify="Left"
            />
          <label loc="15 5" size="80 20"
            style="Label1"
            label="Include: "
            justify="Left"
            />
          <check loc="80 5" size="80 20"
            style="Label1"
	    label="Plotter"
            vq="cpprefs"
            vc="if (cpprefs[42]='printer') then cpprefs[42]='plotterprinter' elseif (cpprefs[42]='') then cpprefs[42]='plotter' endif"
            vc2="if (cpprefs[42]='plotterprinter') then cpprefs[42]='printer' elseif (cpprefs[42]='plotter') then cpprefs[42]='' endif"
            set="$VALUE=((cpprefs[42]='plotter') or (cpprefs[42]='plotterprinter'))"
          />
          <check loc="160 5" size="80 20"
            style="Label1"
            label="Printer"
            vq="cpprefs"
            vc="if (cpprefs[42]='plotter') then cpprefs[42]='plotterprinter' elseif (cpprefs[42]='') then cpprefs[42]='printer' endif"
            vc2="if (cpprefs[42]='plotterprinter') then cpprefs[42]='plotter' elseif (cpprefs[42]='printer') then cpprefs[42]='' endif"
            set="$VALUE=((cpprefs[42]='printer') or (cpprefs[42]='plotterprinter'))"
          />
        </group>
      </group>
      <textmessage loc="30 5" size="245 25"
        style="Label1"
        label="UserPrefsRemembrance enabled"
        vq="cpprefs"
        set="if (cpprefs[35]='y') then $VALUE='UserPrefsRemembrance enabled'  else $VALUE='UserPrefsRemembrance disabled' endif"
        />
      <check loc="5 5" size="25 25"
        style="Label1"
        vq="cpprefs"
        vc="cpprefs[35]='y'"
        vc2="cpprefs[35]='n'"
        set="$VALUE=(cpprefs[35]='y')"
        />
    </group>
  </group>
    </group>
    <group loc="10 75" size="810 355" value="ExpPrefs">
  <group loc="55 5" size="585 255"
    border="None"
    tab="no"
    enable="no"
    vq="cpprefs"
    show="$SHOW=1"
    vc="vnmrjcmd('pnew','cpprefs')"
    reference="ExpPrefs"
    useref="no"
    subtype="Convenience"
    expanded="yes"
    >
      <check loc="5 35" size="500 25"
        style="Label1"
        vq="cpprefs"
	label="By default, setup all 2D experiments under Non-Uniform Sampling (NUS)"
        vc="cpprefs[82]='yes'"
        vc2="cpprefs[82]='no'"
        set="$VALUE=(cpprefs[82]='yes')"
        />
      <label loc="5 60" size="260 25"
        style="Label1"
        vq="cpprefs"
        label="By default, autoprocess NUS data using.."
        />
      <radio loc="265 60" size="60 25"
        style="Label1"
        vq="cpprefs"
        label="CLEAN"
        vc="cpprefs[83]='CLEAN'"
        vc2="cpprefs[83]='IST'"
        set="$VALUE=(cpprefs[83]='CLEAN')"
        show="$ENABLE=(cpprefs[82]='yes')*2-1"
        />
      <radio loc="325 60" size="60 25"
        style="Label1"
        vq="cpprefs"
        label="IST"
        vc="cpprefs[83]='IST'"
        vc2="cpprefs[83]='CLEAN'"
        set="$VALUE=(cpprefs[83]='IST')"
        show="$ENABLE=(cpprefs[82]='yes')*2-1"
        />

  </group>
    </group>


   </folder>
 </group>
</template>

