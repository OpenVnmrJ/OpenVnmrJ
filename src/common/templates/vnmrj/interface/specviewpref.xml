<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="specviewpref" element="groups" type="acquisition" >
  <group size="450 370"
    bg=""
    border="None"
    tab="no"
    enable="no"
    reference="specviewpref"
    useref="no"
    subtype="Convenience"
    expanded="yes"
    >
    <button loc="70 330" size="150 25"
      style="Heading2"
      label="Refresh display"
      vc="specviewpref('ok')"
      />
    <group loc="240 330" size="170 30"
      vq="operator owner"
      show="$is2=1 $is=1 xmhaha2('isautoSQ'):$is,$is2 $SHOW=($is2=0)"
      useref="no"
      subtype="Convenience"
      expanded="yes"
      >
      <button loc="0 0" size="150 25"
        style="Heading2"
        vq="operator owner"
        label="Rebuild display"
        vc="specviewpref('rebuild2lvl')"
        />
    </group>
    <group loc="240 330" size="170 30"
      vq="operator owner"
      show="$is2=0 $is=0 xmhaha2('isautoSQ'):$is,$is2 $SHOW=($is2&gt;0)"
      useref="no"
      subtype="Convenience"
      expanded="yes"
      >
      <button loc="0 0" size="170 30"
        style="Heading2"
        vq="operator owner"
        label="Update active study"
        vc="specviewpref('rebuild','ActiveQ')"
        />
    </group>
    <group loc="25 10" size="400 310"
      vq="SpecViewPref traymax operator owner"
      border="Etched"
      show="$is2=1 $is=1 xmhaha2('isautoSQ'):$is,$is2 $SHOW=((traymax=0) and ($is2&gt;0))"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
    <label loc="100 15" size="130 25"
      style="Info"
      label="Display order"
      justify="Left"
      />
    <button loc="100 45" size="170 25"
      style="Heading2"
      label="Set user defaults"
      vc="specviewpref('defaults')"
      />
    <radio loc="125 75" size="200 25"
      style="Label1"
      label="Active study"
      vq="SpecViewPref atune cpautodir autodir"
      show="$ENABLE=(cpautodir=autodir)*2-1"
      vc="$ret=0 strstr(SpecViewPref[1],'A'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'A' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'A'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'A'):$ret $VALUE=$ret"
      />
    <check loc="125 100" size="200 25"
      style="Label1"
      label="Completed studies"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 $ret1=0 strstr(SpecViewPref[1],'F'):$ret1 if ($ret1=0) and ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'C'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'C' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'C'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'C'):$ret $VALUE=$ret"
      />
    <check loc="125 125" size="200 25"
      style="Label1"
      label="FIDs (chronological)"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'F'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'F' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'F'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'F'):$ret $VALUE=$ret"
      />
    <check loc="125 150" size="200 25"
      style="Label1"
      label="Errored studies"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'E'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'E' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'E'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'E'):$ret $VALUE=$ret"
      />
    <radio loc="125 175" size="200 25"
      style="Label1"
      label="Active study (here)"
      vq="SpecViewPref atune cpautodir autodir"
      show="$ENABLE=(cpautodir=autodir)*2-1"
      vc2="$ret=0 strstr(SpecViewPref[1],'A'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'A' endif"
      vc="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'A'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'A'):$ret if ($ret=0) then $VALUE=1 else $VALUE=0 endif"
      />
    <check loc="25 285" size="370 20"
      style="Label1"
      label="Reverse chronology for completed studies/FIDs"
      vq="SpecViewPref atune autodir"
      vc="SpecViewPref[2]='reverse'"
      vc2="SpecViewPref[2]=''"
      set="$VALUE=(SpecViewPref[2]='reverse')"
      />
    </group>
    <group loc="25 10" size="400 310"
      vq="SpecViewPref traymax operator owner"
      border="Etched"
      show="$is2=1 $is=1 xmhaha2('isautoSQ'):$is,$is2 $SHOW=((traymax=0) and ($is2=0))"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
    <label loc="20 15" size="130 25"
      style="Label1"
      label="Display order"
      justify="Left"
      />
    <label loc="250 15" size="130 25"
      style="Label1"
      label="Update display"
      justify="Left"
      />
    <button loc="20 45" size="150 25"
      style="Heading2"
      label="Set user defaults"
      vc="specviewpref('defaults')"
      />
    <button loc="250 45" size="130 25"
      style="Heading2"
      label="Update ALL"
      vc="specviewpref('rebuild')"
      />
    <group loc="230 0" size="1 280"
      vq="SpecViewPref traymax"
      border="Etched"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
    </group>
    <radio loc="25 75" size="200 25"
      style="Label1"
      label="Active study"
      vq="SpecViewPref atune cpautodir autodir"
      show="$ENABLE=(cpautodir=autodir)*2-1"
      vc="$ret=0 strstr(SpecViewPref[1],'A'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'A' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'A'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'A'):$ret $VALUE=$ret"
      />
    <button loc="250 75" size="130 20"
      style="Heading2"
      label="Active study"
      vq="SpecViewPref atune cpautodir autodir"
      show="$ENABLE=(cpautodir=autodir)*2-1"
      vc="specviewpref('rebuild','ActiveQ')"
      />
    <check loc="25 100" size="200 25"
      style="Label1"
      label="Completed studies"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 $ret1=0 strstr(SpecViewPref[1],'F'):$ret1 if ($ret1=0) and ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'C'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'C' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'C'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'C'):$ret $VALUE=$ret"
      />
    <button loc="250 100" size="130 20"
      style="Heading2"
      label="Completed studies"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="specviewpref('rebuild','DoneQ')"
      />
    <check loc="25 125" size="200 25"
      style="Label1"
      label="FIDs (chronological)"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'F'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'F' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'F'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'F'):$ret $VALUE=$ret"
      />
    <button loc="250 125" size="130 20"
      style="Heading2"
      label="FIDs (chronological)"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="specviewpref('rebuild','DoneDayQ')"
      />
    <check loc="25 150" size="200 25"
      style="Label1"
      label="Errored studies"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'E'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'E' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'E'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'E'):$ret $VALUE=$ret"
      />
    <button loc="250 150" size="130 20"
      style="Heading2"
      label="Errored studies"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="specviewpref('rebuild','ErrorQ')"
      />
    <radio loc="25 175" size="200 25"
      style="Label1"
      label="Active study (here)"
      vq="SpecViewPref atune cpautodir autodir"
      show="$ENABLE=(cpautodir=autodir)*2-1"
      vc2="$ret=0 strstr(SpecViewPref[1],'A'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'A' endif"
      vc="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'A'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'A'):$ret if ($ret=0) then $VALUE=1 else $VALUE=0 endif"
      />
    <check loc="25 285" size="370 20"
      style="Label1"
      label="Reverse chronology for completed studies/FIDs"
      vq="SpecViewPref atune autodir"
      vc="SpecViewPref[2]='reverse'"
      vc2="SpecViewPref[2]=''"
      set="$VALUE=(SpecViewPref[2]='reverse')"
      />
    </group>
    <group loc="25 10" size="400 310"
      vq="SpecViewPref traymax owner operator"
      border="Etched"
      show="$is=1 $is2=1 xmhaha2('isautoSQ'):$is,$is2 $SHOW=((traymax&gt;0) and ($is2&gt;0))"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
    <label loc="100 15" size="130 25"
      style="Label1"
      label="Display order"
      justify="Left"
      />
    <button loc="100 45" size="170 25"
      style="Heading2"
      label="Set user defaults"
      vc="specviewpref('defaults')"
      />
    <radio loc="125 75" size="200 25"
      style="Label1"
      label="Active study"
      vq="SpecViewPref atune cpautodir autodir"
      show="$ENABLE=(cpautodir=autodir)*2-1"
      vc="$ret=0 strstr(SpecViewPref[1],'A'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'A' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'A'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'A'):$ret $VALUE=$ret"
      />
    <check loc="125 100" size="200 25"
      style="Label1"
      label="Completed studies"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 $ret1=0 strstr(SpecViewPref[1],'F'):$ret1 if ($ret1=0) and ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'C'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'C' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'C'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'C'):$ret $VALUE=$ret"
      />
    <check loc="125 125" size="200 25"
      style="Label1"
      label="Studies in progress"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret3 $ret1=0 strstr(SpecViewPref[1],'F'):$ret1 $ret2=0 strstr(SpecViewPref[1],'S'):$ret2 if ($ret1=0) and ($ret2=0) and ($ret3=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'P'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'P' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'P'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'P'):$ret $VALUE=$ret"
      />
    <check loc="125 150" size="200 25"
      style="Label1"
      label="FIDs (chronological)"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'F'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'F' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'F'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'F'):$ret $VALUE=$ret"
      />
    <check loc="125 175" size="200 25"
      style="Label1"
      label="Errored studies"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'E'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'E' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'E'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'E'):$ret $VALUE=$ret"
      />
    <check loc="125 225" size="200 25"
      style="Label1"
      label="Pending studies"
      vq="SpecViewPref atune"
      vc="$ret=0 strstr(SpecViewPref[1],'S'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'S' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'S'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'S'):$ret $VALUE=$ret"
      />
    <radio loc="125 200" size="200 25"
      style="Label1"
      label="Active study (here)"
      vq="SpecViewPref atune cpautodir autodir"
      show="$ENABLE=(cpautodir=autodir)*2-1"
      vc2="$ret=0 strstr(SpecViewPref[1],'A'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'A' endif"
      vc="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'A'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'A'):$ret if ($ret=0) then $VALUE=1 else $VALUE=0 endif"
      />
    <check loc="125 250" size="200 25"
      style="Label1"
      label="Studies in DayQ/NightQ"
      vq="SpecViewPref atune"
      show="$ret1=0 strstr(SpecViewPref[1],'S'):$ret1 if ($ret1=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'Q'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'Q' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'Q'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'Q'):$ret $VALUE=$ret"
      />
    <check loc="25 285" size="370 20"
      style="Label1"
      label="Reverse chronology for completed studies/FIDs"
      vq="SpecViewPref atune autodir"
      vc="SpecViewPref[2]='reverse'"
      vc2="SpecViewPref[2]=''"
      set="$VALUE=(SpecViewPref[2]='reverse')"
      />
    </group>
    <group loc="25 10" size="400 310"
      vq="SpecViewPref traymax owner operator"
      border="Etched"
      show="$is=1 $is2=1 xmhaha2('isautoSQ'):$is,$is2 $SHOW=((traymax&gt;0) and ($is2=0))"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
    <label loc="20 15" size="130 25"
      style="Label1"
      label="Display order"
      justify="Left"
      />
    <label loc="250 15" size="130 25"
      style="Label1"
      label="Update display"
      justify="Left"
      />
    <button loc="20 45" size="150 25"
      style="Heading2"
      label="Set user defaults"
      vc="specviewpref('defaults')"
      />
    <button loc="250 45" size="130 25"
      style="Heading2"
      label="Update ALL"
      vc="specviewpref('rebuild')"
      />
    <group loc="230 0" size="1 280"
      vq="SpecViewPref traymax"
      border="Etched"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
    </group>
    <radio loc="25 75" size="200 25"
      style="Label1"
      label="Active study"
      vq="SpecViewPref atune cpautodir autodir"
      show="$ENABLE=(cpautodir=autodir)*2-1"
      vc="$ret=0 strstr(SpecViewPref[1],'A'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'A' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'A'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'A'):$ret $VALUE=$ret"
      />
    <button loc="250 75" size="130 20"
      style="Heading2"
      label="Active study"
      vq="SpecViewPref atune cpautodir autodir"
      show="$ENABLE=(cpautodir=autodir)*2-1"
      vc="specviewpref('rebuild','ActiveQ')"
      />
    <check loc="25 100" size="200 25"
      style="Label1"
      label="Completed studies"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 $ret1=0 strstr(SpecViewPref[1],'F'):$ret1 if ($ret1=0) and ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'C'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'C' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'C'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'C'):$ret $VALUE=$ret"
      />
    <button loc="250 100" size="130 20"
      style="Heading2"
      label="Completed studies"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="specviewpref('rebuild','DoneQ')"
      />
    <check loc="25 125" size="200 25"
      style="Label1"
      label="Studies in progress"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret3 $ret1=0 strstr(SpecViewPref[1],'F'):$ret1 $ret2=0 strstr(SpecViewPref[1],'S'):$ret2 if ($ret1=0) and ($ret2=0) and ($ret3=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'P'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'P' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'P'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'P'):$ret $VALUE=$ret"
      />
    <button loc="250 125" size="130 20"
      style="Heading2"
      label="Studies in progress"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="specviewpref('rebuild','DoneDayQ')"
      />
    <check loc="25 150" size="200 25"
      style="Label1"
      label="FIDs (chronological)"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'F'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'F' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'F'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'F'):$ret $VALUE=$ret"
      />
    <button loc="250 150" size="130 20"
      style="Heading2"
      label="FIDs (chronological)"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="specviewpref('rebuild','FidQ')"
      />
    <check loc="25 175" size="200 25"
      style="Label1"
      label="Errored studies"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'E'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'E' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'E'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'E'):$ret $VALUE=$ret"
      />
    <button loc="250 175" size="130 20"
      style="Heading2"
      label="Errored studies"
      vq="SpecViewPref atune autodir"
      show="strstr(autodir,'.macdir/studytray'):$ret2 if ($ret2=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="specviewpref('rebuild','ErrorQ')"
      />
    <check loc="25 225" size="200 25"
      style="Label1"
      label="Pending studies"
      vq="SpecViewPref atune"
      vc="$ret=0 strstr(SpecViewPref[1],'S'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'S' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'S'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'S'):$ret $VALUE=$ret"
      />
    <button loc="250 225" size="130 20"
      style="Heading2"
      label="Pending studies"
      vc="specviewpref('rebuild','ChronQ')"
      />
    <radio loc="25 200" size="200 25"
      style="Label1"
      label="Active study (here)"
      vq="SpecViewPref atune cpautodir autodir"
      show="$ENABLE=(cpautodir=autodir)*2-1"
      vc2="$ret=0 strstr(SpecViewPref[1],'A'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'A' endif"
      vc="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'A'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'A'):$ret if ($ret=0) then $VALUE=1 else $VALUE=0 endif"
      />
    <check loc="25 250" size="200 25"
      style="Label1"
      label="Studies in DayQ/NightQ"
      vq="SpecViewPref atune"
      show="$ret1=0 strstr(SpecViewPref[1],'S'):$ret1 if ($ret1=0) then $ENABLE=1 else $ENABLE=-1 endif"
      vc="$ret=0 strstr(SpecViewPref[1],'Q'):$ret if ($ret=0) then SpecViewPref[1]=SpecViewPref[1]+'Q' endif"
      vc2="$ret=0 $s1='' $s2='' strstr(SpecViewPref[1],'Q'):$ret,$s1,$s2 if ($ret) then SpecViewPref[1]=$s1+$s2 endif"
      set="$ret=0 strstr(SpecViewPref[1],'Q'):$ret $VALUE=$ret"
      />
    <button loc="250 250" size="130 20"
      style="Heading2"
      label="DayQ/NightQ"
      vc="specviewpref('rebuild','Queues')"
      />
    <check loc="25 285" size="370 20"
      style="Label1"
      label="Reverse chronology for completed studies/FIDs"
      vq="SpecViewPref atune autodir"
      vc="SpecViewPref[2]='reverse'"
      vc2="SpecViewPref[2]=''"
      set="$VALUE=(SpecViewPref[2]='reverse')"
      />
    </group>

  </group>
</template>
