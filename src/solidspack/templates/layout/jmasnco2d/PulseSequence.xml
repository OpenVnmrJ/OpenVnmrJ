<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="PulseSequence" element="pages" type="acquisition" >
  <group size="800 200"
    style="Heading1"
    label="Pulse Sequence"
    vq="panellevel"
    show="$SHOW=(panellevel&gt;29)"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="PulseSequence"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    rows="1"
    columns="1"
    >
    <group loc="540 0" size="260 120"
      border="None"
      tab="no"
      enable="no"
      reference="autoTppmSpinal"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <textmessage loc="140 0" size="40 20"
        style="PlainText"
        vq="tn dn dn2 dn3 Hseq chHspinal chHtppm"
        set="if (Hseq='tppm') then if (chHtppm='obs') then $VALUE=tn elseif (chHtppm='dec') then $VALUE=dn elseif (chHtppm='dec2') then $VALUE=dn2 elseif (chHtppm='dec3') then $VALUE=dn3 else $VALUE='no' endif elseif (Hseq='spinal') then if (chHspinal='obs') then $VALUE=tn elseif (chHspinal='dec') then $VALUE=dn elseif (chHspinal='dec2') then $VALUE=dn2 elseif (chHspinal='dec3') then $VALUE=dn3 else $VALUE='no' endif else $VALUE='no' endif"
        show="on('Hseq'):$Hseqon if ($Hseqon=1) then if (Hseq='tppm') then on('chHtppm'):$VALUE elseif (Hseq='spinal') then on('chHspinal'):$VALUE else $VALUE=0 endif else $VALUE=0 endif"
        />
      <group loc="0 20" size="260 90"
        label="Hspinal"
        vq="Hseq"
        show="if (Hseq='spinal') then $VALUE=1 else $VALUE=0 endif"
        border="None"
        tab="no"
        enable="no"
        reference="Hspinal"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        rows="1"
        columns="1"
        >
        <entry loc="90 40" size="60 20"
          style="PlainText"
          vq="aHspinal pwHspinal phHspinal"
          vc="vnmrunits('set','pwHspinal',$VALUE)"
          set="vnmrunits('get','pwHspinal'):$VALUE"
          show="on('pwHspinal'):$pwHspinalon if (($pwHspinalon=1) and (aHspinal&gt;0.0) and (phHspinal&gt;0.0) ) then $VALUE=1 else $VALUE=0 endif"
          />
        <entry loc="90 60" size="60 20"
          style="PlainText"
          vq="aHspinal pwHspinal phHspinal"
          vc="phHspinal= $VALUE"
          set="$VALUE = phHspinal"
          show="on('phHspinal'):$phHspinalon if (($phHspinalon=1) and (aHspinal&gt;0.0) and (phHspinal&gt;0.0) ) then $VALUE=1 else $VALUE=0 endif"
          />
        <label loc="10 60" size="80 20"
          style="Label1"
          label="phHspinal:"
          />
        <menu loc="150 40" size="60 20"
          style="PlainText"
          vq="pwHspinal"
          vc="parunits('set','pwHspinal','$VALUE')"
          set="parunits('get','pwHspinal'):$VALUE"
          show="on('pwHspinal'):$VALUE if ($VALUE=0) then $VALUE=1 endif"
          editable="No"
          >
          <mlabel 
            label="sec"
            chval="sec"
            />
          <mlabel 
            label="ms"
            chval="ms"
            />
          <mlabel 
            label="us"
            chval="us"
            />
        </menu>
        <label loc="10 0" size="80 20"
          style="Label1"
          label="Hspinal:"
          />
        <label loc="10 20" size="80 20"
          style="Label1"
          label="aHspinal:"
          />
        <label loc="10 40" size="80 20"
          style="Label1"
          label="pwHspinal:"
          />
        <entry loc="90 20" size="60 20"
          style="PlainText"
          vq="aHspinal"
          vc="aHspinal = $VALUE"
          set="$VALUE = aHspinal"
          show="on('aHspinal'):$aHspinalon if (($aHspinalon=1) and (aHspinal&gt;0.0)) then $VALUE=1 else $VALUE=0 endif"
          />
      </group>
      <group loc="0 20" size="260 80"
        label="Htppm"
        vq="Hseq"
        show="if (Hseq='tppm') then $VALUE=1 else $VALUE=0 endif"
        border="None"
        tab="no"
        enable="no"
        reference="Htppm"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        rows="1"
        columns="1"
        >
        <entry loc="90 60" size="60 20"
          style="PlainText"
          vq="aHtppm pwHtppm phHtppm"
          vc="phHtppm = $VALUE"
          set="$VALUE = phHtppm"
          show="on('phHtppm'):$phHtppmon if (($phHtppmon=1) and (aHtppm&gt;0.0) and (phHtppm&gt;0.0) ) then $VALUE=1 else $VALUE=0 endif"
          />
        <label loc="10 60" size="80 20"
          style="Label1"
          label="phHtppm:"
          />
        <entry loc="90 20" size="60 20"
          style="PlainText"
          vq="aHtppm"
          vc="aHtppm = $VALUE"
          set="$VALUE = aHtppm"
          show="on('aHtppm'):$aHtppmon if (($aHtppmon=1) and (aHtppm&gt;0.0) ) then $VALUE=1 else $VALUE=0 endif"
          />
        <label loc="10 0" size="60 20"
          style="Label1"
          label="Htppm:"
          />
        <menu loc="150 40" size="60 20"
          style="PlainText"
          vq="pwHtppm"
          vc="parunits('set','pwHtppm','$VALUE')"
          set="parunits('get','pwHtppm'):$VALUE"
          show="on('pwHtppm'):$VALUE if ($VALUE=0) then $VALUE=1 endif"
          editable="No"
          >
          <mlabel 
            label="sec"
            chval="sec"
            />
          <mlabel 
            label="ms"
            chval="ms"
            />
          <mlabel 
            label="us"
            chval="us"
            />
        </menu>
        <entry loc="90 40" size="60 20"
          style="PlainText"
          vq="aHtppm pwHtppm phHtppm "
          vc="vnmrunits('set','pwHtppm',$VALUE)"
          set="vnmrunits('get','pwHtppm'):$VALUE"
          show="on('pwHtppm'):$pwHtppmon if (($pwHtppmon=1) and (aHtppm&gt;0.0) and (phHtppm&gt;0.0) ) then $VALUE=1 else $VALUE=0 endif"
          />
        <label loc="10 40" size="80 20"
          style="Label1"
          label="pwHtppm:"
          />
        <label loc="10 20" size="80 20"
          style="Label1"
          label="aHtppm:"
          />
      </group>
      <menu loc="180 0" size="80 20"
        style="PlainText"
        label="menu"
        vq="Hseq"
        vc="Hseq='$VALUE'"
        set="$VALUE = Hseq"
        show="on('Hseq'):$VALUE"
        editable="No"
        >
        <mlabel 
          label="tppm"
          chval="tppm"
          />
        <mlabel 
          label="spinal"
          chval="spinal"
          />
      </menu>
      <label loc="110 0" size="30 20"
        style="Label1"
        label="On:"
        />
      <label loc="10 0" size="100 20"
        style="Label1"
        label="Decoupling:"
        />
    </group>
    <group loc="270 0" size="260 120"
      border="None"
      tab="no"
      enable="no"
      reference="automixTppmSpinal"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <textmessage loc="140 0" size="40 20"
        style="PlainText"
        vq="tn dn dn2 dn3 Hmixseq chHmixspinal chHmixtppm"
        set="if (Hmixseq='tppm') then if (chHmixtppm='obs') then $VALUE=tn elseif (chHmixtppm='dec') then $VALUE=dn elseif (chHmixtppm='dec2') then $VALUE=dn2 elseif (chHmixtppm='dec3') then $VALUE=dn3 else $VALUE='no' endif elseif (Hmixseq='spinal') then if (chHmixspinal='obs') then $VALUE=tn elseif (chHmixspinal='dec') then $VALUE=dn elseif (chHmixspinal='dec2') then $VALUE=dn2 elseif (chHmixspinal='dec3') then $VALUE=dn3 else $VALUE='no' endif else $VALUE='no' endif"
        show="on('Hmixseq'):$Hmixseqon if ($Hmixseqon=1) then if (Hmixseq='tppm') then on('chHmixtppm'):$VALUE elseif (Hmixseq='spinal') then on('chHmixspinal'):$VALUE else $VALUE=0 endif else $VALUE=0 endif"
        />
      <group loc="0 20" size="260 90"
        label="Hmixspinal"
        vq="Hmixseq"
        show="if (Hmixseq='spinal') then $VALUE=1 else $VALUE=0 endif"
        border="None"
        tab="no"
        enable="no"
        reference="Hspinal"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        rows="1"
        columns="1"
        >
        <label loc="10 60" size="90 20"
          style="Label1"
          label="phHmixspinal:"
          />
        <label loc="10 40" size="90 20"
          style="Label1"
          label="pwHmixspinal:"
          />
        <label loc="10 20" size="90 20"
          style="Label1"
          label="aHmixspinal:"
          />
        <entry loc="100 60" size="60 20"
          style="PlainText"
          vq="aHmixspinal pwHmixspinal phHmixspinal"
          vc="phHmixspinal= $VALUE"
          set="$VALUE = phHmixspinal"
          show="on('phHmixspinal'):$phHmixspinalon if (($phHmixspinalon=1) and (aHmixspinal&gt;0.0) and (phHmixspinal&gt;0.0) ) then $VALUE=1 else $VALUE=0 endif"
          />
        <entry loc="100 20" size="60 20"
          style="PlainText"
          vq="aHmixspinal"
          vc="aHmixspinal = $VALUE"
          set="$VALUE = aHmixspinal"
          show="on('aHspinal'):$aHmixspinalon if (($aHmixspinalon=1) and (aHmixspinal&gt;0.0)) then $VALUE=1 else $VALUE=0 endif"
          />
        <entry loc="100 40" size="60 20"
          style="PlainText"
          vq="aHmixspinal pwHmixspinal phHmixspinal"
          vc="vnmrunits('set','pwHmixspinal',$VALUE)"
          set="vnmrunits('get','pwHmixspinal'):$VALUE"
          show="on('pwHmixspinal'):$pwHmixspinalon if (($pwHmixspinalon=1) and (aHmixspinal&gt;0.0) and (phHmixspinal&gt;0.0) ) then $VALUE=1 else $VALUE=0 endif"
          />
        <menu loc="160 40" size="60 20"
          style="PlainText"
          vq="pwHmixspinal"
          vc="parunits('set','pwHmixspinal','$VALUE')"
          set="parunits('get','pwHmixspinal'):$VALUE"
          show="on('pwHmixspinal'):$VALUE if ($VALUE=0) then $VALUE=1 endif"
          editable="No"
          >
          <mlabel 
            label="sec"
            chval="sec"
            />
          <mlabel 
            label="ms"
            chval="ms"
            />
          <mlabel 
            label="us"
            chval="us"
            />
        </menu>
        <label loc="10 0" size="140 20"
          style="Label1"
          label="Hmixspinal:"
          />
      </group>
      <group loc="0 20" size="260 80"
        label="Hmixtppm"
        vq="Hmixseq"
        show="if (Hmixseq='tppm') then $VALUE=1 else $VALUE=0 endif"
        border="None"
        tab="no"
        enable="no"
        reference="Htppm"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        rows="1"
        columns="1"
        >
        <entry loc="100 60" size="60 20"
          style="PlainText"
          vq="aHmixtppm pwHmixtppm phHmixtppm"
          vc="phHmixtppm = $VALUE"
          set="$VALUE = phHmixtppm"
          show="on('phHmixtppm'):$phHmixtppmon if (($phHmixtppmon=1) and (aHmixtppm&gt;0.0) and (phHmixtppm&gt;0.0) ) then $VALUE=1 else $VALUE=0 endif"
          />
        <menu loc="160 40" size="60 20"
          style="PlainText"
          vq="pwHmixtppm"
          vc="parunits('set','pwHmixtppm','$VALUE')"
          set="parunits('get','pwHmixtppm'):$VALUE"
          show="on('pwHmixtppm'):$VALUE if ($VALUE=0) then $VALUE=1 endif"
          editable="No"
          >
          <mlabel 
            label="sec"
            chval="sec"
            />
          <mlabel 
            label="ms"
            chval="ms"
            />
          <mlabel 
            label="us"
            chval="us"
            />
        </menu>
        <label loc="10 60" size="90 20"
          style="Label1"
          label="phHmixtppm:"
          />
        <label loc="10 40" size="90 20"
          style="Label1"
          label="pwHmixtppm:"
          />
        <label loc="10 20" size="90 20"
          style="Label1"
          label="aHmixtppm:"
          />
        <entry loc="100 40" size="60 20"
          style="PlainText"
          vq="aHmixtppm pwHmixtppm phHmixtppm "
          vc="vnmrunits('set','pwHmixtppm',$VALUE)"
          set="vnmrunits('get','pwHmixtppm'):$VALUE"
          show="on('pwHmixtppm'):$pwHmixtppmon if (($pwHtppmon=1) and (aHmixtppm&gt;0.0) and (phHmixtppm&gt;0.0) ) then $VALUE=1 else $VALUE=0 endif"
          />
        <entry loc="100 20" size="60 20"
          style="PlainText"
          vq="aHmixtppm"
          vc="aHmixtppm = $VALUE"
          set="$VALUE = aHmixtppm"
          show="on('aHmixtppm'):$aHmixtppmon if (($aHmixtppmon=1) and (aHmixtppm&gt;0.0) ) then $VALUE=1 else $VALUE=0 endif"
          />
        <label loc="10 0" size="140 20"
          style="Label1"
          label="Hmixtppm:"
          />
      </group>
      <menu loc="180 0" size="80 20"
        style="PlainText"
        label="menu"
        vq="Hmixseq"
        vc="Hmixseq='$VALUE'"
        set="$VALUE = Hmixseq"
        show="on('Hmixseq'):$VALUE"
        editable="No"
        >
        <mlabel 
          label="tppm"
          chval="tppm"
          />
        <mlabel 
          label="spinal"
          chval="spinal"
          />
      </menu>
      <label loc="110 0" size="30 20"
        style="Label1"
        label="On:"
        />
      <label loc="10 0" size="100 20"
        style="Label1"
        label="Decoupling:"
        />
    </group>
    <group loc="0 0" size="260 120"
      border="None"
      tab="no"
      enable="no"
      reference="autocpHY"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <menu loc="120 80" size="60 20"
        style="PlainText"
        vq="tHY"
        vc="parunits('set','tHY','$VALUE')"
        set="parunits('get','tHY'):$VALUE"
        show="on('tHY'):$VALUE if ($VALUE=0) then $VALUE=1 endif"
        editable="No"
        >
        <mlabel 
          label="sec"
          chval="sec"
          />
        <mlabel 
          label="ms"
          chval="ms"
          />
        <mlabel 
          label="us"
          chval="us"
          />
      </menu>
      <menu loc="120 100" size="60 20"
        style="PlainText"
        vq="ofHY"
        vc="parunits('set','ofHY','$VALUE')"
        set="parunits('get','ofHY'):$VALUE"
        show="on('ofHY'):$VALUE if ($VALUE=0) then $VALUE=1 endif"
        editable="No"
        >
        <mlabel 
          label="Hz"
          chval="Hz"
          />
        <mlabel 
          label="kHz"
          chval="kHz"
          />
      </menu>
      <menu loc="190 20" size="60 20"
        style="PlainText"
        vq="chHY"
        vc="chHY='$VALUE'"
        set="$VALUE = chHY"
        show="on('chHY'):$VALUE"
        editable="No"
        >
        <mlabel 
          label="from"
          chval="fr"
          />
        <mlabel 
          label="to"
          chval="to"
          />
      </menu>
      <menu loc="60 20" size="60 20"
        style="PlainText"
        vq="shHY"
        vc="shHY='$VALUE'"
        set="$VALUE=shHY"
        show="on('shHY'):$VALUE if ($VALUE=0) then $VALUE=1 endif"
        editable="No"
        >
        <mlabel 
          label="linear"
          chval="l"
          />
        <mlabel 
          label="const"
          chval="c"
          />
        <mlabel 
          label="tan"
          chval="t"
          />
      </menu>
      <textmessage loc="210 0" size="40 20"
        style="PlainText"
        vq="tn dn dn2 dn3 toHY"
        set="if (toHY='obs') then $VALUE=tn elseif (toHY='dec') then $VALUE=dn elseif (toHY='dec2') then $VALUE=dn2 elseif (toHY='dec3') then $VALUE=dn3 else $VALUE='no' endif"
        show="on('toHY'):$VALUE"
        />
      <label loc="180 0" size="30 20"
        style="Label1"
        label="To:"
        />
      <textmessage loc="100 0" size="40 20"
        style="PlainText"
        vq="tn dn dn2 dn3 frHY"
        set="if (frHY='obs') then $VALUE=tn elseif (frHY='dec') then $VALUE=dn elseif (frHY='dec2') then $VALUE=dn2 elseif (frHY='dec3') then $VALUE=dn3 else $VALUE='no' endif"
        show="on('frHY'):$VALUE"
        />
      <label loc="60 0" size="40 20"
        style="Label1"
        label="From:"
        />
      <entry loc="180 60" size="60 20"
        style="PlainText"
        vq="dHY shHY"
        vc="dHY = $VALUE"
        set="$VALUE = dHY"
        show="on('dHY'):$dHYon if (($dHYon = 1) and ((shHY ='l')  or (shHY = 't'))) then $VALUE = 1 else $VALUE = 0 endif"
        />
      <entry loc="180 40" size="60 20"
        style="PlainText"
        vq="aYhy"
        vc="aYhy = $VALUE"
        set="$VALUE = aYhy"
        show="on('aYhy'):$VALUE"
        digits="0"
        />
      <label loc="130 60" size="50 20"
        style="Label1"
        label="dHY:"
        />
      <label loc="130 40" size="50 20"
        style="Label1"
        label="aYhy:"
        />
      <entry loc="60 100" size="60 20"
        style="PlainText"
        vq="ofHY"
        vc="vnmrunits('set','ofHY',$VALUE)"
        set="vnmrunits('get','ofHY'):$VALUE"
        show="on('ofHY'):$VALUE"
        />
      <label loc="10 100" size="50 20"
        style="Label1"
        label="ofHY:"
        />
      <label loc="10 0" size="50 20"
        style="Label1"
        label="cpHY:"
        />
      <label loc="10 20" size="50 20"
        style="Label1"
        label="Shape:"
        />
      <label loc="10 40" size="50 20"
        style="Label1"
        label="aHhy:"
        />
      <label loc="10 80" size="50 20"
        style="Label1"
        label="tHY:"
        />
      <entry loc="60 40" size="60 20"
        style="PlainText"
        vq="aHhy"
        vc="aHhy = $VALUE"
        set="$VALUE = aHhy"
        show="on('aHhy'):$VALUE"
        disable="Grayed out"
        />
      <entry loc="60 60" size="60 20"
        style="PlainText"
        vq="bHY shHY"
        vc="bHY = $VALUE"
        set="$VALUE = bHY"
        show="on('bHY'):$bHYon if (($bHYon = 1) and (shHY = 't')) then $VALUE = 1 else $VALUE = 0 endif"
        />
      <entry loc="60 80" size="60 20"
        style="PlainText"
        vq="tHY"
        vc="vnmrunits('set','tHY',$VALUE)"
        set="vnmrunits('get','tHY'):$VALUE"
        show="on('tHY'):$VALUE"
        />
      <label loc="12 60" size="50 20"
        style="Label1"
        label="bHY:"
        />
      <label loc="132 20" size="60 20"
        style="Label1"
        label="Channel:"
        />
    </group>
    <menu loc="120 160" size="60 20"
      style="PlainText"
      vq="taub"
      vc="parunits('set','taub','$VALUE')"
      set="parunits('get','taub'):$VALUE"
      show="on('taub'):$VALUE if ($VALUE=0) then $VALUE=1 endif"
      editable="No"
      >
      <mlabel 
        label="sec"
        chval="sec"
        />
      <mlabel 
        label="ms"
        chval="ms"
        />
      <mlabel 
        label="us"
        chval="us"
        />
    </menu>
    <menu loc="120 140" size="60 20"
      style="PlainText"
      vq="taua"
      vc="parunits('set','taua','$VALUE')"
      set="parunits('get','taua'):$VALUE"
      show="on('taua'):$VALUE if ($VALUE=0) then $VALUE=1 endif"
      editable="No"
      >
      <mlabel 
        label="sec"
        chval="sec"
        />
      <mlabel 
        label="ms"
        chval="ms"
        />
      <mlabel 
        label="us"
        chval="us"
        />
    </menu>
    <entry loc="60 160" size="60 20"
      style="PlainText"
      vq="taub"
      vc="vnmrunits('set','taub',$VALUE)"
      set="vnmrunits('get','taub'):$VALUE"
      show="on('taub'):$VALUE"
      />
    <label loc="10 160" size="50 20"
      style="Label1"
      label="taub:"
      />
    <entry loc="60 140" size="60 20"
      style="PlainText"
      vq="taua"
      vc="vnmrunits('set','taua',$VALUE)"
      set="vnmrunits('get','taua'):$VALUE"
      show="on('taua'):$VALUE"
      />
    <label loc="10 140" size="50 20"
      style="Label1"
      label="taua:"
      />
    <label loc="10 120" size="80 20"
      style="Label1"
      label="J-Delays:"
      />
  </group>
</template>
