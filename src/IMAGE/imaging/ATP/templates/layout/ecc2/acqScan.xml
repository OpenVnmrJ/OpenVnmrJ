<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="acqScan" element="pages" type="acquisition" >
  <group size="820 280"
    label="Scan"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="acqScan"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <button loc="655 120" size="100 20"
      style="PlainText"
      label="Stack Horizontal"
      vc="$vp=vp vp=10 vo=0 ho=0 ft dssh dssl('list=d2') vp=$vp"
      bg="VJBackground"
      decor1="no"
      />
    <button loc="655 80" size="100 20"
      style="PlainText"
      label="Display"
      vc="wc=wcmax vo=0 ho=0 ds(1) dscale"
      bg="VJBackground"
      decor1="no"
      />
    <button loc="655 100" size="100 20"
      style="PlainText"
      label="Stack Vertical"
      vc="wc=wcmax sc=0 vo=8 ho=0 ft dss dscale"
      bg="VJBackground"
      decor1="no"
      />
    <button loc="655 140" size="100 20"
      style="PlainText"
      label="ECC Statistics"
      vc="eccstats"
      bg="transparent"
      decor1="no"
      />
    <button loc="655 60" size="100 20"
      style="Label4"
      label="Acquire"
      vc="im1Dglobal('prep') wdone='' werr='' wexp='im1Dglobal(`proc`)' au"
      bg="darkGreen"
      decor1="no"
      />
    <button loc="655 30" size="100 20"
      style="PlainText"
      label="Freq at cursor"
      vc="nl offset:H1offset tof=resto rl(H1offset-tof)"
      bg="transparent"
      decor1="no"
      />
    <button loc="655 10" size="100 20"
      style="Label4"
      label="Test Spectrum"
      vc="unarray('d2') tspoilSave=tspoil tspoil=0 im1Dglobal('prep') tof=resto wdone='' werr='' wexp='im1Dglobal(`proc`) d2=d2 tspoil=tspoilSave' au"
      bg="darkGreen"
      decor1="no"
      />
    <group loc="435 0" size="210 120"
      style="Heading1"
      label="RF Pulse"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="ECCgradients"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <group loc="90 80" size="70 20"
        style="Action"
        vq="calcpower"
        show="$VALUE=(calcpower=1)"
        bg="transparent"
        border="None"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        reference="ECCgradients"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        >
        <textmessage loc="10 0" size="60 20"
          style="PlainText"
          label="50.581"
          vq="tpwr1 tpwr1f"
          set="calc_power(tpwr1,tpwr1f):$VALUE"
          digits="3"
          />
      </group>
      <group loc="100 80" size="70 20"
        style="Action"
        vq="calcpower"
        show="$VALUE=(calcpower=0)"
        bg="transparent"
        border="None"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        reference="ECCgradients"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        >
        <entry loc="0 0" size="60 20"
          style="PlainText"
          vq="tpwr1 calcpower"
          vc="tpwr1 = $VALUE"
          set="$VALUE = tpwr1"
          show="if (calcpower=1) then $VALUE=-1 else $VALUE=1 endif"
          />
      </group>
      <check loc="55 80" size="45 20"
        style="PlainText"
        label="Set"
        vq="calcpower"
        vc="calcpower = 0 go('check')"
        vc2="calcpower = 1"
        set="$VALUE = (calcpower=0)"
        />
      <label loc="160 60" size="40 20"
        style="Label1"
        label="deg"
        justify="Left"
        />
      <entry loc="100 60" size="60 20"
        style="PlainText"
        vq="flip1 calcpower"
        vc="flip1 = $VALUE go('check')"
        set="$VALUE = flip1"
        show="if (calcpower=1) then $VALUE=1 else $VALUE=-1 endif"
        />
      <label loc="5 60" size="50 20"
        style="Label1"
        label="Flip"
        justify="Left"
        />
      <label loc="5 80" size="80 20"
        style="Label1"
        label="Power"
        justify="Left"
        />
      <label loc="160 80" size="30 20"
        style="Label1"
        label="dB"
        justify="Left"
        />
      <entry loc="100 40" size="60 20"
        style="PlainText"
        vq="p1pat"
        vc="p1pat='$VALUE' go('check')"
        set="$VALUE = p1pat"
        />
      <label loc="160 20" size="30 20"
        style="Label1"
        label="us"
        justify="Left"
        />
      <entry loc="100 20" size="60 20"
        style="PlainText"
        vq="p1"
        vc="p1 = $VALUE go('check')"
        set="$VALUE = p1"
        />
      <label loc="5 20" size="80 20"
        style="Label1"
        label="Width"
        justify="Left"
        />
      <label loc="5 40" size="80 20"
        style="Label1"
        label="Shape"
        justify="Left"
        />
    </group>
    <group loc="435 120" size="210 110"
      style="Heading1"
      label="Gradient"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="ECCgradients"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <label loc="160 60" size="40 20"
        style="Label1"
        label="G/cm"
        justify="Left"
        />
      <textmessage loc="100 60" size="60 20"
        style="PlainText"
        label="14.2"
        vq="gspoil"
        set="$VALUE=gspoil"
        digits="1"
        />
      <label loc="5 60" size="80 20"
        style="Label1"
        label="Amplitude"
        justify="Left"
        />
      <menu loc="100 20" size="80 20"
        style="PlainText"
        label="menu"
        vq="orient"
        vc="orient = '$VALUE'"
        set="$VALUE = orient"
        bg="VJBackground"
        editable="No"
        >
        <mlabel 
          label="X"
          chval="sag"
          />
        <mlabel 
          label="Y"
          chval="cor"
          />
        <mlabel 
          label="Z"
          chval="trans"
          />
      </menu>
      <label loc="5 20" size="90 20"
        style="Label1"
        label="Axis"
        justify="Left"
        />
      <label loc="160 80" size="30 20"
        style="Label1"
        label="%"
        justify="Left"
        />
      <label loc="5 80" size="90 20"
        style="Label1"
        label="Duty Cycle"
        justify="Left"
        />
      <textmessage loc="100 80" size="60 20"
        style="PlainText"
        label="90.0"
        vq="dutycycle"
        set="$VALUE=dutycycle"
        digits="1"
        />
      <label loc="5 40" size="80 20"
        style="Label1"
        label="Duration"
        justify="Left"
        />
      <label loc="160 40" size="30 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <entry loc="100 40" size="60 20"
        style="PlainText"
        vq="tspoil"
        vc="tspoil=$VALUE/1000"
        set="$VALUE=tspoil*1000"
        digits="1"
        disable="Grayed out"
        />
    </group>
    <group loc="5 0" size="210 230"
      style="Heading1"
      label="Scan Parameters"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="spuls_acq"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <button loc="110 160" size="60 20"
        style="PlainText"
        label="Short"
        vc="d2=3,0.0005,0.001,0.002,0.005,0.01,0.02,0.05 da"
        bg="transparent"
        decor1="no"
        />
      <button loc="110 140" size="60 20"
        style="PlainText"
        label="Long"
        vc="d2=3,0.02,0.05,0.1,0.2,0.5,1,2 da"
        bg="transparent"
        decor1="no"
        />
      <button loc="110 180" size="60 20"
        style="PlainText"
        label="Full"
        vc="d2=3,1e-3,2e-3,5e-3,1e-2,2e-2,5e-2,1e-1,2e-1,5e-1,1,2 da"
        bg="transparent"
        decor1="no"
        />
      <label loc="5 20" size="105 20"
        style="Label1"
        label="Pre Grad Delay"
        justify="Left"
        />
      <label loc="80 140" size="25 20"
        style="Label1"
        label="Set"
        justify="Left"
        />
      <label loc="170 120" size="25 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <entry loc="110 120" size="60 20"
        style="PlainText"
        vq="d2"
        vc="d2=$VALUE/1000"
        set="$VALUE=d2*1000"
        digits="1"
        disable="Grayed out"
        />
      <label loc="5 120" size="105 20"
        style="Label1"
        label="Post Grad Delay"
        justify="Left"
        />
      <entry loc="110 20" size="60 20"
        style="PlainText"
        vq="d1"
        vc="d1=$VALUE/1000"
        set="$VALUE=d1*1000"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="110 80" size="60 20"
        style="PlainText"
        vq="ss"
        vc="ss=$VALUE"
        set="$VALUE=ss"
        digits="0"
        disable="Grayed out"
        />
      <label loc="5 80" size="100 20"
        style="Label1"
        label="Dummy Scans"
        justify="Left"
        />
      <label loc="5 60" size="100 20"
        style="Label1"
        label="Complex points"
        justify="Left"
        />
      <entry loc="110 60" size="60 20"
        style="PlainText"
        vq="np"
        vc="np=$VALUE*2"
        set="$VALUE=np/2"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="110 40" size="60 20"
        style="PlainText"
        vq="nt"
        vc="nt=$VALUE"
        set="$VALUE=nt"
        digits="0"
        disable="Grayed out"
        />
      <label loc="5 40" size="80 20"
        style="Label1"
        label="Averages"
        justify="Left"
        />
      <label loc="170 20" size="30 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
    </group>
    <group loc="220 0" size="210 230"
      style="Heading1"
      label="Acquisition"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="spuls_par"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <textmessage loc="110 40" size="60 20"
        style="PlainText"
        label="299.491"
        vq="sfrq"
        set="$VALUE=sfrq"
        digits="3"
        />
      <label loc="5 140" size="100 20"
        style="Label1"
        label="Presig"
        justify="Left"
        />
      <menu loc="110 140" size="80 20"
        style="PlainText"
        vq="presig"
        vc="presig='$VALUE'"
        set="$VALUE=presig"
        bg="VJBackground"
        editable="No"
        >
        <mlabel 
          label="high"
          chval="h"
          />
        <mlabel 
          label="low"
          chval="l"
          />
      </menu>
      <label loc="170 80" size="30 20"
        style="Label1"
        label="Hz"
        justify="Left"
        />
      <entry loc="110 80" size="60 20"
        style="PlainText"
        vq="sw"
        vc="sw=$VALUE"
        set="$VALUE=sw"
        digits="1"
        disable="Grayed out"
        />
      <label loc="5 80" size="100 20"
        style="Label1"
        label="Spectral Width"
        justify="Left"
        />
      <label loc="170 100" size="30 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <entry loc="110 100" size="60 20"
        style="PlainText"
        vq="at"
        vc="at=$VALUE/1000.0"
        set="$VALUE=at*1000.0"
        digits="1"
        disable="Grayed out"
        />
      <label loc="5 100" size="110 20"
        style="Label1"
        label="Acquisition Time"
        justify="Left"
        />
      <label loc="170 120" size="30 20"
        style="Label1"
        label="dB"
        justify="Left"
        />
      <entry loc="110 120" size="60 20"
        style="PlainText"
        vq="gain"
        vc="gain=$VALUE"
        set="$VALUE=gain"
        digits="0"
        disable="Grayed out"
        />
      <label loc="5 120" size="100 20"
        style="Label1"
        label="Receiver Gain"
        justify="Left"
        />
      <label loc="170 60" size="30 20"
        style="Label1"
        label="Hz"
        justify="Left"
        />
      <entry loc="110 60" size="60 20"
        style="PlainText"
        vq="tof"
        vc="tof=$VALUE"
        set="$VALUE=tof"
        digits="2"
        disable="Grayed out"
        />
      <label loc="5 60" size="100 20"
        style="Label1"
        label="Obs Offset"
        justify="Left"
        />
      <label loc="170 40" size="30 20"
        style="Label1"
        label="MHz"
        justify="Left"
        />
      <label loc="5 40" size="100 20"
        style="Label1"
        label="Obs Frequency"
        justify="Left"
        />
      <menu loc="110 20" size="80 20"
        style="PlainText"
        vq="tn"
        vc="tn='$VALUE'"
        set="$VALUE=tn"
        bg="VJBackground"
        editable="No"
        >
        <mlabel 
          label="Proton"
          chval="H1"
          />
        <mlabel 
          label="F19"
          chval="F19"
          />
        <mlabel 
          label="P31"
          chval="P31"
          />
        <mlabel 
          label="C13"
          chval="C13"
          />
        <mlabel 
          label="Na23"
          chval="Na23"
          />
        <mlabel 
          label="Xe129"
          chval="Xe129"
          />
      </menu>
      <label loc="5 20" size="100 20"
        style="Label1"
        label="Nucleus"
        justify="Left"
        />
    </group>
    <group loc="5 235" size="555 40"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      reference="z"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      >
      <textmessage loc="300 20" size="130 20"
        style="PlainText"
        label="205_120_HD"
        vq="gcoil"
        set="$VALUE = gcoil"
        />
      <textmessage loc="300 0" size="130 20"
        style="PlainText"
        label="main"
        vq="rfcoil"
        set="$VALUE = rfcoil"
        />
      <label loc="220 20" size="80 20"
        style="Heading1"
        label="Gradient"
        justify="Left"
        />
      <label loc="220 0" size="80 20"
        style="Heading1"
        label="RF Coil"
        justify="Left"
        />
      <textmessage loc="80 20" size="130 20"
        style="PlainText"
        label="ecc"
        vq="pslabel"
        set="$VALUE = pslabel"
        />
      <entry loc="80 0" size="130 20"
        style="PlainText"
        vq="comment"
        vc="comment='$VALUE' xm1('addcomment')"
        set="$VALUE=comment"
        digits="0"
        disable="Grayed out"
        />
      <label loc="0 20" size="80 20"
        style="Heading1"
        label="Protocol"
        justify="Left"
        />
      <label loc="0 0" size="80 20"
        style="Heading1"
        label="Comment"
        justify="Left"
        />
    </group>
  </group>
</template>
