<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="acqScan" element="pages" type="acquisition" >
  <group size="820 280"
    label="Scan"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="acqScan"
    useref="no"
    subtype="Basic"
    expanded="yes"
    >
    <group loc="220 0" size="210 230"
      style="Heading1"
      label="Gradient"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="ECCgradients"
      useref="no"
      subtype="Basic"
      expanded="yes"
      >
      <label loc="5 110" size="85 20"
        style="Label1"
        label="Rise Time"
        justify="Left"
        />
      <label loc="5 130" size="80 20"
        style="Label1"
        label="Amplitude"
        justify="Left"
        />
      <label loc="5 150" size="80 20"
        style="Label1"
        label="Maximum"
        justify="Left"
        />
      <group loc="90 110" size="60 20"
        vq="trampfixed"
        show="$VALUE=(trampfixed=0)"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <textmessage loc="10 0" size="50 20"
          style="PlainText"
          label="200"
          vq="ramp"
          set="$VALUE=ramp*1e6"
          digits="0"
          />
      </group>
      <textmessage loc="100 130" size="50 20"
        style="PlainText"
        label="-60.0"
        vq="gspoil"
        set="$VALUE=gspoil"
        digits="1"
        />
      <textmessage loc="100 150" size="50 20"
        style="PlainText"
        label="60.0"
        vq="gmax"
        set="$VALUE=gmax"
        digits="1"
        />
      <group loc="100 110" size="70 20"
        vq="trampfixed"
        show="$VALUE=(trampfixed&lt;&gt;0)"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <entry loc="0 0" size="60 20"
          style="PlainText"
          vq="trampfixed"
          vc="trampfixed=$VALUE if (trampfixed&lt;trise*1e6) then trampfixed=trise*1e6 endif"
          set="$VALUE=trampfixed"
          digits="0"
          disable="Grayed out"
          />
      </group>
      <label loc="160 110" size="40 20"
        style="Label1"
        label="us"
        justify="Left"
        />
      <label loc="160 130" size="40 20"
        style="Label1"
        label="G/cm"
        justify="Left"
        />
      <label loc="160 150" size="40 20"
        style="Label1"
        label="G/cm"
        justify="Left"
        />
      <label loc="160 170" size="30 20"
        style="Label1"
        label="%"
        justify="Left"
        />
      <textmessage loc="100 170" size="50 20"
        style="PlainText"
        label="80.0"
        vq="dutycycle"
        set="$VALUE=dutycycle"
        digits="1"
        />
      <label loc="5 170" size="90 20"
        style="Label1"
        label="Duty Cycle"
        justify="Left"
        />
      <check loc="100 80" size="95 20"
        style="PlainText"
        label="Maximum"
        vq="trampfixed"
        vc="trampfixed=0 go('check')"
        vc2="trampfixed=trise*1e6 go('check')"
        set="$VALUE=(trampfixed=0)"
        />
      <menu loc="100 60" size="80 20"
        style="PlainText"
        label="menu"
        vq="orient"
        vc="orient = '$VALUE'"
        set="$VALUE = orient"
        bg="VJBackground"
        editable="No"
        >
        <mlabel 
          label="X"
          chval="sag"
          />
        <mlabel 
          label="Y"
          chval="cor"
          />
        <mlabel 
          label="Z"
          chval="trans"
          />
      </menu>
      <entry loc="100 40" size="60 20"
        style="PlainText"
        vq="tspoil"
        vc="tspoil=$VALUE/1000 go('check')"
        set="$VALUE=tspoil*1000"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="100 20" size="60 20"
        style="PlainText"
        vq="DACgamp"
        vc="DACgamp=$VALUE  gspoil=DACgamp*gmax/32767  go('check')"
        set="$VALUE=DACgamp"
        digits="0"
        disable="Grayed out"
        />
      <label loc="160 20" size="35 20"
        style="Label1"
        label="DAC"
        justify="Left"
        />
      <label loc="5 80" size="90 20"
        style="Label1"
        label="Slew Rate"
        justify="Left"
        />
      <label loc="5 60" size="90 20"
        style="Label1"
        label="Axis"
        justify="Left"
        />
      <label loc="160 40" size="30 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <label loc="5 40" size="80 20"
        style="Label1"
        label="Duration"
        justify="Left"
        />
      <label loc="5 20" size="80 20"
        style="Label1"
        label="Amplitude"
        justify="Left"
        />
    </group>
    <group loc="5 0" size="210 230"
      style="Heading1"
      label="Run Parameters"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="spuls_acq"
      useref="no"
      subtype="Basic"
      expanded="yes"
      >
      <label loc="5 20" size="105 20"
        style="Label1"
        label="TR"
        justify="Left"
        />
      <entry loc="110 20" size="60 20"
        style="PlainText"
        vq="tr"
        vc="tr=$VALUE/1000 go('check')"
        set="$VALUE=tr*1000"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="110 40" size="60 20"
        style="PlainText"
        vq="nt"
        vc="nt=$VALUE"
        set="$VALUE=nt"
        digits="0"
        disable="Grayed out"
        />
      <label loc="5 40" size="80 20"
        style="Label1"
        label="Repetitions"
        justify="Left"
        />
      <label loc="170 20" size="30 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
    </group>
    <button loc="440 10" size="100 20"
      style="Label4"
      label="Run"
      vc="im1Dglobal('prep') wdone='' werr='' wexp='im1Dglobal(`proc`)' au"
      bg="darkGreen"
      decor1="no"
      />
    <group loc="5 235" size="555 40"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      reference="z"
      useref="no"
      subtype="Convenience"
      expanded="yes"
      >
      <textmessage loc="300 20" size="130 20"
        style="PlainText"
        label="205_120_HD"
        vq="gcoil"
        set="$VALUE = gcoil"
        />
      <textmessage loc="300 0" size="130 20"
        style="PlainText"
        label="main"
        vq="rfcoil"
        set="$VALUE = rfcoil"
        />
      <label loc="220 20" size="80 20"
        style="Heading1"
        label="Gradient"
        justify="Left"
        />
      <label loc="220 0" size="80 20"
        style="Heading1"
        label="RF Coil"
        justify="Left"
        />
      <textmessage loc="80 20" size="130 20"
        style="PlainText"
        label="rise_time_test"
        vq="pslabel"
        set="$VALUE = pslabel"
        />
      <entry loc="80 0" size="130 20"
        style="PlainText"
        vq="comment"
        vc="comment='$VALUE' xm1('addcomment')"
        set="$VALUE=comment"
        digits="0"
        disable="Grayed out"
        />
      <label loc="0 20" size="80 20"
        style="Heading1"
        label="Protocol"
        justify="Left"
        />
      <label loc="0 0" size="80 20"
        style="Heading1"
        label="Comment"
        justify="Left"
        />
    </group>
  </group>
</template>
