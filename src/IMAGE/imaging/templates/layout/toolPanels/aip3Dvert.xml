<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="aip3Dvert" element="pages" type="acquisition" >
  <group size="340 550"
    label="3D"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="aip3Dvert"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <group loc="0 335" size="330 85"
      style="Heading1"
      label="Convert 2D to 3D"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="junk"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <button loc="10 55" size="100 20"
        style="Heading3"
        label="Convert"
        vc="convert2Dto3D"
        bg="transparent"
        decor1="yes"
        />
      <group loc="10 25" size="300 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <menu loc="105 0" size="120 20"
          style="PlainText"
          vq="aip2to3Dfile"
          vc="exists('aip2to3Dfile','parameter'):$ex if ($ex=0) then create('aip2to3Dfile','string') endif aip2to3Dfile = '$VALUE'"
          set="$VALUE = aip2to3Dfile"
          bg="VJBackground"
          editable="No"
          >
          <mlabel 
            label="Same study"
            chval="SQ"
            />
          <mlabel 
            label="Current Exp"
            chval="curexp"
            />
        </menu>
        <label loc="0 0" size="100 20"
          style="Label1"
          label="Save data in"
          />
      </group>
    </group>
    <group loc="0 0" size="330 335"
      style="Heading1"
      label="Extract 2D Images"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="junk"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <group loc="10 100" size="320 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="155 0" size="50 20"
          style="PlainText"
          vq="slabix aip3Dusedir"
          vc="slabix = $VALUE aip3Dextract('display','checkvals','slab')"
          set="$VALUE = slabix"
          show="aip3Dextract('display','checkvals','slab'):$VALUE"
          disable="Label"
          />
        <check loc="210 0" size="95 20"
          style="PlainText"
          label="All Slabs"
          vq="aipAllslabs aip3Dusedir"
          vc="aipAllslabs='y'"
          vc2="aipAllslabs='n'"
          set="$VALUE=(aipAllslabs='y')"
          show="aip3Dextract('display','checkvals','slab'):$VALUE"
          />
        <scroll loc="105 0" size="35 20"
          style="PlainText"
          label="value1"
          vq="slabix aip3Dusedir"
          vc="slabix = $VALUE aip3Dextract('display','checkvals','slab')"
          set="$VALUE=slabix"
          show="aip3Dextract('display','checkvals','slab'):$VALUE"
          values="slabix-1 slabix+1"
          />
        <label loc="0 0" size="100 20"
          style="Label1"
          label="Slab"
          />
      </group>
      <check loc="10 125" size="110 20"
        style="PlainText"
        label="From Directory"
        vq="aip3Dusedir"
        vc="aip3Dusedir='y'"
        vc2="aip3Dusedir='n'"
        set="$VALUE=(aip3Dusedir='y')"
        />
      <button loc="220 305" size="100 20"
        style="PlainText"
        label="Clear All"
        vc="aipRQcommand('unselectDisplay') aipClearFrames"
        bg="transparent"
        decor1="yes"
        />
      <button loc="115 305" size="100 20"
        style="PlainText"
        label="Unload all"
        vc="aipDeleteData('all')"
        bg="transparent"
        decor1="yes"
        />
      <button loc="10 305" size="100 20"
        style="PlainText"
        label="Unload selected"
        vc="aipRQcommand('remove','sel')"
        bg="transparent"
        decor1="yes"
        />
      <button loc="115 280" size="100 20"
        style="PlainText"
        label="Extract MIP"
        vc="aipMIP='y' aip3Dextract('display',aip3Dfile)"
        bg="transparent"
        decor1="yes"
        />
      <button loc="10 280" size="100 20"
        style="PlainText"
        label="Extract Slices"
        vc="aipMIP='n' aip3Dextract('display',aip3Dfile)"
        bg="transparent"
        decor1="yes"
        />
      <check loc="10 250" size="115 20"
        style="PlainText"
        label="All Orientations"
        vq="aipAllorients"
        vc="aipAllorients='y'"
        vc2="aipAllorients='n'"
        set="$VALUE=(aipAllorients='y')"
        />
      <group loc="5 170" size="325 80"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="5 0" size="85 20"
          style="Label1"
          label="Orientation"
          justify="Left"
          />
        <radio loc="5 60" size="85 20"
          style="PlainText"
          label="PE x PE2"
          vq="aipOrient"
          vc="aipOrient='yz'"
          set="$VALUE=(aipOrient = 'yz')"
          />
        <radio loc="5 40" size="85 20"
          style="PlainText"
          label="RO x PE2"
          vq="aipOrient"
          vc="aipOrient='xz'"
          set="$VALUE=(aipOrient = 'xz')"
          />
        <radio loc="5 20" size="85 20"
          style="PlainText"
          label="RO x PE"
          vq="aipOrient"
          vc="aipOrient='xy'"
          set="$VALUE=(aipOrient = 'xy')"
          />
        <entry loc="110 60" size="50 20"
          style="PlainText"
          vq="aipYZfirst"
          vc="aipYZfirst=$VALUE-1"
          set="$VALUE=aipYZfirst+1"
          disable="Grayed out"
          />
        <entry loc="110 40" size="50 20"
          style="PlainText"
          vq="aipXZfirst"
          vc="aipXZfirst=$VALUE-1"
          set="$VALUE=aipXZfirst+1"
          disable="Grayed out"
          />
        <entry loc="110 20" size="50 20"
          style="PlainText"
          vq="aipXYfirst"
          vc="aipXYfirst=$VALUE-1"
          set="$VALUE=aipXYfirst+1"
          disable="Grayed out"
          />
        <label loc="110 0" size="50 20"
          style="Label1"
          label="First"
          justify="Left"
          />
        <label loc="160 0" size="50 20"
          style="Label1"
          label="Last"
          justify="Left"
          />
        <entry loc="160 60" size="50 20"
          style="PlainText"
          vq="aipYZlast"
          vc="aipYZlast=$VALUE-1"
          set="$VALUE=aipYZlast+1"
          disable="Grayed out"
          />
        <entry loc="160 40" size="50 20"
          style="PlainText"
          vq="aipXZlast"
          vc="aipXZlast=$VALUE-1"
          set="$VALUE=aipXZlast+1"
          disable="Grayed out"
          />
        <entry loc="160 20" size="50 20"
          style="PlainText"
          vq="aipXYlast"
          vc="aipXYlast=$VALUE-1"
          set="$VALUE=aipXYlast+1"
          disable="Grayed out"
          />
        <textmessage loc="210 60" size="45 20"
          style="PlainText"
          label="(128)"
          vq="fn nv"
          set="on('fn'):$fnon if $fnon then $V=fn/2 else $V=np/2 endif write('line3','(%d)',$V):$VALUE"
          digits="0"
          />
        <textmessage loc="210 40" size="45 20"
          style="PlainText"
          label="(128)"
          vq="fn1 nv"
          set="on('fn1'):$fn1on if $fn1on then $V=fn1/2 else $V=nv endif write('line3','(%d)',$V):$VALUE"
          digits="0"
          />
        <textmessage loc="210 20" size="45 20"
          style="PlainText"
          label="---"
          vq="fn2 nv2"
          set="on('fn2'):$fn2on if $fn2on then $V=fn2/2 else $V=nv2 endif write('line3','(%d)',$V):$VALUE"
          digits="0"
          />
        <entry loc="255 60" size="50 20"
          style="PlainText"
          vq="aipYZincr"
          vc="aipYZincr=$VALUE"
          set="$VALUE=aipYZincr"
          disable="Grayed out"
          />
        <entry loc="255 40" size="50 20"
          style="PlainText"
          vq="aipXZincr"
          vc="aipXZincr=$VALUE"
          set="$VALUE=aipXZincr"
          disable="Grayed out"
          />
        <entry loc="255 20" size="50 20"
          style="PlainText"
          vq="aipXYincr"
          vc="aipXYincr=$VALUE"
          set="$VALUE=aipXYincr"
          disable="Grayed out"
          />
        <label loc="255 0" size="70 20"
          style="Label1"
          label="Increment"
          justify="Left"
          />
      </group>
      <label loc="10 145" size="80 20"
        style="Label1"
        label="Data File"
        />
      <group loc="115 145" size="215 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        reference="aipList"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        >
        <filemenu loc="0 0" size="205 20"
          style="PlainText"
          vq="aipFDF aip3Dusedir"
          vc="aipFDF='$VALUE' "
          set="$VALUE=aipFDF"
          show="if (aip3Dusedir='y') then $VALUE=1 else $VALUE=-1 endif"
          file="$VALUE=curexp+'/aip3DList'"
          type="file"
          bg="VJBackground"
          editable="No"
          vq2="aipFDF aip3Dusedir"
          statshow="yes"
          elastic="no"
          display="yes"
          />
      </group>
      <filebrowser loc="115 125" size="215 20"
        label="file"
        vq="aipPath"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        reference="filebrowser"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        >
        <button loc="145 0" size="60 20"
          style="Label1"
          label="Browse..."
          vq="aip3Dusedir"
          show="if (aip3Dusedir='y') then $VALUE=1 else $VALUE=-1 endif"
          bg="transparent"
          decor1="no"
          actionCmd="show"
          />
        <entry loc="0 0" size="145 20"
          style="PlainText"
          vq="aip3Ddirectory aip3Dusedir"
          vc="aip3Ddirectory='$VALUE' aip3Dextract('set3Dfiles')"
          set="$VALUE=aip3Ddirectory"
          show="if (aip3Dusedir='y') then $VALUE=1 else $VALUE=-1 endif"
          disable="Grayed out"
          />
      </filebrowser>
      <group loc="10 40" size="320 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <menu loc="105 0" size="120 20"
          style="PlainText"
          vq="aip3Dfile aip3Dusedir"
          vc="aip3Dfile = '$VALUE'"
          set="$VALUE = aip3Dfile"
          show="aip3Dextract('enablemenus'):$VALUE"
          bg="VJBackground"
          editable="No"
          >
          <mlabel 
            label="Magnitude"
            chval="img"
            />
          <mlabel 
            label="Phase"
            chval="imgphs"
            />
          <mlabel 
            label="Raw (mag)"
            chval="rawmag"
            />
          <mlabel 
            label="Raw (ph)"
            chval="rawphs"
            />
          <mlabel 
            label="from 2D"
            chval="converted"
            />
        </menu>
        <label loc="0 0" size="100 20"
          style="Label1"
          label="Data Type"
          />
      </group>
      <group loc="10 60" size="320 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="155 0" size="50 20"
          style="PlainText"
          vq="element aip3Dusedir"
          vc="element = $VALUE aip3Dextract('display','checkvals')"
          set="$VALUE = element"
          show="aip3Dextract('display','checkvals'):$VALUE"
          disable="Label"
          />
        <check loc="210 0" size="95 20"
          style="PlainText"
          label="All Elements"
          vq="aipAllelements aip3Dusedir"
          vc="aipAllelements='y'"
          vc2="aipAllelements='n'"
          set="$VALUE=(aipAllelements='y')"
          show="aip3Dextract('display','checkvals'):$VALUE"
          />
        <scroll loc="105 0" size="35 20"
          style="PlainText"
          label="value1"
          vq="element aip3Dusedir"
          vc="element=$VALUE aip3Dextract('display','checkvals')"
          set="$VALUE=element"
          show="aip3Dextract('display','checkvals'):$VALUE"
          values="element-1 element+1"
          />
        <label loc="0 0" size="100 20"
          style="Label1"
          label="Array Element"
          />
      </group>
      <group loc="10 80" size="320 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="155 0" size="50 20"
          style="PlainText"
          vq="echo aip3Dusedir"
          vc="echo = $VALUE aip3Dextract('display','checkvals','echo')"
          set="$VALUE = echo"
          show="aip3Dextract('display','checkvals','echo'):$VALUE"
          disable="Label"
          />
        <check loc="210 0" size="95 20"
          style="PlainText"
          label="All Echoes"
          vq="aipAllechoes aip3Dusedir"
          vc="aipAllechoes='y'"
          vc2="aipAllechoes='n'"
          set="$VALUE=(aipAllechoes='y')"
          show="aip3Dextract('display','checkvals','echo'):$VALUE"
          />
        <scroll loc="105 0" size="35 20"
          style="PlainText"
          label="value1"
          vq="echo aip3Dusedir"
          vc="echo = $VALUE aip3Dextract('display','checkvals','echo')"
          set="$VALUE=echo"
          show="aip3Dextract('display','checkvals','echo'):$VALUE"
          values="echo-1 echo+1"
          />
        <label loc="0 0" size="100 20"
          style="Label1"
          label="Echo"
          />
      </group>
      <group loc="10 20" size="320 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <menu loc="105 0" size="120 20"
          style="PlainText"
          vq="aipData aip3Dusedir"
          vc="aipData = '$VALUE'"
          set="$VALUE = aipData"
          show="aip3Dextract('enablemenus'):$VALUE"
          bg="VJBackground"
          editable="No"
          >
          <mlabel 
            label="Study"
            chval="saved"
            />
          <mlabel 
            label="Reprocessed"
            chval="reprocessed"
            />
        </menu>
        <label loc="0 0" size="100 20"
          style="Label1"
          label="Data Source"
          />
      </group>
    </group>
  </group>
</template>
