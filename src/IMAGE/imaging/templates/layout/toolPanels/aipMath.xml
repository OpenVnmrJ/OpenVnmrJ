<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="aipMath" element="pages" type="acquisition" >
  <group size="340 680"
    style="PlainText"
    label="Math"
    vc="aipPrevMode=aipMode aipSetState(100)"
    vc2="aipSetState(aipPrevMode)"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="aipMath"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <group loc="0 370" size="330 125"
      style="Heading1"
      label="Math Expression"
      vq="aipMode"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="ImageMath"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <button loc="10 90" size="90 20"
        style="PlainText"
        label="Execute"
        vc="aipMathExecute('aip2CExp', 'aipMupdate')"
        bg="transparent"
        decor1="yes"
        />
      <centry loc="10 55" size="310 20"
        style="PlainText"
        vq="aip2JExp aip2JCaret aipMode"
        vc="aip2CExp='$VALUE' aip2JExp='$VALUE'"
        vc2="aip2CCaret=$VALUE aip2JCaret=$VALUE"
        set="$VALUE=aip2JExp"
        set2="$VALUE=aip2JCaret"
        color2="RightCursor"
        />
      <selfilemenu loc="10 25" size="310 20"
        style="PlainText"
        label="Select Sample Syntax"
        vq="aip2JExp aip2CExp"
        vc="aip2JExp='$VALUE' aip2CExp='$VALUE' "
        set="$VALUE=aip2JExp"
        file="$VALUE='/vnmr/imaging/templates/vnmrj/choicefiles/math_syntax'"
        type="file"
        bg="VJBackground"
        editable="No"
        statshow="yes"
        elastic="no"
        display="yes"
        />
    </group>
    <group loc="0 0" size="330 210"
      style="Heading1"
      label="Process Data"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="MathProcess"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <button loc="225 175" size="90 20"
        style="PlainText"
        label="Display All"
        vc="aipDisplay('all')"
        bg="transparent"
        decor1="yes"
        />
      <button loc="120 175" size="90 20"
        style="PlainText"
        label="Clear Display"
        vc="aipRQcommand('unselectDisplay') aipClearFrames aipSplitWindow(1,1)"
        bg="transparent"
        decor1="yes"
        />
      <button loc="15 175" size="90 20"
        style="PlainText"
        label="Process"
        vc="imagemath('calc',aipMathType)"
        bg="transparent"
        decor1="no"
        />
      <group loc="5 145" size="320 20"
        vq="aipDebug"
        show="$VALUE=aipDebug"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <button loc="220 0" size="45 20"
          style="PlainText"
          label="Set"
          vc="imagemath('setpixel')"
          bg="transparent"
          decor1="no"
          />
        <check loc="5 0" size="100 20"
          style="PlainText"
          label="Debug Pixel"
          vq="aipPixel"
          vc="on('aipPixel','global')"
          vc2="off('aipPixel','global')"
          set="on('aipPixel','global'):$VALUE"
          />
        <entry loc="115 0" size="90 20"
          style="PlainText"
          vq="aipPixel"
          vc="on('aipPixel','global') aipPixel=$VALUE"
          set="$VALUE=aipPixel"
          show="on('aipPixel','global'):$VALUE"
          digits="0"
          />
      </group>
      <check loc="10 105" size="150 20"
        style="PlainText"
        label="Add to Study Queue"
        vq="aipMathtosq aipDataOut activestudy studyid_ sqdir"
        vc="aipMathtosq='y'"
        vc2="aipMathtosq='n'"
        set="$VALUE=(aipMathtosq='y')"
        show="imagemath('addtosq'):$VALUE"
        />
      <check loc="10 125" size="100 20"
        style="PlainText"
        label="Debug"
        vq="aipDebug"
        vc="aipDebug=1"
        vc2="aipDebug=0"
        set="$VALUE=aipDebug"
        />
      <group loc="5 25" size="320 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <menu loc="115 0" size="110 20"
          style="PlainText"
          label="menu"
          vq="aipMathType"
          vc="imagemath('init','$VALUE')"
          set="$VALUE = aipMathType"
          bg="VJBackground"
          editable="No"
          >
          <mlabel 
            label="T2"
            chval="T2"
            />
          <mlabel 
            label="T1 - IR/SR"
            chval="T1_Rec"
            />
          <mlabel 
            label="Diffusion"
            chval="DIFF"
            />
          <mlabel 
            label="Sum Echoes"
            chval="SumEchoes"
            />
        </menu>
        <label loc="5 0" size="70 20"
          style="Label1"
          label="Type"
          />
      </group>
      <group loc="5 45" size="320 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="5 0" size="70 20"
          style="Label1"
          label="Title"
          />
        <entry loc="115 0" size="90 20"
          style="PlainText"
          vq="aipMathTitle"
          vc="aipMathTitle='$VALUE'"
          set="$VALUE=aipMathTitle"
          show="$VALUE = (aipMathTitle &lt;&gt; '')"
          />
      </group>
      <group loc="5 65" size="325 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="5 0" size="70 20"
          style="Label1"
          label="Input"
          />
        <radio loc="220 0" size="105 20"
          style="PlainText"
          label="Reprocessed"
          vq="aipData"
          vc="aipData='reprocessed'"
          set="$VALUE=(aipData='reprocessed')"
          />
        <radio loc="115 0" size="85 20"
          style="PlainText"
          label="Study"
          vq="aipData"
          vc="aipData='saved'"
          set="$VALUE=(aipData='saved')"
          />
      </group>
      <group loc="5 85" size="325 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="5 0" size="70 20"
          style="Label1"
          label="Output"
          />
        <radio loc="220 0" size="105 20"
          style="PlainText"
          label="Temporary"
          vq="aipDataOut"
          vc="aipDataOut='curexp'"
          set="$VALUE=(aipDataOut='curexp')"
          />
        <radio loc="115 0" size="85 20"
          style="PlainText"
          label="Study"
          vq="aipDataOut"
          vc="aipDataOut='saved'"
          set="$VALUE=(aipDataOut='saved')"
          />
      </group>
    </group>
    <group loc="0 210" size="330 160"
      style="Heading1"
      label="Fit Options"
      vq="aipMathOption"
      show="if (aipMathOption='Fit') then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="FitOptions"
      useref="yes"
      subtype="Major"
      expanded="no"
      >
    </group>
    <group loc="0 210" size="330 160"
      style="Heading1"
      label="Sum Echoes"
      vq="aipMathOption"
      show="if (aipMathOption='Sum') then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="SumEchoes"
      useref="yes"
      subtype="Major"
      expanded="no"
      >
    </group>
  </group>
</template>
