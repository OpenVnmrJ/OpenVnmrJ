<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="CSIDisplay" element="pages" type="processing" >
  <group size="770 210"
    style="PlainText"
    label="CSI Display"
    vq="panellevel"
    show="csiCmd('getCSIPath',file):$p if($p='') then $SHOW=0 else $SHOW=1 endif"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="CSIDisplay"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <group loc="470 0" size="295 200"
      style="Heading1"
      label="Voxel Info"
      vq="csiShowOpt"
      show="$VALUE=(csiShowOpt[3]&gt;=0)"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="CSIgridandspectraldisplay"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <textfile loc="5 20" size="285 175"
        style="PlainText"
        vq="dsSelect cr"
        set="$VALUE=curexp+'/voxelInfo.txt'"
        editable="no"
        wrap="no"
        units="char"
        />
    </group>
    <group loc="0 140" size="470 60"
      style="Heading1"
      label="Add/sub/multi spectra"
      vq="csiShowOpt"
      show="$VALUE=(csiShowOpt[3]=1)"
      bg="transparent"
      border="Etched"
      tab="no"
      enable="no"
      reference="Selectspectra"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <entry loc="65 30" size="380 20"
        style="PlainText"
        vq="csiTraceSel"
        vc="csiTraceSel='$VALUE' csiShow('specData',csiTraceSel)"
        set="$VALUE=csiTraceSel"
        disable="Grayed out"
        tooltip="Example: spec:10,spec:20,spec:10-spec:20"
        />
      <label loc="10 30" size="50 20"
        style="Label1"
        label="Select:"
        justify="Left"
        />
    </group>
    <group loc="165 0" size="305 140"
      style="Heading1"
      label="Maps"
      bg="transparent"
      border="Etched"
      tab="no"
      enable="no"
      useref="no"
      subtype="Titled"
      >
      <label loc="10 85" size="40 20"
        style="Label1"
        label="Show:"
        />
      <button loc="160 105" size="135 20"
        style="PlainText"
        label="Delete selected map"
        vc="csiCmd('deleteMap')"
        bg="VJBackground"
        decor1="yes"
        tooltip="Delete selected map from disk"
        />
      <button loc="50 105" size="110 20"
        style="PlainText"
        label="Remove overlay"
        vc="aipLayerSel=0 aipViewLayers('remove')"
        bg="VJBackground"
        decor1="yes"
        tooltip="Remove all overlay"
        />
      <filemenu loc="50 85" size="245 20"
        style="PlainText"
        vq="csiMapSel"
        vc="csiMapSel='$VALUE' csiCmd('loadMap', '$VALUE')"
        set="$VALUE=csiMapSel"
        file="$VALUE=curexp+'/maplist'"
        type="file"
        bg="VJBackground"
        editable="No"
        vq2="csiMapSel"
        statshow="no"
        elastic="no"
        display="yes"
        />
      <entry loc="150 45" size="145 20"
        style="PlainText"
        vq="file"
        vc="csiMapName='$VALUE'"
        set="$VALUE=csiMapName"
        />
      <label loc="10 45" size="140 20"
        style="Label1"
        label="Base name for maps:"
        />
      <check loc="235 25" size="60 20"
        style="PlainText"
        label="height"
        vq="csiMapType"
        vc="csiMapType='ll' "
        vc2="csiMapType='li'"
        set="$VALUE=(csiMapType='ll')"
        />
      <check loc="165 25" size="65 20"
        style="PlainText"
        label="integral"
        vq="csiMapType"
        vc="csiMapType='li' "
        vc2="csiMapType='ll'"
        set="$VALUE=(csiMapType='li')"
        />
      <button loc="10 25" size="140 20"
        style="PlainText"
        label="Generate map"
        vc="csiCmd('makeMap',csiMapType)"
        bg="VJBackground"
        decor1="yes"
        tooltip="Select a peak with cursor, press this button to calculate integral or height map for the peak."
        />
    </group>
    <group loc="0 0" size="165 140"
      style="Heading1"
      label="CSI voxels"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="CSIgridandspectraldisplay"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <group loc="10 55" size="150 30"
        vq="bcmode"
        show="$VALUE=(bcmode[1]&lt;0)"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <menu loc="0 0" size="145 20"
          style="PlainText"
          label="menu"
          vq="csiDisMode"
          vc="csiDisMode=$VALUE csiShow('gridData',$VALUE)"
          set="$VALUE=csiDisMode"
          bg="VJBackground"
          editable="No"
          >
          <mlabel 
            label="Spectra"
            chval="1"
            />
          <mlabel 
            label="Fid"
            chval="2"
            />
          <mlabel 
            label="None"
            chval="0"
            />
        </menu>
      </group>
      <group loc="10 55" size="150 25"
        vq="bcmode"
        show="$VALUE=(bcmode[1]&gt;=0)"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <menu loc="0 0" size="145 20"
          style="PlainText"
          label="menu"
          vq="csiDisMode"
          vc="csiDisMode=$VALUE csiShow('gridData',$VALUE)"
          set="$VALUE=csiDisMode"
          bg="VJBackground"
          editable="No"
          >
          <mlabel 
            label="Spectra"
            chval="1"
            />
          <mlabel 
            label="Baselines"
            chval="4"
            />
          <mlabel 
            label="Spectra &amp; baselines"
            chval="3"
            />
          <mlabel 
            label="Fid"
            chval="2"
            />
          <mlabel 
            label="None"
            chval="0"
            />
        </menu>
      </group>
      <check loc="20 85" size="45 20"
        style="PlainText"
        label="grid"
        vq="csiShowOpt"
        vc="csiShowOpt[1]=1 csiShow('gridData',csiDisMode)"
        vc2="csiShowOpt[1]=0 csiShow('gridData',csiDisMode)"
        set="$VALUE=csiShowOpt[1]"
        />
      <button loc="10 25" size="80 20"
        style="PlainText"
        label="Show"
        vc="csiShow('gridData', csiDisMode)"
        bg="VJBackground"
        decor1="yes"
        />
      <button loc="90 25" size="65 20"
        style="PlainText"
        label="Hide"
        vc="aipShowCSIData('hide')"
        bg="VJBackground"
        decor1="yes"
        />
      <toggle loc="115 110" size="35 20"
        style="PlainText"
        label="More"
        vq="csiShowOpt"
        vc="csiShowOpt[3]=1"
        vc2="csiShowOpt[3]=0"
        set="$VALUE=(csiShowOpt[3]=1)"
        enable="yes"
        radiobutton="no"
        subtype="no"
        />
      <check loc="80 85" size="60 20"
        style="PlainText"
        label="index"
        vq="csiShowOpt"
        vc="csiShowOpt[2]=1 csiShow('gridData',csiDisMode)"
        vc2="csiShowOpt[2]=0 csiShow('gridData',csiDisMode)"
        set="$VALUE=csiShowOpt[2]"
        />
    </group>
  </group>
</template>
