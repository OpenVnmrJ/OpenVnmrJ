<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="acqScan" element="pages" type="acquisition" >
  <group size="900 270"
    label="Scan"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="acqScan"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <group loc="650 0" size="210 230"
      style="Heading1"
      label="Sat Bands"
      vq="sat showOptions"
      show="if (showOptions=4) then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="z"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <check loc="10 20" size="90 20"
        style="PlainText"
        label="On/Off"
        vq="sat"
        vc="sat = 'y' go('check') setsatorient gplan('addType', 4) "
        vc2="sat = 'n' go('check') gplan('deleteType', 4) "
        set="$VALUE = (sat = 'y')"
        />
      <textmessage loc="110 170" size="95 20"
        style="PlainText"
        label="Oblique"
        vq="sorient"
        set="setgplan(sorient):$VALUE"
        />
      <label loc="5 170" size="105 20"
        style="Label1"
        label="Orientation"
        />
      <group loc="5 130" size="200 40"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="0 0" size="90 20"
          style="Label1"
          label="Position"
          justify="Left"
          />
        <label loc="0 20" size="90 20"
          style="Label1"
          label="Thickness"
          justify="Left"
          />
        <label loc="165 20" size="30 20"
          style="Label1"
          label="mm"
          justify="Left"
          />
        <label loc="165 0" size="30 20"
          style="Label1"
          label="mm"
          justify="Left"
          />
        <entry loc="105 20" size="60 20"
          style="PlainText"
          vq="satthk planSs"
          vc="gplan('setValue','satthk',$VALUE)"
          set="gplan('getValue', 'satthk'):$VALUE"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="105 0" size="60 20"
          style="PlainText"
          vq="satpos planSs"
          vc="gplan('setValue','satpos',$VALUE/10.0)"
          set="gplan('getValue', 'satpos'):$v $VALUE=$v*10"
          digits="1"
          disable="Grayed out"
          />
      </group>
      <textmessage loc="110 105" size="30 20"
        style="PlainText"
        label="---"
        vq="nsat sat satpos"
        set="$VALUE=size('satpos')*(sat='y')"
        />
      <label loc="5 105" size="90 20"
        style="Label1"
        label="No. Bands"
        justify="Left"
        />
      <label loc="10 50" size="90 20"
        style="Label1"
        label="Add satband"
        />
      <button loc="100 70" size="95 20"
        style="PlainText"
        label="Delete"
        vq="planSs nsat satpos"
        vc="if (size('satpos') = 1) then sat = 'n' endif gplan('deleteSelected',4) nsat=size('satpols') satpos=satpos"
        bg="transparent"
        decor1="no"
        />
      <menu loc="100 50" size="95 20"
        style="PlainText"
        label="menu"
        vq="satorient"
        vc="setsatorient satorient='$VALUE' setsatorient('add') nsat=size('satpos')"
        set="$VALUE=satorient"
        bg="VJBackground"
        editable="No"
        >
        <mlabel 
          label="Axial"
          chval="trans"
          />
        <mlabel 
          label="Coronal"
          chval="cor"
          />
        <mlabel 
          label="Sagittal"
          chval="sag"
          />
        <mlabel 
          label="3 Planes"
          chval="3orthogonal"
          />
        <mlabel 
          label="Axial 90"
          chval="trans90"
          />
        <mlabel 
          label="Coronal 90"
          chval="cor90"
          />
        <mlabel 
          label="Sagittal 90"
          chval="sag90"
          />
      </menu>
      <toggle loc="120 20" size="70 20"
        style="PlainText"
        label="View"
        vq="iplanType"
        vc="gplan('addType', 4)"
        vc2="gplan('deleteType', 4)"
        set="setsatorient:$VALUE"
        radiobutton="no"
        subtype="no"
        />
      <group loc="5 193" size="205 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="150 0" size="40 20"
          style="PlainText"
          vq="stheta planSs"
          vc="gplan('setValue','stheta',$VALUE)"
          set="gplan('getValue', 'stheta'):$VALUE"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="105 0" size="40 20"
          style="PlainText"
          vq="sphi planSs"
          vc="gplan('setValue','sphi',$VALUE)"
          set="gplan('getValue', 'sphi'):$VALUE"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="60 0" size="40 20"
          style="PlainText"
          vq="spsi planSs"
          vc="gplan('setValue','spsi',$VALUE)"
          set="gplan('getValue', 'spsi'):$VALUE"
          digits="1"
          disable="Grayed out"
          />
        <label loc="0 0" size="60 20"
          style="Label1"
          label="Angles"
          justify="Left"
          />
      </group>
    </group>
    <group loc="650 0" size="210 230"
      style="Heading1"
      label="Plan &amp; Display"
      vq="showOptions"
      show="if (showOptions=5) then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="VoxelPlanMore"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <group loc="0 50" size="205 80"
        style="Heading1"
        label="Display"
        bg="transparent"
        border="None"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        reference="zSliceDisplay"
        useref="no"
        subtype="Minor"
        expanded="yes"
        >
        <check loc="115 40" size="70 20"
          style="PlainText"
          label="3D view"
          vq="iplanType"
          vc="gplan('setDraw3D', 1)"
          vc2="gplan('setDraw3D', 0)"
          set="gplan('getActStackInfo', 'draw3D'):$VALUE"
          />
        <check loc="5 40" size="100 20"
          style="PlainText"
          label="Display Axes"
          vq="iplanType"
          vc="gplan('setDrawAxes', 1)"
          vc2="gplan('setDrawAxes', 0)"
          set="gplan('getActStackInfo', 'drawAxes'):$VALUE"
          />
        <radio loc="80 20" size="55 20"
          style="PlainText"
          label="Filled"
          vq="iplanType"
          vc="gplan('setDisplayStyle', 0) gplan('setFillPolygon', 1)"
          vc2="gplan('setFillPolygon', 0)"
          set="gplan('getActStackInfo', 'fill'):$VALUE"
          />
        <radio loc="145 20" size="45 20"
          style="PlainText"
          label="Line"
          vq="iplanType"
          vc="gplan('setDisplayStyle', 1)"
          vc2="gplan('setDisplayStyle', 0)"
          set="gplan('getActStackInfo', 'style'):$VALUE"
          />
        <radio loc="5 20" size="65 20"
          style="PlainText"
          label="Normal"
          vq="iplanType"
          vc="gplan('setFillPolygon', 0) gplan('setDisplayStyle', 0)"
          set="gplan('getActStackInfo', 'fill'):$v1 gplan('getActStackInfo', 'style'):$v2 $VALUE = $v1+$v2"
          />
        <check loc="5 130" size="160 20"
          style="PlainText"
          label="Show order"
          vq="iplanType"
          vc="gplan('setDrawOrders', 1)"
          vc2="gplan('setDrawOrders', 0)"
          set="gplan('getActStackInfo', 'drawOrder'):$VALUE"
          />
      </group>
      <group loc="5 20" size="200 25"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        reference="euler_horz"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        >
        <entry loc="55 5" size="40 20"
          style="PlainText"
          vq="vpsi vorient"
          vc="gplan('setValue','vpsi',$VALUE) go('check') vpsi=vpsi"
          set="$VALUE=vpsi"
          digits="1"
          disable="Grayed out"
          />
        <label loc="5 5" size="45 20"
          style="Label1"
          label="Angles"
          justify="Left"
          />
        <entry loc="130 5" size="40 20"
          style="PlainText"
          vq="vtheta"
          vc="gplan('setValue','vtheta',$VALUE) vtheta=vtheta"
          set="$VALUE=vtheta"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="95 5" size="35 20"
          style="PlainText"
          vq="vphi"
          vc="gplan('setValue','vphi',$VALUE) vphi=vphi"
          set="$VALUE=vphi"
          digits="1"
          disable="Grayed out"
          />
      </group>
    </group>
    <group loc="435 0" size="210 230"
      style="Heading1"
      label="Voxel Plan"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="2D_FOV"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <group loc="0 15" size="205 25"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <menu loc="90 5" size="105 20"
          style="PlainText"
          vq=" vorient orient"
          vc="vorient='$VALUE' gplan('setDefaultType', 3) setgplan('vorient','$VALUE') calcdim "
          set="$VALUE=vorient"
          bg="VJBackground"
          editable="No"
          >
          <mlabel 
            label="Axial"
            chval="trans"
            />
          <mlabel 
            label="Coronal"
            chval="cor"
            />
          <mlabel 
            label="Sagittal"
            chval="sag"
            />
          <mlabel 
            label="Axial 90"
            chval="trans90"
            />
          <mlabel 
            label="Coronal 90"
            chval="cor90"
            />
          <mlabel 
            label="Sagittal 90"
            chval="sag90"
            />
          <mlabel 
            label="Oblique"
            chval="oblique"
            />
        </menu>
        <label loc="5 5" size="70 20"
          style="PlainText"
          label="Orientation"
          justify="Left"
          />
      </group>
      <group loc="5 100" size="200 25"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        reference="a_aShimVoxel"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        >
        <button loc="125 0" size="45 20"
          style="Label1"
          label="Load"
          vc="vox_save_load('loadshim') go('check')"
          bg="transparent"
          decor1="no"
          />
        <button loc="75 0" size="50 20"
          style="Label1"
          label="Save"
          vc="vox_save_load('saveshim')"
          bg="transparent"
          decor1="no"
          />
        <label loc="0 0" size="75 20"
          style="PlainText"
          label="Shim Voxel"
          justify="Left"
          />
      </group>
      <group loc="0 195" size="205 30"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        reference="Milestone"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        >
        <button loc="100 5" size="45 20"
          style="Label1"
          label="Mark"
          vc="gplan('addVoxel') "
          bg="transparent"
          decor1="no"
          />
        <button loc="55 5" size="45 20"
          style="PlainText"
          label="Clear"
          vq="$VALUE = planValue"
          vc="gplan('clearStacks')"
          bg="transparent"
          decor1="yes"
          />
        <toggle loc="145 5" size="45 20"
          style="PlainText"
          label="More"
          vq="showOptions"
          vc="showOptions=5"
          vc2="showOptions=0"
          set="$VALUE=(showOptions=5)"
          radiobutton="no"
          subtype="no"
          />
        <button loc="5 5" size="50 20"
          style="PlainText"
          label="Show"
          vq="iplanType planValue"
          vc="gplan('setDefaultType', 3) gplan('getCurrentStacks')"
          bg="transparent"
          decor1="yes"
          />
      </group>
      <group loc="5 65" size="200 25"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="0 0" size="35 20"
          style="PlainText"
          label="Pos"
          justify="Left"
          />
        <entry loc="50 0" size="40 20"
          style="PlainText"
          vq="pos1"
          vc="gplan('setValue','pos1',$VALUE/10) go('check')"
          set="$VALUE=pos1*10"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="90 0" size="40 20"
          style="PlainText"
          vq="pos2"
          vc="gplan('setValue','pos2',$VALUE/10) go('check')"
          set="$VALUE=pos2*10"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="130 0" size="40 20"
          style="PlainText"
          vq="pos3"
          vc="gplan('setValue','pos3',$VALUE/10) go('check')"
          set="$VALUE=pos3*10"
          digits="1"
          disable="Grayed out"
          />
        <label loc="170 0" size="30 20"
          style="PlainText"
          label="mm"
          justify="Left"
          />
      </group>
      <group loc="5 45" size="200 25"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="0 0" size="40 20"
          style="PlainText"
          label="Size"
          justify="Left"
          />
        <entry loc="50 0" size="40 20"
          style="PlainText"
          vq="vox1"
          vc="gplan('setValue','vox1',$VALUE) go('check')"
          set="$VALUE=vox1"
          digits="1"
          disable="Grayed out"
          />
        <label loc="170 0" size="30 20"
          style="PlainText"
          label="mm"
          justify="Left"
          />
        <entry loc="130 0" size="40 20"
          style="PlainText"
          vq="vox3"
          vc="gplan('setValue','vox3',$VALUE) go('check')"
          set="$VALUE=vox3"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="90 0" size="40 20"
          style="PlainText"
          vq="vox2"
          vc="gplan('setValue','vox2',$VALUE) go('check')"
          set="$VALUE=vox2"
          digits="1"
          disable="Grayed out"
          />
      </group>
    </group>
    <group loc="220 0" size="210 230"
      style="Heading1"
      label="FOV"
      vq="lro"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="z"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <label loc="170 85" size="30 20"
        style="PlainText"
        label="mm"
        justify="Left"
        />
      <label loc="5 85" size="100 20"
        style="PlainText"
        label="-position"
        justify="Left"
        />
      <label loc="5 65" size="100 20"
        style="PlainText"
        label="Slice Thickness"
        justify="Left"
        />
      <entry loc="110 85" size="60 20"
        style="PlainText"
        vq="pss0"
        vc="pss0=$VALUE/10.0 gplan('setValue','pss0',$VALUE/10)"
        set="$VALUE=pss0*10"
        digits="1"
        disable="Grayed out"
        />
      <label loc="170 65" size="30 20"
        style="PlainText"
        label="mm"
        justify="Left"
        />
      <entry loc="110 65" size="60 20"
        style="PlainText"
        vq="thk"
        vc="gplan('setValue','thk',$VALUE) prescan_control[1]=0 prep go('check')"
        set="$VALUE=thk"
        digits="1"
        disable="Grayed out"
        />
      <label loc="5 40" size="70 20"
        style="PlainText"
        label="RO Offset"
        justify="Left"
        />
      <entry loc="110 40" size="60 20"
        style="PlainText"
        vq="pro"
        vc="gplan('setValue','pro',$VALUE/10)"
        set="$VALUE=pro*10"
        digits="1"
        disable="Grayed out"
        />
      <label loc="170 40" size="30 20"
        style="PlainText"
        label="mm"
        justify="Left"
        />
      <label loc="170 20" size="30 20"
        style="PlainText"
        label="mm"
        justify="Left"
        />
      <entry loc="110 20" size="60 20"
        style="PlainText"
        vq="lro"
        vc="gplan('setValue','lro',$VALUE/10) prep go('check')"
        set="$VALUE=lro*10"
        digits="1"
        disable="Grayed out"
        />
      <label loc="5 20" size="70 20"
        style="PlainText"
        label="Readout"
        justify="Left"
        />
    </group>
    <group loc="5 0" size="210 230"
      style="Heading1"
      label="Scan Parameters"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="z"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <textmessage loc="115 160" size="65 20"
        style="PlainText"
        label=" "
        vq="np"
        set="if np&lt;&gt;64 and np&lt;&gt;128 and np&lt;&gt;256 and np&lt;&gt;512 and np&lt;&gt;1024 and np&lt;&gt;2048 then $VALUE=np/2 else $VALUE='' endif"
        />
      <menu loc="115 140" size="65 20"
        style="PlainText"
        label="menu"
        vq="np"
        vc="np=$VALUE*2 go('check')"
        set="$VALUE=np/2"
        bg="VJBackground"
        editable="No"
        >
        <mlabel 
          label="32"
          chval="32"
          />
        <mlabel 
          label="64"
          chval="64"
          />
        <mlabel 
          label="96"
          chval="96"
          />
        <mlabel 
          label="128"
          chval="128"
          />
        <mlabel 
          label="192"
          chval="192"
          />
        <mlabel 
          label="256"
          chval="256"
          />
        <mlabel 
          label="512"
          chval="512"
          />
        <mlabel 
          label="1024"
          chval="1024"
          />
      </menu>
      <label loc="5 140" size="100 20"
        style="PlainText"
        label="Data Matrix"
        justify="Left"
        />
      <group loc="5 80" size="200 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="0 0" size="30 20"
          style="PlainText"
          label="tau"
          justify="Left"
          />
        <entry loc="110 0" size="60 20"
          style="PlainText"
          vq="tau"
          vc="tau=$VALUE/1000.0"
          set="$VALUE=tau*1000.0"
          show="on('tau'):$VALUE"
          digits="1"
          disable="Grayed out"
          />
        <label loc="170 0" size="25 20"
          style="PlainText"
          label="ms"
          justify="Left"
          />
      </group>
      <entry loc="115 100" size="60 20"
        style="PlainText"
        vq="nt"
        vc="nt=$VALUE go('check')"
        set="$VALUE=nt"
        digits="0"
        disable="Grayed out"
        />
      <label loc="5 100" size="85 20"
        style="PlainText"
        label="Averages"
        justify="Left"
        />
      <entry loc="115 120" size="60 20"
        style="PlainText"
        vq="ss"
        vc="ss=$VALUE go('check')"
        set="$VALUE=ss"
        digits="0"
        disable="Grayed out"
        />
      <label loc="5 120" size="100 20"
        style="PlainText"
        label="Dummy Scans"
        justify="Left"
        />
      <group loc="5 60" size="200 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="110 0" size="60 20"
          style="PlainText"
          vq="te2"
          vc="te2=$VALUE/1000"
          set="$VALUE=te2*1000.0"
          show="on('te2'):$VALUE"
          digits="1"
          disable="Grayed out"
          />
        <label loc="170 0" size="25 20"
          style="PlainText"
          label="ms"
          justify="Left"
          />
        <label loc="0 0" size="30 20"
          style="PlainText"
          label="TE2"
          justify="Left"
          />
      </group>
      <group loc="5 40" size="200 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="110 0" size="60 20"
          style="PlainText"
          vq="te1"
          vc="te1=$VALUE/1000"
          set="$VALUE=te1*1000.0"
          show="on('te1'):$VALUE"
          digits="1"
          disable="Grayed out"
          />
        <label loc="170 0" size="25 20"
          style="PlainText"
          label="ms"
          justify="Left"
          />
        <label loc="0 0" size="30 20"
          style="PlainText"
          label="TE1"
          justify="Left"
          />
      </group>
      <entry loc="115 20" size="60 20"
        style="PlainText"
        vq="tr mintr"
        vc="tr=$VALUE/1000.0 go('check')"
        set="$VALUE=tr*1000.0"
        digits="2"
        disable="Grayed out"
        />
      <label loc="175 20" size="25 20"
        style="PlainText"
        label="ms"
        justify="Left"
        />
      <label loc="5 20" size="30 20"
        style="PlainText"
        label="TR"
        justify="Left"
        />
    </group>
  </group>
</template>
