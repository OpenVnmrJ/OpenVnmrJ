<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="acqOptions" element="pages" type="acquisition" >
  <group size="800 270"
    style="Heading1"
    label="ASL"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="acqOptions"
    useref="no"
    subtype="Convenience"
    expanded="yes"
    >
    <group loc="435 0" size="210 260"
      style="Heading1"
      label="Optimization"
      bg="transparent"
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="Optimization"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <button loc="5 45" size="170 20"
        style="Label4"
        label="Test Images"
        vc="imEPI('prep') wexp='imEPI(`proc`)' au"
        bg="Active"
        decor1="yes"
        />
      <button loc="15 225" size="120 20"
        style="Heading3"
        label="Show RF &amp; Grad"
        vq="show_adv"
        vc="exists('show_adv','parameter'):$e if ($e=0) then create('show_adv','integer') endif show_adv = 1"
        bg="transparent"
        decor1="no"
        />
      <button loc="5 85" size="170 20"
        style="Label4"
        label="Five test images"
        vc="asl_opt('showall') au"
        bg="Active"
        decor1="yes"
        />
      <button loc="5 65" size="170 20"
        style="Label4"
        label="Off/Tag/Ctrl"
        vc="asl_opt('show3') au"
        bg="Active"
        decor1="yes"
        />
      <button loc="5 155" size="170 20"
        style="Label4"
        label="Opt IR (coarse)"
        vc="asl_opt('irC')"
        bg="Active"
        decor1="yes"
        />
      <button loc="5 175" size="170 20"
        style="Label4"
        label="Opt IR (fine)"
        vc="asl_opt('irF')"
        bg="Active"
        decor1="yes"
        />
      <group loc="5 200" size="185 20"
        vq="ir"
        show="exists('ir','parameter'):$VALUE"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        reference="junk"
        useref="no"
        subtype="Convenience"
        expanded="yes"
        >
        <label loc="0 0" size="95 20"
          style="Label1"
          label="Center power "
          justify="Left"
          />
        <entry loc="100 0" size="60 20"
          style="PlainText"
          vq="tpwri"
          vc="tpwri=$VALUE go('check')"
          set="$VALUE=tpwri"
          disable="Grayed out"
          />
      </group>
      <check loc="5 20" size="170 20"
        style="PlainText"
        label="Rotate FOV"
        vq="slprofile"
        vc="slprofile='y'"
        vc2="slprofile='n'"
        set="$VALUE = (slprofile='y')"
        />
    </group>
    <group loc="5 0" size="210 155"
      style="Heading1"
      label="Arterial Spin Labeling"
      vq="ir"
      show="exists('ir','parameter'):$VALUE"
      bg="transparent"
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="IR"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <group loc="5 65" size="195 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <button loc="140 0" size="30 20"
          style="Heading3"
          label="A"
          vc="vnmrjcmd('array','popup')"
          bg="transparent"
          decor1="yes"
          />
        <label loc="0 0" size="80 20"
          style="PlainText"
          label="Tag control"
          justify="Left"
          />
        <entry loc="80 0" size="60 20"
          style="PlainText"
          vq="asltag"
          vc="asltag = $VALUE go('check')"
          set="$VALUE=asltag"
          digits="0"
          disable="Grayed out"
          />
      </group>
      <group loc="5 85" size="195 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <entry loc="80 0" size="60 20"
          style="PlainText"
          vq="ti ir"
          vc="ti=$VALUE/1000.0 go('check')"
          set="$VALUE=ti*1000.0"
          digits="2"
          disable="Grayed out"
          />
        <label loc="145 0" size="30 20"
          style="PlainText"
          label="ms"
          justify="Left"
          />
        <label loc="0 0" size="60 20"
          style="PlainText"
          label="TI"
          justify="Left"
          />
      </group>
      <group loc="5 125" size="195 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <entry loc="80 0" size="60 20"
          style="PlainText"
          vq="iragp asltype"
          vc="irgap=$VALUE/10 go('check')"
          set="$VALUE=irgap*10"
          show="if (asltype &lt;&gt; 'FAIR') then $VALUE = 1 else $VALUE = -1 endif"
          digits="2"
          disable="Grayed out"
          />
        <label loc="145 0" size="30 20"
          style="PlainText"
          label="mm"
          justify="Left"
          />
        <label loc="0 0" size="60 20"
          style="PlainText"
          label="Tag gap"
          justify="Left"
          />
      </group>
      <group loc="5 105" size="195 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <entry loc="80 0" size="60 20"
          style="PlainText"
          vq="irthk asltype"
          vc="irthk=$VALUE go('check')"
          set="$VALUE=irthk"
          show="if (asltype &lt;&gt; 'FAIR') then $VALUE = 1 else $VALUE = -1 endif"
          digits="2"
          disable="Grayed out"
          />
        <label loc="145 0" size="30 20"
          style="PlainText"
          label="mm"
          justify="Left"
          />
        <label loc="0 0" size="60 20"
          style="PlainText"
          label="Tag width"
          justify="Left"
          />
      </group>
      <group loc="5 25" size="195 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <menu loc="80 0" size="115 20"
          style="PlainText"
          label="menu"
          vq="asltype"
          vc="asltype='$VALUE' asltag"
          set="$VALUE=asltype"
          editable="No"
          >
          <mlabel 
            label="FAIR"
            chval="FAIR"
            />
          <mlabel 
            label="STAR"
            chval="STAR"
            />
          <mlabel 
            label="PICORE"
            chval="PICORE"
            />
          <mlabel 
            label="OFF"
            chval="OFF"
            />
        </menu>
        <label loc="0 0" size="60 20"
          style="PlainText"
          label="Tag type"
          justify="Left"
          />
      </group>
      <group loc="5 45" size="195 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <entry loc="80 0" size="60 20"
          style="PlainText"
          vq="aslpairs"
          vc="aslpairs=$VALUE asltag go('check')"
          set="$VALUE=aslpairs"
          digits="0"
          disable="Grayed out"
          />
        <label loc="0 0" size="60 20"
          style="PlainText"
          label="Pairs"
          justify="Left"
          />
      </group>
    </group>
    <group loc="5 155" size="210 105"
      style="Heading1"
      label="Q2TIPS"
      bg="transparent"
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="Q2TIPS"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <group loc="5 80" size="195 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <entry loc="80 0" size="60 20"
          style="PlainText"
          vq="satthk"
          vc="satthk[1]=$VALUE go('check')"
          set="$VALUE=satthk[1]"
          show="if (quipss='y') then $VALUE = 1 else $VALUE = -1 endif"
          digits="2"
          disable="Grayed out"
          />
        <label loc="145 0" size="30 20"
          style="PlainText"
          label="mm"
          justify="Left"
          />
        <label loc="0 0" size="60 20"
          style="PlainText"
          label="Sat width"
          justify="Left"
          />
      </group>
      <group loc="5 60" size="195 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <label loc="0 0" size="80 20"
          style="PlainText"
          label="Sat pulses"
          justify="Left"
          />
        <entry loc="80 0" size="60 20"
          style="PlainText"
          vq="nquipss"
          vc="nquipss=$VALUE go('check')"
          set="$VALUE=nquipss"
          digits="2"
          disable="Grayed out"
          />
      </group>
      <group loc="5 40" size="195 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <label loc="0 0" size="80 20"
          style="PlainText"
          label="Start time"
          justify="Left"
          />
        <entry loc="80 0" size="60 20"
          style="PlainText"
          vq="ti1"
          vc="ti1=$VALUE/1000.0 go('check')"
          set="$VALUE=ti1*1000.0"
          digits="2"
          disable="Grayed out"
          />
        <label loc="145 0" size="30 20"
          style="PlainText"
          label="ms"
          justify="Left"
          />
      </group>
      <check loc="5 20" size="190 20"
        style="PlainText"
        label="Saturation"
        vq="quipss"
        vc="quipss='y' go('check')"
        vc2="quipss='n'  go('check')"
        set="$VALUE=(quipss='y')"
        />
    </group>
    <group loc="220 130" size="210 130"
      style="Heading1"
      label="Fat Saturation"
      vq="fsat"
      show="exists('fsat','parameter'):$VALUE"
      bg="transparent"
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="FatSaturation"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <label loc="5 45" size="70 20"
        style="PlainText"
        label="Flip Angle"
        justify="Left"
        />
      <check loc="75 105" size="90 20"
        style="PlainText"
        label="Auto offset"
        vq="fsat fsatfrq autooffset"
        vc="autooffset='y' fsatfrq=Prescan_FatOffset"
        vc2="autooffset='n'"
        set="$VALUE=(autooffset='y')"
        show="if (fsat = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        />
      <label loc="135 85" size="30 20"
        style="PlainText"
        label="Hz"
        justify="Left"
        />
      <label loc="5 85" size="60 20"
        style="PlainText"
        label="Offset"
        justify="Left"
        />
      <entry loc="75 85" size="60 20"
        style="PlainText"
        vq="fsat fsatfrq"
        vc="fsatfrq=$VALUE autooffset=n"
        set="$VALUE=fsatfrq"
        show="if (fsat = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        digits="2"
        disable="Grayed out"
        />
      <entry loc="75 65" size="60 20"
        style="PlainText"
        vq="pfsat fsat"
        vc="pfsat=$VALUE*1000.0 go('check')"
        set="$VALUE=pfsat/1000.0"
        show="if (fsat = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        digits="2"
        disable="Grayed out"
        />
      <label loc="135 65" size="30 20"
        style="PlainText"
        label="ms"
        justify="Left"
        />
      <label loc="5 65" size="60 20"
        style="PlainText"
        label="Duration"
        justify="Left"
        />
      <label loc="135 45" size="30 20"
        style="PlainText"
        label="deg"
        justify="Left"
        />
      <entry loc="75 45" size="60 20"
        style="PlainText"
        vq="flipfsat fsat"
        vc="flipfsat=$VALUE"
        set="$VALUE=flipfsat"
        show="if (fsat = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        digits="2"
        disable="Grayed out"
        />
      <check loc="5 20" size="65 20"
        style="PlainText"
        label="Fatsat"
        vq="fsat Prescan_FatOffset"
        vc="fsat='y'  fsatfrq=fsatfrq pfsat=pfsat if (autooffset='y') then fsatfrq=Prescan_FatOffset endif go('check')"
        vc2="fsat='n' unarray('fsatfrq','pfsat')   go('check')"
        set="$VALUE=(fsat='y')"
        />
    </group>
    <group loc="220 0" size="210 130"
      style="Heading1"
      label="Vasc Suppression"
      vq="diff"
      show="exists('diff','parameter'):$VALUE"
      bg="transparent"
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="Diffusion"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <group loc="5 90" size="200 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <textmessage loc="80 0" size="60 20"
          style="PlainText"
          label="10.99"
          vq="max_bval gdiff diff bvalue"
          set="arraymax('bvalue'):$VALUE $VALUE = $VALUE*(diff='y')"
          show="$VALUE = (diff='y')"
          digits="2"
          statpar="max_bval"
          />
        <label loc="140 0" size="45 20"
          style="PlainText"
          label="s/mm2"
          justify="Left"
          />
        <label loc="0 0" size="70 20"
          style="Label1"
          label="b-value"
          justify="Left"
          />
      </group>
      <check loc="5 20" size="95 20"
        style="PlainText"
        label="Suppress"
        vq="diff"
        vc="diff='y' go('check')"
        vc2="diff='n' go('check')"
        set="$VALUE=(diff='y')"
        />
      <label loc="145 62" size="30 20"
        style="PlainText"
        label="ms"
        justify="Left"
        />
      <label loc="145 42" size="40 20"
        style="PlainText"
        label="G/cm"
        justify="Left"
        />
      <entry loc="85 62" size="60 20"
        style="PlainText"
        vq="tdelta diff"
        vc="tdelta = $VALUE/1000 tDELTA=tdelta  bvalue"
        set="$VALUE = tdelta*1000"
        show="if (diff='y') then $VALUE = 1 else $VALUE = -1 endif"
        digits="2"
        disable="Grayed out"
        />
      <entry loc="85 42" size="60 20"
        style="PlainText"
        vq="gdiff diff"
        vc="gdiff = $VALUE bvalue"
        set="$VALUE = gdiff"
        show="if (diff='y') then $VALUE = 1 else $VALUE = -1 endif"
        digits="2"
        disable="Grayed out"
        />
      <label loc="5 62" size="80 20"
        style="Label1"
        label="Grad dur"
        justify="Left"
        />
      <label loc="5 42" size="80 20"
        style="Label1"
        label="Grad amp"
        justify="Left"
        />
    </group>
  </group>
</template>
