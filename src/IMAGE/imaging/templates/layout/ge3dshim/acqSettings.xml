<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="acqSettings" element="pages" type="acquisition" >
  <group size="800 270"
    label="Settings"
    vq="show_set"
    show="$VALUE = (show_set &gt; 0)"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="acqSettings"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <group loc="5 0" size="210 250"
      style="Heading1"
      label="Settings"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="z"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <check loc="5 100" size="155 20"
        style="PlainText"
        label="Show 'start' shim files"
        vq="gs_shims"
        vc="gs_shims='y'"
        vc2="gs_shims='n'"
        set="$VALUE=(gs_shims='y')"
        />
      <label loc="175 140" size="25 20"
        style="Label1"
        label="%"
        justify="Left"
        />
      <entry loc="115 140" size="60 20"
        style="PlainText"
        vq="thresh"
        vc="thresh=$VALUE"
        set="$VALUE=thresh"
        show="on('thresh'):$VALUE"
        digits="1"
        disable="Grayed out"
        />
      <label loc="5 140" size="120 20"
        style="Label1"
        label="Intensity threshold"
        justify="Left"
        />
      <label loc="175 120" size="30 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <entry loc="115 120" size="60 20"
        style="PlainText"
        vq="delref"
        vc="delref=$VALUE/1000"
        set="$VALUE=delref*1000"
        show="on('delref'):$VALUE"
        digits="2"
        disable="Grayed out"
        />
      <label loc="5 120" size="110 20"
        style="Label1"
        label="Reference delay"
        justify="Left"
        />
      <check loc="5 80" size="135 20"
        style="PlainText"
        label="Use Shimmap FOV"
        vq="shimmapfov"
        vc="shimmapfov='y'"
        vc2="shimmapfov='n'"
        set="$VALUE=(shimmapfov='y')"
        />
      <check loc="5 60" size="190 20"
        style="PlainText"
        label="Zerofill shim/field maps"
        vq="zflag"
        vc="zflag='y' "
        vc2="zflag='n' "
        set="$VALUE=(zflag='y')"
        show="on('zflag'):$VALUE"
        />
      <check loc="5 40" size="190 20"
        style="PlainText"
        label="Prescan and set H1offset"
        vq="setres setf"
        vc="setres='y' setf='n'"
        vc2="setres='n' "
        set="$VALUE=(setres='y')"
        show="on('setres'):$VALUE"
        />
      <check loc="5 20" size="190 20"
        style="PlainText"
        label="Calculate and set H1offset"
        vq="setf setres"
        vc="setf='y' setres='n'"
        vc2="setf='n'"
        set="$VALUE=(setf='y')"
        show="on('setf'):$VALUE"
        />
    </group>
    <group loc="645 10" size="90 100"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      reference="show"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      >
      <toggle loc="10 40" size="80 20"
        style="PlainText"
        label="Advanced"
        vq="show_adv"
        vc="show_adv = 1"
        vc2="show_adv = 0"
        set="$VALUE=show_adv"
        radiobutton="no"
        subtype="no"
        />
      <toggle loc="10 0" size="80 20"
        style="PlainText"
        label="Map"
        vq="show_map"
        vc="show_map = 1"
        vc2="show_map = 0"
        set="$VALUE=show_map"
        radiobutton="no"
        subtype="no"
        />
      <toggle loc="10 20" size="80 20"
        style="PlainText"
        label="Settings"
        vq="show_set"
        vc="show_set = 1"
        vc2="show_set = 0"
        set="$VALUE=show_set"
        radiobutton="no"
        subtype="no"
        />
      <toggle loc="10 60" size="80 20"
        style="PlainText"
        label="RF Pulses"
        vq="show_rf"
        vc="show_rf = 1"
        vc2="show_rf = 0"
        set="$VALUE=show_rf"
        radiobutton="no"
        subtype="no"
        />
      <toggle loc="10 80" size="80 20"
        style="PlainText"
        label="Gradients"
        vq="show_grad"
        vc="show_grad = 1"
        vc2="show_grad = 0"
        set="$VALUE=show_grad"
        radiobutton="no"
        subtype="no"
        />
    </group>
    <group loc="435 0" size="210 250"
      style="Heading1"
      label="Shimmap Name"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="z"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <filemenu loc="5 40" size="200 20"
        style="PlainText"
        vq="shimmapname"
        vc="shimmapname='$VALUE'  gs_shimpar prep"
        set="$VALUE=shimmapname"
        file="$file='/gshimdir/data/maplist' get_path($file):$path $VALUE=$path+$file"
        type="file"
        bg="VJBackground"
        editable="No"
        vq2="shimmapname"
        statshow="yes"
        elastic="no"
        display="yes"
        />
      <label loc="5 20" size="70 20"
        style="Label1"
        label="Select"
        justify="Left"
        />
    </group>
    <group loc="220 0" size="210 250"
      style="Heading1"
      label="Shim selection"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="z"
      useref="no"
      subtype="Titled"
      expanded="yes"
      >
      <menu loc="5 20" size="80 20"
        style="PlainText"
        label="menu"
        vq="shimsel shsel shimfit"
        vc="shsel[1]='$VALUE' shimsel='$VALUE' gs_shimselect"
        set="$VALUE=shsel[1]"
        bg="VJBackground"
        editable="No"
        >
        <mlabel 
          label="1-(xyz)"
          chval="1"
          />
        <mlabel 
          label="1&amp;2"
          chval="1&amp;2"
          />
        <mlabel 
          label="1&amp;z2"
          chval="1&amp;z2"
          />
        <mlabel 
          label="1,2&amp;3"
          chval="12&amp;3"
          />
        <mlabel 
          label="123&amp;4"
          chval="123&amp;4"
          />
        <mlabel 
          label="select"
          chval="select"
          />
      </menu>
      <button loc="90 20" size="90 20"
        style="PlainText"
        label="Save Selection"
        vq="shimfit"
        vc="writeparam(userdir+'/gshimdir/data/select.par','shimfit')"
        bg="transparent"
        decor1="yes"
        />
      <check loc="70 125" size="60 20"
        style="PlainText"
        label="yz2"
        vq="shimfit shimsel"
        vc="shimfit[13] =1"
        vc2="shimfit[13] =0"
        set="$VALUE=(shimfit[13] &gt; 0)"
        />
      <check loc="70 105" size="60 20"
        style="PlainText"
        label="xz2"
        vq="shimfit shimsel"
        vc="shimfit[12] =1"
        vc2="shimfit[12] =0"
        set="$VALUE=(shimfit[12] &gt; 0)"
        />
      <check loc="70 85" size="60 20"
        style="PlainText"
        label="z3"
        vq="shimfit shimsel"
        vc="shimfit[11] =1"
        vc2="shimfit[11] =0"
        set="$VALUE=(shimfit[11] &gt; 0)"
        />
      <check loc="70 65" size="60 20"
        style="PlainText"
        label="y3"
        vq="shimfit shimsel"
        vc="shimfit[10] =1"
        vc2="shimfit[10] =0"
        set="$VALUE=(shimfit[10] &gt; 0)"
        />
      <check loc="70 45" size="60 20"
        style="PlainText"
        label="x3"
        vq="shimfit shimsel"
        vc="shimfit[9] =1"
        vc2="shimfit[9] =0"
        set="$VALUE=(shimfit[9] &gt; 0)"
        />
      <check loc="135 45" size="70 20"
        style="PlainText"
        label="z3x"
        vq="shimfit shimsel"
        vc="shimfit[16] =1"
        vc2="shimfit[16] =0"
        set="$VALUE=(shimfit[16] &gt; 0)"
        />
      <check loc="135 65" size="70 20"
        style="PlainText"
        label="z3y"
        vq="shimfit shimsel"
        vc="shimfit[17] =1"
        vc2="shimfit[17] =0"
        set="$VALUE=(shimfit[17] &gt; 0)"
        />
      <check loc="135 105" size="70 20"
        style="PlainText"
        label="z2xy"
        vq="shimfit shimsel"
        vc="shimfit[19] =1"
        vc2="shimfit[19] =0"
        set="$VALUE=(shimfit[19] &gt; 0)"
        />
      <check loc="135 85" size="70 20"
        style="PlainText"
        label="z2x2y2"
        vq="shimfit shimsel"
        vc="shimfit[18] =1"
        vc2="shimfit[18] =0"
        set="$VALUE=(shimfit[18] &gt; 0)"
        />
      <check loc="135 125" size="70 20"
        style="PlainText"
        label="zy3"
        vq="shimfit shimsel"
        vc="shimfit[20] =1"
        vc2="shimfit[20] =0"
        set="$VALUE=(shimfit[20] &gt; 0)"
        />
      <check loc="135 145" size="70 20"
        style="PlainText"
        label="zx3"
        vq="shimfit shimsel"
        vc="shimfit[21] =1"
        vc2="shimfit[21] =0"
        set="$VALUE=(shimfit[21] &gt; 0)"
        />
      <check loc="70 145" size="60 20"
        style="PlainText"
        label="zxy"
        vq="shimfit shimsel"
        vc="shimfit[14] =1"
        vc2="shimfit[14] =0"
        set="$VALUE=(shimfit[14] &gt; 0)"
        />
      <check loc="70 165" size="65 20"
        style="PlainText"
        label="zx2y2"
        vq="shimfit shimsel"
        vc="shimfit[15] =1"
        vc2="shimfit[15] =0"
        set="$VALUE=(shimfit[15] &gt; 0)"
        />
      <check loc="135 185" size="70 20"
        style="PlainText"
        label="x5"
        vq="shimfit shimsel"
        vc="shimfit[23] =1"
        vc2="shimfit[23] =0"
        set="$VALUE=(shimfit[23] &gt; 0)"
        />
      <check loc="135 165" size="70 20"
        style="PlainText"
        label="x4"
        vq="shimfit shimsel"
        vc="shimfit[22] =1"
        vc2="shimfit[22] =0"
        set="$VALUE=(shimfit[22] &gt; 0)"
        />
      <check loc="135 225" size="40 20"
        style="PlainText"
        label="z5"
        vq="shimfit shimsel"
        vc="shimfit[25] =1"
        vc2="shimfit[25] =0"
        set="$VALUE=(shimfit[25] &gt; 0)"
        />
      <check loc="135 205" size="70 20"
        style="PlainText"
        label="z4"
        vq="shimfit shimsel"
        vc="shimfit[24] =1"
        vc2="shimfit[24] =0"
        set="$VALUE=(shimfit[24] &gt; 0)"
        />
      <check loc="5 45" size="55 20"
        style="PlainText"
        label="x"
        vq="shimfit shimsel"
        vc="shimfit[1] =1"
        vc2="shimfit[1] =0"
        set="$VALUE=(shimfit[1] &gt; 0)"
        />
      <check loc="5 65" size="55 20"
        style="PlainText"
        label="y"
        vq="shimfit shimsel"
        vc="shimfit[2]  = 1"
        vc2="shimfit[2] = 0"
        set="$VALUE=(shimfit[2]  &gt; 0)"
        />
      <check loc="5 85" size="55 20"
        style="PlainText"
        label="z"
        vq="shimfit shimsel"
        vc="shimfit[3]  =1"
        vc2="shimfit[3] =0"
        set="$VALUE=(shimfit[3]  &gt; 0)"
        />
      <check loc="5 105" size="55 20"
        style="PlainText"
        label="xz"
        vq="shimfit shimsel"
        vc="shimfit[4] = 1"
        vc2="shimfit[4] =0"
        set="$VALUE=(shimfit[4] &gt; 0)"
        />
      <check loc="5 125" size="55 20"
        style="PlainText"
        label="yz"
        vq="shimfit shimsel"
        vc="shimfit[5] = 1"
        vc2="shimfit[5] = 0"
        set="$VALUE=(shimfit[5] &gt; 0)"
        />
      <check loc="5 145" size="55 20"
        style="PlainText"
        label="z2"
        vq="shimfit shimsel"
        vc="shimfit[6] = 1"
        vc2="shimfit[6] = 0"
        set="$VALUE=(shimfit[6] &gt; 0)"
        />
      <check loc="5 165" size="55 20"
        style="PlainText"
        label="xy"
        vq="shimfit shimsel"
        vc="shimfit[7]  = 1"
        vc2="shimfit[7] = 0"
        set="$VALUE=(shimfit[7]  &gt; 0)"
        />
      <check loc="5 185" size="55 20"
        style="PlainText"
        label="x2y2"
        vq="shimfit shimsel"
        vc="shimfit[8]  = 1"
        vc2="shimfit[8] = 0"
        set="$VALUE=(shimfit[8]  &gt; 0)"
        />
    </group>
  </group>
</template>
