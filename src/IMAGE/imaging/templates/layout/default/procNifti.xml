<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="procNifti" element="pages" type="processing" >
  <group size="800 270"
    style="PlainText"
    label="Nifti"
    vq="niftipage"
    vc="aipXrecon('genpars') aipXrecon('nifti')"
    show="$VALUE=(niftipage='y')"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="procNifti"
    useref="no"
    subtype="Convenience"
    expanded="yes"
    >
    <button loc="440 10" size="80 20"
      style="PlainText"
      label="Close"
      vq="niftipage"
      vc="niftipage='n'"
      bg="transparent"
      decor1="yes"
      />
    <group loc="5 0" size="210 260"
      style="Heading1"
      label="NIFTI-1/Analyze7.5"
      bg="transparent"
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="nifti"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <group loc="5 150" size="200 105"
        vq="nifti"
        show="$VALUE=(nifti='nifti')"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <group loc="5 40" size="190 60"
          vq="niftitime"
          show="$VALUE=(niftitime='y')"
          bg="transparent"
          border="None"
          tab="no"
          enable="no"
          useref="no"
          subtype="Convenience"
          >
          <label loc="20 40" size="85 20"
            style="Label1"
            label="Offset"
            />
          <label loc="20 20" size="85 20"
            style="Label1"
            label="Slice Time"
            />
          <label loc="20 0" size="85 20"
            style="Label1"
            label="Cycle Time"
            />
          <label loc="160 40" size="25 20"
            style="Label1"
            label="s"
            />
          <label loc="160 20" size="25 20"
            style="Label1"
            label="ms"
            />
          <entry loc="105 40" size="50 20"
            style="PlainText"
            vq="niftitoffset niftitauto"
            vc="niftitoffset = $VALUE"
            set="$VALUE = niftitoffset"
            digits="1"
            />
          <entry loc="105 20" size="50 20"
            style="PlainText"
            vq="niftitslice niftitauto"
            vc="niftitslice = $VALUE/1000"
            set="$VALUE = niftitslice*1000"
            digits="1"
            />
          <entry loc="105 0" size="50 20"
            style="PlainText"
            vq="niftit niftitauto"
            vc="niftit = $VALUE"
            set="$VALUE = niftit"
            digits="1"
            />
          <label loc="160 0" size="25 20"
            style="Label1"
            label="s"
            />
        </group>
        <check loc="5 20" size="150 20"
          style="PlainText"
          label="NIFTI-1 Time Series"
          vq="niftitime"
          vc="niftitime='y'"
          vc2="niftitime='n'"
          set="$VALUE=(niftitime='y')"
          />
        <check loc="5 0" size="195 20"
          style="PlainText"
          label="Header &amp; data in &quot;.nii&quot; file(s)"
          vq="niftifile"
          vc="niftifile='nii'"
          vc2="niftifile=''"
          set="$VALUE=(niftifile='nii')"
          />
      </group>
      <group loc="5 80" size="200 70"
        vq="nifti"
        show="$VALUE=(nifti='nifti' OR nifti='analyze')"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <group loc="160 5" size="40 60"
          vq="niftiauto"
          show="$VALUE=(niftiauto='n')"
          bg="transparent"
          border="None"
          tab="no"
          enable="no"
          useref="no"
          subtype="Convenience"
          >
          <scroll loc="5 20" size="35 20"
            style="PlainText"
            label="value1"
            vq="nifticycle"
            vc="nifticycle=$VALUE  aipXrecon('nifti','cycle')"
            set="$VALUE=nifticycle"
            values="nifticycle-1  nifticycle+1"
            />
          <scroll loc="5 0" size="35 20"
            style="PlainText"
            label="value1"
            vq="niftivols"
            vc="niftivols=$VALUE  aipXrecon('nifti','vols')"
            set="$VALUE=niftivols"
            values="niftivols-1  niftivols+1"
            />
        </group>
        <textmessage loc="110 45" size="50 20"
          style="PlainText"
          vq="niftifiles"
          set="$VALUE=niftifiles"
          />
        <entry loc="110 25" size="50 20"
          style="PlainText"
          vq="nifticycle niftitauto"
          vc="nifticycle = $VALUE aipXrecon('nifti','cycle')"
          set="$VALUE = nifticycle"
          />
        <entry loc="110 5" size="50 20"
          style="PlainText"
          vq="niftivols niftitauto"
          vc="niftivols = $VALUE aipXrecon('nifti','vols')"
          set="$VALUE = niftivols"
          />
        <label loc="5 45" size="110 20"
          style="Label1"
          label="Number of Files"
          />
        <label loc="5 25" size="110 20"
          style="Label1"
          label="Cycle (volumes)"
          />
        <label loc="5 5" size="110 20"
          style="Label1"
          label="Volumes per File"
          />
      </group>
      <group loc="115 40" size="90 20"
        vq="nifti"
        show="$VALUE=(nifti='nifti')"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <check loc="0 0" size="50 20"
          style="PlainText"
          label="Auto"
          vq="niftiauto nifti"
          vc="niftiauto='y' aipXrecon('nifti')"
          vc2="niftiauto='n'"
          set="$VALUE=(niftiauto='y')"
          />
      </group>
      <group loc="115 60" size="90 20"
        vq="nifti"
        show="$VALUE=(nifti='analyze')"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <check loc="0 0" size="50 20"
          style="PlainText"
          label="Auto"
          vq="niftiauto nifti"
          vc="niftiauto='y' aipXrecon('nifti')"
          vc2="niftiauto='n'"
          set="$VALUE=(niftiauto='y')"
          />
      </group>
      <group loc="5 20" size="110 60"
        bg="transparent"
        tab="no"
        enable="no"
        useref="no"
        subtype="Basic"
        >
        <radio loc="5 40" size="90 20"
          style="PlainText"
          label="Analyze7.5"
          vq="nifti"
          vc="nifti='analyze'"
          set="$VALUE=(nifti='analyze')"
          />
        <radio loc="5 20" size="90 20"
          style="PlainText"
          label="NIFTI-1"
          vq="nifti"
          vc="nifti='nifti'"
          set="$VALUE=(nifti='nifti')"
          />
        <radio loc="5 0" size="90 20"
          style="PlainText"
          label="None"
          vq="nifti"
          vc="nifti='n'"
          set="$VALUE=(nifti='n')"
          />
      </group>
    </group>
    <group loc="220 0" size="210 120"
      style="Heading1"
      label="Image Output"
      vq="recon"
      show="$VALUE=(recon &lt;&gt; 'internal') AND (recon &lt;&gt; '')"
      bg="transparent"
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="Output"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <check loc="10 90" size="100 20"
        style="PlainText"
        label="Imaginary"
        vq="niiIM"
        vc="niiIM='y'"
        vc2="niiIM='n'"
        set="$VALUE=(niiIM='y')"
        />
      <check loc="10 70" size="100 20"
        style="PlainText"
        label="Real"
        vq="niiRE"
        vc="niiRE='y'"
        vc2="niiRE='n'"
        set="$VALUE=(niiRE='y')"
        />
      <check loc="10 40" size="100 20"
        style="PlainText"
        label="Phase"
        vq="niiPH"
        vc="niiPH='y'"
        vc2="niiPH='n'"
        set="$VALUE=(niiPH='y')"
        />
      <group loc="100 20" size="110 20"
        vq="rcvrs"
        show="aipXrecon('nrcvrs'):$nr $VALUE=($nr&gt;1)"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Convenience"
        >
        <check loc="0 0" size="100 20"
          style="PlainText"
          label="Individual"
          vq="niiIR"
          vc="niiIR='y'"
          vc2="niiIR='n'"
          set="$VALUE=(niiIR='y')"
          />
      </group>
      <check loc="10 20" size="100 20"
        style="PlainText"
        label="Magnitude"
        vq="niiMG"
        vc="niiMG='y'"
        vc2="niiMG='n'"
        set="$VALUE=(niiMG='y')"
        />
    </group>
  </group>
</template>
