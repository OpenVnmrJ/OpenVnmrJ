<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!--
 ! 
 ! Copyright (C) 2015  University of Oregon
 ! You may distribute under the terms of either the GNU General Public
 ! License or the Apache License, as specified in the LICENSE file.
 ! For more information, see the LICENSE file.
 !
 -->

<template name="acqPlan" element="pages" type="acquisition" >
  <group size="800 270"
    style="PlainText"
    label="Plan"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="acqPlan"
    useref="no"
    subtype="Basic"
    expanded="yes"
    >
    <group loc="320 20" size="350 160"
      style="Heading1"
      label="voxel Parameters"
      vq="iplanType"
      show="if iplanType=3 then $VALUE=1 else $VALUE=-1 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <button loc="140 10" size="160 20"
        style="Heading3"
        label="Save for shimming"
        vc="scoutpath=scoutpaths[1] writeparam(userdir+'/prescan/voxel.par','iplanDefaultType iplanType vtheta  vphi vpsi vox1 vox2 vox3 pos1 pos2 pos3 scoutpath')"
        decor1="No"
        />
      <label loc="260 130" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 110" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 90" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 70" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 50" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 30" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="0 10" size="140 20"
        style="Heading1"
        label="Voxel Parameters"
        justify="Left"
        />
      <entry loc="200 130" size="60 20"
        style="PlainText"
        vq="pos3"
        vc="gplan('setValue','pos3',$VALUE/10.0)"
        set="$VALUE=pos3*10.0"
        />
      <entry loc="200 110" size="60 20"
        style="PlainText"
        vq="pos2"
        vc="gplan('setValue','pos2',$VALUE/10.0)"
        set="$VALUE=pos2*10.0"
        />
      <entry loc="200 90" size="60 20"
        style="PlainText"
        vq="pos1"
        vc="gplan('setValue','pos1',$VALUE/10.0)"
        set="$VALUE=pos1*10.0"
        />
      <entry loc="200 70" size="60 20"
        style="PlainText"
        vq="vox3"
        vc="gplan('setValue','vox3',$VALUE)"
        set="$VALUE=vox3"
        />
      <entry loc="200 50" size="60 20"
        style="PlainText"
        vq="vox2"
        vc="gplan('setValue','vox2',$VALUE)"
        set="$VALUE=vox2"
        />
      <entry loc="200 30" size="60 20"
        style="PlainText"
        vq="vox1"
        vc="gplan('setValue','vox1',$VALUE)"
        set="$VALUE=vox1"
        />
      <label loc="160 130" size="30 20"
        style="Label1"
        label="pos3"
        justify="Left"
        />
      <label loc="160 110" size="30 20"
        style="Label1"
        label="pos2"
        justify="Left"
        />
      <label loc="160 90" size="30 20"
        style="Label1"
        label="pos1"
        justify="Left"
        />
      <label loc="160 50" size="30 20"
        style="Label1"
        label="vox2"
        justify="Left"
        />
      <label loc="160 70" size="30 20"
        style="Label1"
        label="vox3"
        justify="Left"
        />
      <label loc="160 30" size="30 20"
        style="Label1"
        label="vox1"
        justify="Left"
        />
      <entry loc="60 70" size="50 20"
        style="PlainText"
        vq="vphi"
        vc="gplan('setValue','vphi',$VALUE)"
        set="$VALUE=vphi"
        />
      <entry loc="60 50" size="50 20"
        style="PlainText"
        vq="vpsi"
        vc="gplan('setValue','vpsi',$VALUE)"
        set="$VALUE=vpsi"
        />
      <entry loc="60 30" size="50 20"
        style="PlainText"
        vq="vtheta"
        vc="gplan('setValue','vtheta',$VALUE)"
        set="$VALUE=vtheta"
        />
      <label loc="0 70" size="30 20"
        style="Label1"
        label="vphi"
        justify="Left"
        />
      <label loc="0 50" size="30 20"
        style="Label1"
        label="vpsi"
        justify="Left"
        />
      <label loc="0 30" size="40 20"
        style="Label1"
        label="vtheta"
        justify="Left"
        />
    </group>
    <group loc="320 20" size="320 180"
      style="Heading1"
      label="Stack Parameters"
      vq="iplanType"
      show="if iplanType=0 or iplanType=5 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <button loc="140 10" size="160 20"
        style="Heading3"
        label="Save for shimming"
        vc="gs_slice"
        decor1="No"
        />
      <check loc="290 70" size="20 20"
        style="PlainText"
        vq="iplanType"
        vc="gplan('setUseppe', 1)"
        vc2="gplan('setUseppe', 0)"
        set="gplan('getUseppe'):$VALUE"
        />
      <label loc="260 30" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 50" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 70" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 90" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 110" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <entry loc="200 30" size="60 20"
        style="PlainText"
        vq="lpe"
        vc="gplan('setValue', 'lpe', $VALUE/10.0)"
        set="$VALUE=lpe*10"
        digits="1"
        />
      <entry loc="200 50" size="60 20"
        style="PlainText"
        vq="lro"
        vc="gplan('setValue', 'lro', $VALUE/10.0)"
	set="$VALUE=lro*10"
        digits="1"
        />
      <entry loc="200 70" size="60 20"
        style="PlainText"
        vq="ppe"
        vc="gplan('setValue', 'ppe', $VALUE/10.0)"
	set="$VALUE=ppe*10"
        digits="1"
        />
      <entry loc="200 90" size="60 20"
        style="PlainText"
        vq="pro"
        vc="gplan('setValue', 'pro', $VALUE/10.0)"
	set="$VALUE=pro*10"
        digits="1"
        />
      <entry loc="200 110" size="60 20"
        style="PlainText"
        vq="pss0"
        vc="gplan('setValue', 'pss0', $VALUE/10.0)"
	set="$VALUE=pss0*10"
        digits="1"
        />
      <textmessage loc="160 30" size="40 20"
        style="Label1"
        label="lpe"
        vq="lpe"
        set="$VALUE='lpe'"
        />
      <textmessage loc="160 50" size="40 20"
        style="Label1"
        label="lro"
        vq="lro"
        set="$VALUE='lro'"
        />
      <textmessage loc="160 70" size="40 20"
        style="Label1"
        label="ppe"
        vq="ppe"
        set="$VALUE='ppe'"
        />
      <textmessage loc="160 90" size="40 20"
        style="Label1"
        label="pro"
        vq="pro"
        set="$VALUE='pro'"
        />
      <textmessage loc="160 110" size="40 20"
        style="Label1"
        label="pss0"
        vq="pss0"
        set="$VALUE='pss0'"
        />
      <check loc="160 130" size="70 20"
        style="PlainText"
        label="fix gap"
        vc="gplan('setGapMode', 1)"
        vc2="gplan('setGapMode', 0)"
        set="gplan('getGapMode'):$VALUE"
        />
      <label loc="110 130" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="110 90" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <entry loc="60 130" size="50 20"
        style="PlainText"
        vq="gap pss"
        vc="gplan('setValue', 'gap', $VALUE/10.0)"
        set="$VALUE=gap*10"
        digits="1"
        />
      <label loc="0 130" size="60 20"
        style="Label1"
        label="gap"
        justify="Left"
        />
      <entry loc="60 110" size="50 20"
        style="PlainText"
        vq="pss ns"
        vc="gplan('setValue', 'ns', $VALUE)"
        set="$VALUE = size('pss')"
        digits="0"
        />
      <label loc="0 110" size="60 20"
        style="Label1"
        label="slices"
        justify="Left"
        />
      <entry loc="60 90" size="50 20"
        style="PlainText"
        vq="thk"
        vc="gplan('setValue', 'thk', $VALUE)"
        set="$VALUE=thk"
        digits="1"
        />
      <label loc="0 90" size="60 20"
        style="Label1"
        label="thickness"
        justify="Left"
        />
      <entry loc="60 70" size="50 20"
        style="PlainText"
        vq="phi"
        vc="gplan('setValue', 'phi', $VALUE)"
        set="$VALUE=phi"
        />
      <label loc="0 70" size="50 20"
        style="Label1"
        label="phi"
        justify="Left"
        />
      <entry loc="60 50" size="50 20"
        style="PlainText"
        vq="psi"
        vc="gplan('setValue','psi', $VALUE)"
        set="$VALUE=psi"
        />
      <label loc="0 50" size="50 20"
        style="Label1"
        label="psi"
        justify="Left"
        />
      <entry loc="60 30" size="50 20"
        style="PlainText"
        vq="theta"
        vc="gplan('setValue', 'theta', $VALUE)"
        set="$VALUE=theta"
        />
      <label loc="0 30" size="50 20"
        style="Label1"
        label="theta"
        justify="Left"
        />
      <label loc="0 10" size="140 20"
        style="Heading1"
        label="Stack Parameters"
        justify="Left"
        />
    </group>
    <group loc="320 20" size="330 160"
      style="Heading1"
      label="Volume Parameters"
      vq="iplanType"
      show="if iplanType=2 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <label loc="260 90" size="40 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 70" size="40 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 50" size="40 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 30" size="40 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <entry loc="200 90" size="60 20"
        style="PlainText"
        vq="ppe"
        vc="gplan('setValue','ppe',$VALUE/10.0)"
        set="$VALUE=ppe*10.0"
        />
      <label loc="160 90" size="30 20"
        style="Label1"
        label="ppe"
        justify="Left"
        />
      <check loc="300 90" size="20 20"
        style="PlainText"
        vq="iplanType"
        vc="gplan('setUseppe', 1)"
        vc2="gplan('setUseppe', 0)"
        set="gplan('getUseppe'):$VALUE"
        />
      <label loc="260 110" size="40 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <entry loc="200 110" size="60 20"
        style="PlainText"
        vq="pro"
        vc="gplan('setValue','pro',$VALUE/10.0)"
        set="$VALUE=pro*10.0"
        />
      <label loc="160 110" size="30 20"
        style="Label1"
        label="pro"
        justify="Left"
        />
      <label loc="260 130" size="40 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <entry loc="200 130" size="60 20"
        style="PlainText"
        vq="ppe2"
        vc="gplan('setValue','ppe2',$VALUE/10.0)"
        set="$VALUE=ppe2*10.0"
        />
      <label loc="160 130" size="36 20"
        style="Label1"
        label="ppe2"
        justify="Left"
        />
      <label loc="160 70" size="30 20"
        style="Label1"
        label="lpe2"
        justify="Left"
        />
      <entry loc="200 70" size="60 20"
        style="PlainText"
        vq="lpe2"
        vc="gplan('setValue','lpe2',$VALUE/10.0)"
        set="$VALUE=lpe2*10.0"
        />
      <entry loc="200 50" size="60 20"
        style="PlainText"
        vq="lro"
        vc="gplan('setValue','lro',$VALUE/10.0)"
        set="$VALUE=lro*10.0"
        />
      <label loc="160 50" size="30 20"
        style="Label1"
        label="lro"
        justify="Left"
        />
      <label loc="160 30" size="30 20"
        style="Label1"
        label="lpe"
        justify="Left"
        />
      <entry loc="200 30" size="60 20"
        style="PlainText"
        vq="lpe"
        vc="gplan('setValue','lpe',$VALUE/10.0)"
        set="$VALUE=lpe*10.0"
        />
      <entry loc="60 70" size="50 20"
        style="PlainText"
        vq="phi"
        vc="gplan('setValue','phi',$VALUE)"
        set="$VALUE=phi"
        />
      <label loc="0 70" size="30 20"
        style="Label1"
        label="phi"
        justify="Left"
        />
      <entry loc="60 50" size="50 20"
        style="PlainText"
        vq="psi"
        vc="gplan('setValue','psi',$VALUE)"
        set="$VALUE=psi"
        />
      <label loc="0 50" size="30 20"
        style="Label1"
        label="psi"
        justify="Left"
        />
      <entry loc="60 30" size="50 20"
        style="PlainText"
        vq="theta"
        vc="gplan('setValue','theta',$VALUE)"
        set="$VALUE=theta"
        />
      <label loc="0 30" size="30 20"
        style="Label1"
        label="theta"
        justify="Left"
        />
      <label loc="0 10" size="140 20"
        style="Heading1"
        label="Volume Parameters"
        justify="Left"
        />
    </group>
    <button loc="100 120" size="140 20"
      style="PlainText"
      label="save milestone"
      vc="gplan('saveMilestoneStacks')"
      decor1="No"
      />
    <menu loc="100 40" size="160 20"
      style="PlainText"
      vq="iplanType"
      vc="gplan('setDefaultType', $VALUE)"
      set="$VALUE=iplanType"
      >
      <mlabel 
        label="Slices"
        chval="0"
        />
      <mlabel 
        label="Radial"
        chval="1"
        />
      <mlabel 
        label="Volume"
        chval="2"
        />
      <mlabel 
        label="Voxel"
        chval="3"
        />
      <mlabel 
        label="Saturation Band"
        chval="4"
        />
      <mlabel 
        label="2D CSI"
        chval="5"
        />
    </menu>
    <label loc="10 40" size="90 20"
      style="Label1"
      label="Localization:"
      justify="Left"
      />
    <group loc="0 60" size="260 20"
      vq="studyid"
      show="$VALUE=1"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <filemenu loc="100 0" size="160 20"
        style="PlainText"
        vq="orient planValue"
        vc="planValue='$VALUE' setgplan('$VALUE')"
        set="$VALUE=planValue"
        file="exists(sqdir+'/plans','file'):$e if $e &lt; 0.5 then $VALUE=systemdir+'/imaging/templates/vnmrj/choicefiles/plans' else $VALUE=sqdir+'/plans' endif"
        type="file"
        vq2="sqdir studyid"
        />
      <label loc="10 0" size="90 20"
        style="Label1"
        label="Prescription:"
        justify="Left"
        />
    </group>
    <group loc="320 20" size="320 160"
      style="Heading1"
      label="Radial Parameters"
      vq="iplanType"
      show="if iplanType=1 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <check loc="290 70" size="20 20"
        style="PlainText"
        vq="iplanType"
        vc="gplan('setUseppe', 1)"
        vc2="gplan('setUseppe', 0)"
        set="gplan('getUseppe'):$VALUE"
        />
      <label loc="260 110" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 90" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 70" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 50" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 30" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="110 90" size="30 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <check loc="160 130" size="90 20"
        style="PlainText"
        label="fix angle"
        vc="gplan('setGapMode', 1)"
        vc2="gplan('setGapMode', 0)"
        set="gplan('getGapMode'):$VALUE"
        />
      <entry loc="60 110" size="50 20"
        style="PlainText"
        vq="ns pss"
        vc="gplan('setValue','ns',$VALUE)"
        set="$VALUE=size('pss')"
        />
      <entry loc="60 130" size="50 20"
        style="PlainText"
        vq="gap pss"
        vc="gplan('setValue','gap',$VALUE)"
        set="$VALUE=gap"
        />
      <label loc="0 130" size="60 20"
        style="Label1"
        label="fan angle"
        justify="Left"
        />
      <entry loc="200 110" size="60 20"
        style="PlainText"
        vq="pss0"
        vc="gplan('setValue','pss0',$VALUE/10.0)"
        set="$VALUE=pss0*10.0"
        />
      <label loc="160 90" size="30 20"
        style="Label1"
        label="pro"
        justify="Left"
        />
      <label loc="160 110" size="30 20"
        style="Label1"
        label="pss0"
        justify="Left"
        />
      <entry loc="200 90" size="60 20"
        style="PlainText"
        vq="pro"
        vc="gplan('setValue','pro',$VALUE/10.0)"
        set="$VALUE=pro*10.0"
        />
      <entry loc="200 70" size="60 20"
        style="PlainText"
        vq="ppe"
        vc="gplan('setValue','ppe',$VALUE/10.0)"
        set="$VALUE=ppe*10.0"
        />
      <label loc="160 70" size="30 20"
        style="Label1"
        label="ppe"
        justify="Left"
        />
      <entry loc="200 50" size="60 20"
        style="PlainText"
        vq="lro"
        vc="gplan('setValue','lro',$VALUE/10.0)"
        set="$VALUE=lro*10.0"
        />
      <label loc="160 50" size="30 20"
        style="Label1"
        label="lro"
        justify="Left"
        />
      <entry loc="200 30" size="60 20"
        style="PlainText"
        vq="lpe"
        vc="gplan('setValue','lpe',$VALUE/10.0)"
        set="$VALUE=lpe*10.0"
        />
      <label loc="160 30" size="30 20"
        style="Label1"
        label="lpe"
        justify="Left"
        />
      <label loc="0 110" size="60 20"
        style="Label1"
        label="slices"
        justify="Left"
        />
      <entry loc="60 90" size="50 20"
        style="PlainText"
        vq="thk"
        vc="gplan('setValue','thk',$VALUE)"
        set="$VALUE=thk"
        />
      <entry loc="60 70" size="50 20"
        style="PlainText"
        vq="phi"
        vc="gplan('setValue','phi',$VALUE)"
        set="$VALUE=phi"
        />
      <entry loc="60 50" size="50 20"
        style="PlainText"
        vq="psi"
        vc="gplan('setValue','psi',$VALUE)"
        set="$VALUE=psi"
        />
      <entry loc="60 30" size="50 20"
        style="PlainText"
        vq="theta"
        vc="gplan('setValue','theta',$VALUE)"
        set="$VALUE=theta"
        />
      <label loc="0 90" size="60 20"
        style="Label1"
        label="thickness"
        justify="Left"
        />
      <label loc="0 70" size="60 20"
        style="Label1"
        label="phi"
        justify="Left"
        />
      <label loc="0 50" size="60 20"
        style="Label1"
        label="psi"
        justify="Left"
        />
      <label loc="0 30" size="60 20"
        style="Label1"
        label="theta"
        justify="Left"
        />
      <label loc="0 10" size="140 20"
        style="Heading1"
        label="Radial Parameters"
        justify="Left"
        />
    </group>
    <button loc="100 80" size="140 20"
      style="PlainText"
      label="marking"
      vc="gplan('setMarkMode', 1)"
      decor1="No"
      />
    <group loc="120 200" size="500 40"
      vq="iplanType"
      show="if iplanType&lt;2 or iplanType=5 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <menu loc="350 0" size="140 20"
        style="PlainText"
        vq="pss iplanType"
        vc="gplan('alternateSlices', $VALUE)"
        set="gplan('getActStackInfo', 'alternateOrder'):$VALUE"
        >
        <mlabel 
          label="linear"
          chval="0"
          />
        <mlabel 
          label="interleaved"
          chval="1"
          />
        <mlabel 
          label="reverse linear"
          chval="2"
          />
        <mlabel 
          label="reverse interleaved"
          chval="3"
          />
      </menu>
      <check loc="220 0" size="130 20"
        style="PlainText"
        label="show order"
        vq="iplanType"
        vc="gplan('setDrawOrders', 1)"
        vc2="gplan('setDrawOrders', 0)"
        set="gplan('getActStackInfo', 'drawOrder'):$VALUE"
        />
      <check loc="120 0" size="100 20"
        style="PlainText"
        label="center lines"
        vq="iplanType"
        vc="gplan('setDisplayStyle', 1)"
        vc2="gplan('setDisplayStyle', 0)"
        set="gplan('getActStackInfo', 'style'):$VALUE"
        />
      <check loc="0 0" size="120 20"
        style="PlainText"
        label="fill intersections"
        vq="iplanType"
        vc="gplan('setFillPolygon', 1)"
        vc2="gplan('setFillPolygon', 0)"
        set="gplan('getActStackInfo', 'fill'):$VALUE"
        />
      <check loc="220 20" size="80 20"
        style="PlainText"
        label="3D axes"
        vq="iplanType"
        vc="gplan('setDrawAxes', 1)"
        vc2="gplan('setDrawAxes', 0)"
        set="gplan('getActStackInfo', 'drawAxes'):$VALUE"
        />
      <check loc="120 20" size="100 20"
        style="PlainText"
        label="3D view"
        vq="iplanType"
        vc="gplan('setDraw3D', 1)"
        vc2="gplan('setDraw3D', 0)"
        set="gplan('getActStackInfo', 'draw3D'):$VALUE"
        />
      <check loc="0 20" size="120 20"
        style="PlainText"
        label="intersection"
        vq="iplanType"
        vc="gplan('setDrawInterSection', 1)"
        vc2="gplan('setDrawInterSection', 0)"
        set="gplan('getActStackInfo', 'drawInterSection'):$VALUE"
        />
    </group>
    <group loc="120 200" size="310 40"
      vq="iplanType"
      show="if iplanType&gt;1 and iplanType&lt;4 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <check loc="120 0" size="90 20"
        style="PlainText"
        label="show order"
        vq="iplanType"
        vc="gplan('setDrawOrders', 1)"
        vc2="gplan('setDrawOrders', 0)"
        set="gplan('getActStackInfo', 'drawOrder'):$VALUE"
        />
      <check loc="0 0" size="120 20"
        style="PlainText"
        label="fill intersections"
        vq="iplanType"
        vc="gplan('setFillPolygon', 1)"
        vc2="gplan('setFillPolygon', 0)"
        set="gplan('getActStackInfo', 'fill'):$VALUE"
        />
      <check loc="220 20" size="80 20"
        style="PlainText"
        label="3D axes"
        vq="iplanType"
        vc="gplan('setDrawAxes', 1)"
        vc2="gplan('setDrawAxes', 0)"
        set="gplan('getActStackInfo', 'drawAxes'):$VALUE"
        />
      <check loc="120 20" size="100 20"
        style="PlainText"
        label="3D view"
        vq="iplanType"
        vc="gplan('setDraw3D', 1)"
        vc2="gplan('setDraw3D', 0)"
        set="gplan('getActStackInfo', 'draw3D'):$VALUE"
        />
      <check loc="0 20" size="120 20"
        style="PlainText"
        label="intersection"
        vq="iplanType"
        vc="gplan('setDrawInterSection', 1)"
        vc2="gplan('setDrawInterSection', 0)"
        set="gplan('getActStackInfo', 'drawInterSection'):$VALUE"
        />
    </group>
    <group loc="120 200" size="120 20"
      vq="iplanType"
      show="if iplanType=4 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <check loc="0 0" size="120 20"
        style="PlainText"
        label="fill intersections"
        vq="iplanType"
        vc="gplan('setFillPolygon', 1)"
        vc2="gplan('setFillPolygon', 0)"
        set="gplan('getActStackInfo', 'fill'):$VALUE"
        />
    </group>
    <label loc="0 200" size="100 20"
      style="Heading1"
      label="Displays:"
      justify="Left"
      />
    <group loc="320 20" size="320 160"
      style="Heading1"
      label="Saturation Band Parameters"
      vq="iplanType"
      show="if iplanType=4 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <label loc="260 30" size="40 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <label loc="260 50" size="40 20"
        style="Label1"
        label="mm"
        justify="Center"
        />
      <entry loc="200 50" size="60 20"
        style="PlainText"
        vq="satthk planSs"
        vc="gplan('setValue','satthk',$VALUE)"
        set="gplan('getValue', 'satthk'):$VALUE"
        />
      <label loc="160 50" size="40 20"
        style="Label1"
        label="satthk"
        justify="Left"
        />
      <entry loc="200 30" size="60 20"
        style="PlainText"
        vq="satpos planSs"
        vc="gplan('setValue','satpos',$VALUE/10.0)"
        set="gplan('getValue', 'satpos'):$v $VALUE=$v*10.0"
        />
      <label loc="160 30" size="40 20"
        style="Label1"
        label="satpos"
        justify="Left"
        />
      <entry loc="60 70" size="50 20"
        style="PlainText"
        vq="sphi planSs"
        vc="gplan('setValue','sphi',$VALUE)"
        set="gplan('getValue', 'sphi'):$VALUE"
        />
      <entry loc="60 50" size="50 20"
        style="PlainText"
        vq="spsi planSs"
        vc="gplan('setValue','spsi',$VALUE)"
        set="gplan('getValue', 'spsi'):$VALUE"
        />
      <entry loc="60 30" size="50 20"
        style="PlainText"
        vq="stheta planSs"
        vc="gplan('setValue','stheta',$VALUE)"
        set="gplan('getValue', 'stheta'):$VALUE"
        />
      <label loc="0 70" size="40 20"
        style="Label1"
        label="sphi"
        justify="Left"
        />
      <label loc="0 50" size="40 20"
        style="Label1"
        label="spsi"
        justify="Left"
        />
      <label loc="0 30" size="40 20"
        style="Label1"
        label="stheta"
        justify="Left"
        />
      <label loc="0 10" size="210 20"
        style="Heading1"
        label="Saturation Band Parameters"
        justify="Left"
        />
    </group>
    <group loc="100 100" size="160 20"
      vq="iplanType"
      show="if iplanType=3 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <button loc="0 0" size="140 20"
        style="PlainText"
        label="add voxel"
        vc="gplan('addAstack',3)"
        decor1="No"
        />
    </group>
    <group loc="100 100" size="160 20"
      vq="iplanType"
      show="if iplanType=4 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <button loc="0 0" size="140 20"
        style="PlainText"
        label="add saturation band"
        vc="gplan('addAstack',4)"
        decor1="No"
        />
    </group>
    <group loc="100 100" size="160 20"
      vq="iplanType"
      show="if iplanType=5 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <button loc="0 0" size="140 20"
        style="PlainText"
        label="add CSI stack"
        vc="gplan('addAstack',5)"
        decor1="No"
        />
    </group>
    <group loc="100 100" size="160 20"
      vq="iplanType"
      show="if iplanType=2 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <button loc="0 0" size="140 20"
        style="PlainText"
        label="add volume"
        vc="gplan('addAstack',2)"
        decor1="No"
        />
    </group>
    <group loc="100 100" size="160 20"
      vq="iplanType"
      show="if iplanType=1 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <button loc="0 0" size="140 20"
        style="PlainText"
        label="add radial stack"
        vc="gplan('addAstack', 1)"
        decor1="No"
        />
    </group>
    <group loc="100 100" size="160 20"
      vq="iplanType"
      show="if iplanType=0 then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <button loc="0 0" size="140 20"
        style="PlainText"
        label="add slices"
        vc="gplan('addAstack', 0)"
        decor1="No"
        />
    </group>
    <button loc="240 170" size="50 20"
      style="PlainText"
      label="restart"
      vc="gplan('startIplan', -1)"
      decor1="No"
      />
    <button loc="180 170" size="60 20"
      style="PlainText"
      label="refresh"
      vc="gplan('refresh')"
      decor1="No"
      />
    <button loc="90 170" size="90 20"
      style="PlainText"
      label="restore stack"
      vc="gplan('restoreStack')"
      decor1="No"
      />
    <button loc="40 170" size="50 20"
      style="PlainText"
      label="delete"
      vc="gplan('deleteSelected')"
      decor1="No"
      />
    <button loc="0 170" size="40 20"
      style="PlainText"
      label="clear"
      vc="gplan('clearStacks') gplan('endIplan') "
      decor1="No"
      />
    <group loc="5 80" size="90 20"
      vq="scoutpath planValue"
      show="exists(scoutpath,'directory'):$e $s='' substr(aipCurrentKey,1):$s if $e &gt; 0.5 and $s &lt;&gt; '' and $s &lt;&gt; scoutpath then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Convenience"
      >
      <button loc="0 0" size="75 20"
        style="PlainText"
        label="toggle scout"
        vc="substr(aipCurrentKey,1):$s aipShow(scoutpath) scoutpath=$s"
        decor1="No"
        />
    </group>
    <textmessage loc="0 20" size="150 20"
      style="Heading2"
      label=" "
      vq="name"
      set="$VALUE=name"
      />
    <textmessage loc="0 0" size="150 20"
      style="Heading1"
      label="gems"
      vq="pslabel"
      set="$VALUE=pslabel"
      />
  </group>
</template>
