<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="freqpanel" element="pages" type="acquisition" >
  <group size="800 270"
    label="Scan"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="freqpanel"
    useref="no"
    subtype="Basic"
    expanded="yes"
    >
    <label loc="220 0" size="250 25"
      style="Heading1"
      label="P R E S C A N  -  F R E Q U E N C Y"
      justify="Left"
      />
    <textmessage loc="85 0" size="115 20"
      style="Heading3"
      label="prescanfreq"
      vq="seqfil"
      set="$VALUE=seqfil"
      show="on('seqfil'):$VALUE"
      />
    <label loc="0 0" size="80 20"
      style="Heading3"
      label="Sequence:"
      justify="Left"
      />
    <group loc="590 30" size="150 130"
      style="Heading1"
      label="Action"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <button loc="10 95" size="125 20"
        style="Heading3"
        label="Return to Study"
        vc="prescan_params('load')"
        decor1="No"
        />
      <button loc="10 70" size="125 20"
        style="Heading3"
        label="Update Params"
        vc="pwd:$pwd cd(userdir+'/parlib/') svp('prescanfreq','force') cd($pwd)"
        decor1="No"
        />
      <button loc="10 45" size="125 20"
        style="Heading3"
        label="Process"
        vc="prescan_frequency('proc','man')"
        decor1="No"
        />
      <button loc="10 20" size="125 20"
        style="Heading2"
        label="Acquire"
        vc="wexp='prescan_frequency(`proc`,`man`)' au"
        decor1="No"
        />
    </group>
    <group loc="395 30" size="190 130"
      style="Heading1"
      label="Hardware Control"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <label loc="9 100" size="60 20"
        style="PlainText"
        label="Offset"
        justify="Left"
        />
      <label loc="9 80" size="60 20"
        style="PlainText"
        label="Sfrq"
        justify="Left"
        />
      <label loc="9 60" size="60 20"
        style="PlainText"
        label="Gain"
        justify="Left"
        />
      <label loc="9 40" size="60 20"
        style="PlainText"
        label="Power"
        justify="Left"
        />
      <label loc="9 20" size="60 20"
        style="PlainText"
        label="RF Coil"
        justify="Left"
        />
      <label loc="129 100" size="35 20"
        style="PlainText"
        label="Hz"
        justify="Left"
        />
      <label loc="129 80" size="35 20"
        style="PlainText"
        label="MHz"
        justify="Left"
        />
      <textmessage loc="69 20" size="60 20"
        style="PlainText"
        label="new"
        vq="rfcoil"
        set="$VALUE=rfcoil"
        />
      <entry loc="69 40" size="60 20"
        style="PlainText"
        vq="tpwr1"
        vc="tpwr1=$VALUE"
        set="$VALUE=tpwr1"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="69 60" size="60 20"
        style="PlainText"
        vq="gain"
        vc="gain=$VALUE"
        set="$VALUE=gain"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="69 100" size="60 20"
        style="PlainText"
        vq="resto"
        vc="resto=$VALUE"
        set="$VALUE=resto"
        digits="1"
        disable="Grayed out"
        />
      <textmessage loc="69 80" size="60 20"
        style="PlainText"
        label="200.5309"
        vq="sfrq"
        set="$VALUE=sfrq"
        digits="4"
        />
    </group>
    <group loc="200 30" size="190 130"
      style="Heading1"
      label="Scan Options"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <entry loc="97 85" size="60 20"
        style="PlainText"
        vq="pss0 slice_select"
        vc="pss0=$VALUE/10  go('check')"
        set="$VALUE=pss0*10.0"
        show="if (slice_select = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        digits="1"
        disable="Grayed out"
        />
      <label loc="7 85" size="60 20"
        style="PlainText"
        label="Offset"
        justify="Left"
        />
      <label loc="157 85" size="30 20"
        style="PlainText"
        label="mm"
        justify="Left"
        />
      <label loc="157 60" size="30 20"
        style="PlainText"
        label="mm"
        justify="Left"
        />
      <label loc="6 20" size="90 20"
        style="PlainText"
        label="Orientation"
        justify="Left"
        />
      <entry loc="96 60" size="60 20"
        style="PlainText"
        vq="thk slice_select"
        vc="thk=$VALUE setgss('gss','thk') go('check')"
        set="$VALUE=thk"
        show="if (slice_select = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        digits="1"
        disable="Grayed out"
        />
      <menu loc="96 20" size="70 20"
        style="PlainText"
        label="menu"
        vq="orient"
        vc="orient='$VALUE'"
        set="$VALUE=orient"
        >
        <mlabel 
          label="Axial"
          chval="trans"
          />
        <mlabel 
          label="Coronal"
          chval="cor"
          />
        <mlabel 
          label="Sagittal"
          chval="sag"
          />
      </menu>
      <check loc="6 40" size="90 20"
        style="PlainText"
        label="Slice Select"
        vq="slice_select"
        vc="slice_select='y' p1pat='sinc' go('check')"
        vc2="slice_select='n' p1pat='hard' go('check')"
        set="$VALUE=(slice_select='y')"
        />
      <label loc="6 60" size="90 20"
        style="PlainText"
        label="Thickness"
        justify="Left"
        />
    </group>
    <group loc="5 30" size="190 130"
      style="Heading1"
      label="Basic Parameters"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Basic"
      >
      <label loc="5 80" size="70 20"
        style="PlainText"
        label="Acq Time"
        justify="Left"
        />
      <entry loc="85 100" size="60 20"
        style="PlainText"
        vq="np"
        vc="np=$VALUE"
        set="$VALUE=np"
        digits="0"
        disable="Grayed out"
        />
      <label loc="5 100" size="70 20"
        style="PlainText"
        label="Acq Points"
        justify="Left"
        />
      <entry loc="85 80" size="60 20"
        style="PlainText"
        vq="at"
        vc="at=$VALUE/1000.0"
        set="$VALUE=at*1000.0"
        digits="1"
        disable="Grayed out"
        />
      <label loc="145 80" size="30 20"
        style="PlainText"
        label="ms"
        justify="Left"
        />
      <label loc="145 60" size="30 20"
        style="PlainText"
        label="Hz"
        justify="Left"
        />
      <entry loc="85 60" size="60 20"
        style="PlainText"
        vq="sw"
        vc="sw=$VALUE"
        set="$VALUE=sw"
        digits="0"
        disable="Grayed out"
        />
      <label loc="5 60" size="60 20"
        style="PlainText"
        label="SW"
        justify="Left"
        />
      <entry loc="85 40" size="60 20"
        style="PlainText"
        vq="p1"
        vc="p1=$VALUE"
        set="$VALUE=p1"
        digits="2"
        disable="Grayed out"
        />
      <label loc="5 40" size="80 20"
        style="PlainText"
        label="Pulse Width"
        justify="Left"
        />
      <entry loc="85 20" size="60 20"
        style="PlainText"
        vq="tr"
        vc="tr=$VALUE/1000.0"
        set="$VALUE=tr*1000.0"
        digits="2"
        disable="Grayed out"
        />
      <label loc="145 40" size="30 20"
        style="PlainText"
        label="us"
        justify="Left"
        />
      <label loc="5 20" size="60 20"
        style="PlainText"
        label="TR"
        justify="Left"
        />
      <label loc="145 20" size="30 20"
        style="PlainText"
        label="ms"
        justify="Left"
        />
    </group>
  </group>
</template>
