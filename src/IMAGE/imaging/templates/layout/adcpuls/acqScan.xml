<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="acqScan" element="pages" type="acquisition" >
  <group size="800 270"
    label="Scan"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="acqScan"
    useref="no"
    subtype="Basic"
    expanded="yes"
    >
    <check loc="780 105" size="20 20"
      style="PlainText"
      vq="fidfit"
      vc="fidfit='y'"
      vc2="fidfit='n'"
      set="$VALUE=(fidfit='y')"
      show="on('ticks'):$VALUE"
      />
    <button loc="655 105" size="120 20"
      style="PlainText"
      label="ADC from fids"
      vq="fidfit"
      vc="fidfit='y' imadc('proc')"
      bg="transparent"
      decor1="no"
      />
    <check loc="780 85" size="20 20"
      style="PlainText"
      vq="fidfit"
      vc="fidfit='n'"
      vc2="fidfit='y'"
      set="$VALUE=(fidfit&lt;&gt;'y')"
      show="on('ticks'):$VALUE"
      />
    <button loc="655 85" size="120 20"
      style="PlainText"
      label="ADC from spectra"
      vq="fidfit"
      vc="fidfit='n' imadc('proc')"
      bg="transparent"
      decor1="no"
      />
    <button loc="655 65" size="120 20"
      style="PlainText"
      label="Display spectra"
      vc="f full wft select(1) vsadj(40) dssh"
      bg="transparent"
      decor1="no"
      />
    <button loc="655 45" size="120 20"
      style="Label4"
      label="Acquire ADC data"
      vc="imadc('prep') wnt='' wexp='imadc(`proc`)'  werr='' au"
      bg="darkGreen"
      decor1="no"
      />
    <button loc="655 25" size="120 20"
      style="Label4"
      label="Test Spectrum"
      vc="diff='y' gdiff=gdarray[1] bvalue im1D('prep') wexp='im1D(`proc`)' wdone='' au"
      bg="darkGreen"
      decor1="no"
      />
    <group loc="435 115" size="210 105"
      style="Heading1"
      label="RF Pulses"
      bg="transparent"
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="1Dpulses"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <label loc="180 80" size="20 20"
        style="Label1"
        label="dB"
        justify="Left"
        />
      <textmessage loc="125 80" size="55 20"
        style="PlainText"
        label="49.91"
        vq="tpwr2 tpwr2f"
        set="calc_power(tpwr2,tpwr2f):$VALUE"
        digits="2"
        />
      <textmessage loc="65 80" size="60 20"
        style="PlainText"
        label="51.00"
        vq="tpwr1 tpwr1f"
        set="calc_power(tpwr1,tpwr1f):$VALUE"
        digits="2"
        />
      <entry loc="65 60" size="60 20"
        style="PlainText"
        vq="p1pat"
        vc="p1pat='$VALUE' ldrf imprep"
        set="$VALUE=p1pat"
        disable="Grayed out"
        />
      <entry loc="125 60" size="55 20"
        style="PlainText"
        vq="p2pat"
        vc="p2pat='$VALUE' ldrf imprep"
        set="$VALUE=p2pat"
        disable="Grayed out"
        />
      <label loc="5 80" size="50 20"
        style="Label1"
        label="Power"
        justify="Left"
        />
      <label loc="5 60" size="50 20"
        style="Label1"
        label="Shape"
        justify="Left"
        />
      <label loc="180 40" size="20 20"
        style="Label1"
        label="us"
        justify="Left"
        />
      <entry loc="125 40" size="55 20"
        style="PlainText"
        vq="p2"
        vc="p2=$VALUE ldrf imprep"
        set="$VALUE=p2"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="65 40" size="60 20"
        style="PlainText"
        vq="p1"
        vc="p1=$VALUE ldrf imprep"
        set="$VALUE=p1"
        digits="1"
        disable="Grayed out"
        />
      <label loc="5 40" size="50 20"
        style="Label1"
        label="Width"
        justify="Left"
        />
      <label loc="65 20" size="55 20"
        style="Label1"
        label="90deg"
        justify="Center"
        />
      <label loc="125 20" size="55 20"
        style="Label1"
        label="180deg"
        justify="Center"
        />
    </group>
    <group loc="435 0" size="210 115"
      style="Heading1"
      label="Setup"
      bg="transparent"
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="ScanOptions"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <group loc="5 20" size="200 90"
        style="Heading1"
        bg="transparent"
        border="None"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        reference="MRSfreq"
        useref="no"
        subtype="Convenience"
        expanded="yes"
        >
        <group loc="5 65" size="195 20"
          bg="transparent"
          border="None"
          tab="no"
          enable="no"
          useref="no"
          subtype="Convenience"
          >
          <entry loc="85 0" size="60 20"
            style="PlainText"
            vq="refval"
            vc="refval=$VALUE"
            set="$VALUE=refval"
            digits="2"
            disable="Grayed out"
            />
          <button loc="0 0" size="85 20"
            style="PlainText"
            label="Set Ref"
            vc="nl offset:r1 r1=r1-tof rl(refval*sfrq) axis='p'"
            bg="transparent"
            decor1="yes"
            />
          <label loc="145 0" size="40 20"
            style="PlainText"
            label="ppm"
            justify="Left"
            />
        </group>
        <group loc="5 45" size="195 20"
          bg="transparent"
          border="None"
          tab="no"
          enable="no"
          useref="no"
          subtype="Convenience"
          >
          <label loc="145 0" size="30 20"
            style="PlainText"
            label="Hz"
            justify="Left"
            />
          <entry loc="85 0" size="60 20"
            style="PlainText"
            vq="roff roffadjust"
            vc="roffadjust=$VALUE-roff rfladjust=$VALUE-roff"
            set="$VALUE = roff+roffadjust"
            digits="2"
            />
          <button loc="0 0" size="85 20"
            style="PlainText"
            label="Receiver"
            vc="setfrq1d('rec')"
            bg="transparent"
            decor1="no"
            toolTip="Rcvr choice via cursor"
            />
        </group>
        <group loc="5 25" size="195 20"
          bg="transparent"
          border="None"
          tab="no"
          enable="no"
          useref="no"
          subtype="Convenience"
          >
          <label loc="145 0" size="30 20"
            style="PlainText"
            label="Hz"
            justify="Left"
            />
          <entry loc="85 0" size="60 20"
            style="PlainText"
            vq="restol"
            vc="restol = $VALUE"
            set="$VALUE = restol"
            digits="2"
            />
          <button loc="0 0" size="85 20"
            style="PlainText"
            label="Local Offset"
            vc="setfrq1d('local')"
            bg="transparent"
            decor1="no"
            toolTip="CenterFreq=H1offset-Local Offset"
            />
        </group>
        <button loc="5 5" size="145 20"
          style="Children"
          label="SET ALL FREQ (Hz)"
          vc="profile='n' setfrq1d('all')"
          bg="transparent"
          decor1="no"
          toolTip="Base Freq:resto-restol"
          />
      </group>
    </group>
    <group loc="5 0" size="210 220"
      style="Heading1"
      label="Scan Parameters"
      bg="transparent"
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="trstuff"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <label loc="5 40" size="50 20"
        style="Label1"
        label="TE"
        justify="Left"
        />
      <label loc="5 20" size="50 20"
        style="Label1"
        label="TR"
        justify="Left"
        />
      <entry loc="105 40" size="60 20"
        style="PlainText"
        vq="te minte"
        vc="te=$VALUE/1000 go('check')"
        set="$VALUE=te*1000.0"
        show="$VALUE = (minte='n')"
        digits="2"
        disable="Grayed out"
        />
      <check loc="55 40" size="50 20"
        style="PlainText"
        label="Min"
        vq="minte te"
        vc="minte='y' go('check') go('check')"
        vc2="minte='n' "
        set="$VALUE=(minte='y')"
        />
      <check loc="5 170" size="95 20"
        style="PlainText"
        label="Diffusion"
        vq="diff"
        vc="diff='y'  go('check')"
        vc2="diff='n'  go('check')"
        set="$VALUE=(diff='y')"
        />
      <label loc="165 40" size="35 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <entry loc="105 100" size="60 20"
        style="PlainText"
        vq="nt"
        vc="nt=$VALUE"
        set="$VALUE=nt"
        digits="0"
        disable="Grayed out"
        />
      <label loc="5 100" size="100 20"
        style="Label1"
        label="Averages"
        justify="Left"
        />
      <entry loc="105 80" size="60 20"
        style="PlainText"
        vq="np"
        vc="np=$VALUE*2"
        set="$VALUE=np/2"
        digits="0"
        disable="Grayed out"
        />
      <label loc="5 80" size="100 20"
        style="Label1"
        label="Complex points"
        justify="Left"
        />
      <label loc="5 120" size="100 20"
        style="Label1"
        label="Dummy scans"
        justify="Left"
        />
      <entry loc="105 120" size="60 20"
        style="PlainText"
        vq="ss"
        vc="ss=$VALUE"
        set="$VALUE=ss"
        digits="0"
        disable="Grayed out"
        />
      <check loc="5 190" size="160 20"
        style="PlainText"
        label="External Trigger"
        vq="ticks"
        vc="ticks=1"
        vc2="ticks=0"
        set="$VALUE=(ticks&lt;&gt;0)"
        show="on('ticks'):$VALUE"
        />
      <label loc="165 20" size="35 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <entry loc="105 20" size="60 20"
        style="PlainText"
        vq="tr"
        vc="tr=$VALUE/1000.0"
        set="$VALUE=tr*1000.0"
        show="on('tr'):$VALUE"
        digits="1"
        disable="Grayed out"
        />
    </group>
    <group loc="220 0" size="210 220"
      style="Heading1"
      label="Acquisition"
      bg="transparent"
      border="etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="Acquisition_group"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <label loc="165 40" size="35 20"
        style="Label1"
        label="MHz"
        justify="Left"
        />
      <label loc="165 60" size="35 20"
        style="Label1"
        label="Hz"
        justify="Left"
        />
      <label loc="165 80" size="35 20"
        style="Label1"
        label="Hz"
        justify="Left"
        />
      <label loc="165 120" size="35 20"
        style="Label1"
        label="dB"
        justify="Left"
        />
      <label loc="165 100" size="35 20"
        style="Label1"
        label="ms"
        justify="Left"
        />
      <menu loc="105 20" size="75 20"
        style="PlainText"
        vq="tn"
        vc="tn='$VALUE'"
        set="$VALUE=tn"
        editable="No"
        >
        <mlabel 
          label="Proton"
          chval="H1"
          />
        <mlabel 
          label="F19"
          chval="F19"
          />
        <mlabel 
          label="P31"
          chval="P31"
          />
        <mlabel 
          label="C13"
          chval="C13"
          />
        <mlabel 
          label="Na23"
          chval="Na23"
          />
        <mlabel 
          label="Xe129"
          chval="Xe129"
          />
      </menu>
      <textmessage loc="105 40" size="60 20"
        style="PlainText"
        label="299.492"
        vq="sfrq"
        set="$VALUE=sfrq"
        digits="3"
        />
      <entry loc="105 60" size="60 20"
        style="PlainText"
        vq="tof"
        vc="tof=$VALUE"
        set="$VALUE=tof"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="105 80" size="60 20"
        style="PlainText"
        vq="sw"
        vc="sw=$VALUE"
        set="$VALUE=sw"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="105 100" size="60 20"
        style="PlainText"
        vq="at"
        vc="at=$VALUE/1000.0"
        set="$VALUE=at*1000.0"
        digits="2"
        disable="Grayed out"
        />
      <entry loc="105 120" size="60 20"
        style="PlainText"
        vq="gain"
        vc="gain=$VALUE"
        set="$VALUE=gain"
        digits="0"
        disable="Grayed out"
        />
      <menu loc="105 140" size="70 20"
        style="PlainText"
        vq="presig"
        vc="presig='$VALUE'"
        set="$VALUE=presig"
        show="on('presig'):$VALUE"
        editable="No"
        >
        <mlabel 
          label="high"
          chval="h"
          />
        <mlabel 
          label="low"
          chval="l"
          />
      </menu>
      <label loc="5 120" size="100 20"
        style="Label1"
        label="Receiver Gain"
        justify="Left"
        />
      <label loc="5 20" size="100 20"
        style="Label1"
        label="Nucleus"
        justify="Left"
        />
      <label loc="5 40" size="100 20"
        style="Label1"
        label="Obs Frequency"
        justify="Left"
        />
      <label loc="5 60" size="100 20"
        style="Label1"
        label="Obs Offset"
        justify="Left"
        />
      <label loc="5 80" size="100 20"
        style="Label1"
        label="Spectral Width"
        justify="Left"
        />
      <label loc="5 100" size="100 20"
        style="Label1"
        label="Acquisition Time"
        justify="Left"
        />
      <label loc="5 140" size="95 20"
        style="Label1"
        label="presig"
        justify="Left"
        />
    </group>
    <group loc="5 225" size="555 45"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      reference="Protocol"
      useref="no"
      subtype="Convenience"
      expanded="yes"
      >
      <textmessage loc="300 20" size="130 20"
        style="PlainText"
        label="205_120_HD"
        vq="gcoil"
        set="$VALUE = gcoil"
        />
      <textmessage loc="300 0" size="130 20"
        style="PlainText"
        label="main"
        vq="rfcoil"
        set="$VALUE = rfcoil"
        />
      <label loc="220 20" size="80 20"
        style="Heading1"
        label="Gradient"
        justify="Left"
        />
      <label loc="220 0" size="80 20"
        style="Heading1"
        label="RF Coil"
        justify="Left"
        />
      <textmessage loc="80 20" size="130 20"
        style="PlainText"
        label="stepuls"
        vq="pslabel"
        set="$VALUE = pslabel"
        />
      <entry loc="80 0" size="130 20"
        style="PlainText"
        vq="comment"
        vc="comment='$VALUE' xm1('addcomment')"
        set="$VALUE=comment"
        digits="0"
        disable="Grayed out"
        />
      <label loc="0 20" size="80 20"
        style="Heading1"
        label="Protocol"
        justify="Left"
        />
      <label loc="0 0" size="80 20"
        style="Heading1"
        label="Comment"
        justify="Left"
        />
    </group>
  </group>
</template>
