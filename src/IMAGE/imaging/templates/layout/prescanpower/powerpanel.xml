<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="powerpanel" element="pages" type="acquisition" >
  <group size="800 270"
    style="PlainText"
    label="Scan"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="powerpanel"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <label loc="220 0" size="195 25"
      style="Heading1"
      label="P R E S C A N  -  P O W E R"
      justify="Left"
      />
    <textmessage loc="85 0" size="115 20"
      style="Heading3"
      label="prescanpower"
      vq="seqfil"
      set="$VALUE=seqfil"
      />
    <group loc="395 30" size="190 125"
      style="Heading1"
      label="Power Setting"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Titled"
      >
      <label loc="140 40" size="35 20"
        style="PlainText"
        label="(180)"
        justify="Left"
        />
      <label loc="140 20" size="35 20"
        style="PlainText"
        label="(90)"
        justify="Left"
        />
      <entry loc="95 40" size="40 20"
        style="PlainText"
        vq="tpwr2 "
        vc="tpwr2=$VALUE "
        set="$VALUE=tpwr2"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="95 60" size="40 20"
        style="PlainText"
        vq="coil_param[3] tpwr1"
        vc="coil_param[3]=$VALUE tpwr1f=0 onpower"
        set="$VALUE=coil_param[3]"
        digits="0"
        disable="Grayed out"
        />
      <label loc="5 60" size="90 20"
        style="PlainText"
        label="Start (Fine)"
        justify="Left"
        />
      <label loc="5 80" size="90 20"
        style="PlainText"
        label="Step Size"
        justify="Left"
        />
      <entry loc="95 80" size="40 20"
        style="PlainText"
        vq="coil_param[4]"
        vc="coil_param[4]=$VALUE tpwr1f=0 onpower"
        set="$VALUE=coil_param[4]"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="95 100" size="40 20"
        style="PlainText"
        vq="coil_param[5]"
        vc="coil_param[5]=$VALUE tpwr1f=0 onpower"
        set="$VALUE=coil_param[5]"
        digits="0"
        disable="Grayed out"
        />
      <label loc="5 100" size="90 20"
        style="PlainText"
        label="No. of Steps"
        justify="Left"
        />
      <entry loc="95 20" size="40 20"
        style="PlainText"
        vq="tpwr1"
        vc="tpwr1=$VALUE "
        set="$VALUE=tpwr1"
        digits="0"
        disable="Grayed out"
        />
      <label loc="5 20" size="90 20"
        style="PlainText"
        label="Power Coarse"
        justify="Left"
        />
    </group>
    <group loc="200 30" size="190 125"
      style="Heading1"
      label="Scan Options"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Titled"
      >
      <label loc="145 100" size="30 20"
        style="PlainText"
        label="mm"
        justify="Left"
        />
      <label loc="145 80" size="30 20"
        style="PlainText"
        label="mm"
        justify="Left"
        />
      <menu loc="95 20" size="80 20"
        style="PlainText"
        label="menu"
        vq="orient"
        vc="orient='$VALUE'"
        set="$VALUE=orient"
        bg="VJBackground"
        editable="No"
        >
        <mlabel 
          label="Axial"
          chval="trans"
          />
        <mlabel 
          label="Coronal"
          chval="cor"
          />
        <mlabel 
          label="Sagittal"
          chval="sag"
          />
      </menu>
      <label loc="145 60" size="30 20"
        style="PlainText"
        label="mm"
        justify="Left"
        />
      <entry loc="95 60" size="50 20"
        style="PlainText"
        vq="thk slice_select"
        vc="thk=$VALUE  setgss('gss','thk') go('check')"
        set="$VALUE=thk"
        show="if (slice_select = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="95 80" size="50 20"
        style="PlainText"
        vq="pss slice_select"
        vc="pss=$VALUE/10.0 go('check')"
        set="$VALUE=pss*10.0"
        show="if (slice_select = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="95 100" size="50 20"
        style="PlainText"
        vq="lro slice_select"
        vc="lro=$VALUE/10.0 go('check')"
        set="$VALUE=lro*10.0"
        show="if (slice_select = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        digits="1"
        disable="Grayed out"
        />
      <label loc="5 20" size="90 20"
        style="PlainText"
        label="Orientation"
        justify="Left"
        />
      <check loc="5 40" size="95 20"
        style="PlainText"
        label="Slice Select"
        vq="slice_select"
        vc="slice_select='y' p1pat='sinc' go('check')"
        vc2="slice_select='n' p1pat='hard' go('check')"
        set="$VALUE=(slice_select='y')"
        />
      <label loc="5 60" size="90 20"
        style="PlainText"
        label="Thickness"
        justify="Left"
        />
      <label loc="5 80" size="90 20"
        style="PlainText"
        label="Offset"
        justify="Left"
        />
      <label loc="5 100" size="90 20"
        style="PlainText"
        label="FOV"
        justify="Left"
        />
    </group>
    <group loc="5 155" size="190 105"
      style="Heading1"
      label="Hardware Control"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Titled"
      >
      <label loc="8 80" size="55 20"
        style="PlainText"
        label="Offset"
        justify="Left"
        />
      <label loc="8 60" size="55 20"
        style="PlainText"
        label="Sfrq"
        justify="Left"
        />
      <label loc="8 40" size="55 20"
        style="PlainText"
        label="Gain"
        justify="Left"
        />
      <label loc="8 20" size="55 20"
        style="PlainText"
        label="RF Coil"
        justify="Left"
        />
      <entry loc="63 40" size="60 20"
        style="PlainText"
        vq="gain"
        vc="gain=$VALUE "
        set="$VALUE=gain"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="63 80" size="60 20"
        style="PlainText"
        vq="resto"
        vc="resto=$VALUE"
        set="$VALUE=resto"
        digits="1"
        disable="Grayed out"
        />
      <label loc="123 80" size="30 20"
        style="PlainText"
        label="Hz"
        justify="Left"
        />
      <label loc="123 60" size="30 20"
        style="PlainText"
        label="MHz"
        justify="Left"
        />
      <textmessage loc="63 60" size="60 20"
        style="PlainText"
        label="399.4160"
        vq="sfrq"
        set="$VALUE=sfrq"
        digits="4"
        />
      <textmessage loc="63 20" size="65 20"
        style="PlainText"
        label="milli40"
        vq="rfcoil"
        set="$VALUE=rfcoil go('check')"
        />
    </group>
    <group loc="5 30" size="190 125"
      style="Heading1"
      label="Basic Parameters"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Titled"
      >
      <label loc="145 40" size="30 20"
        style="PlainText"
        label="us"
        justify="Left"
        />
      <label loc="5 100" size="80 20"
        style="PlainText"
        label="Acq. Points"
        justify="Left"
        />
      <label loc="5 80" size="80 20"
        style="PlainText"
        label="Acq. Time"
        justify="Left"
        />
      <label loc="5 60" size="80 20"
        style="PlainText"
        label="SW"
        justify="Left"
        />
      <label loc="5 20" size="80 20"
        style="PlainText"
        label="TR"
        justify="Left"
        />
      <label loc="5 40" size="80 20"
        style="PlainText"
        label="Pulse Width"
        justify="Left"
        />
      <label loc="145 80" size="30 20"
        style="PlainText"
        label="ms"
        justify="Left"
        />
      <label loc="145 60" size="30 20"
        style="PlainText"
        label="Hz"
        justify="Left"
        />
      <entry loc="85 100" size="60 20"
        style="PlainText"
        vq="np"
        vc="np=$VALUE go('check')"
        set="$VALUE=np"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="85 80" size="60 20"
        style="PlainText"
        vq="at"
        vc="at=$VALUE/1000.0 go('check')"
        set="$VALUE=at*1000.0"
        digits="1"
        disable="Grayed out"
        />
      <entry loc="85 60" size="60 20"
        style="PlainText"
        vq="sw"
        vc="sw=$VALUE go('check')"
        set="$VALUE=sw"
        digits="0"
        disable="Grayed out"
        />
      <entry loc="85 20" size="60 20"
        style="PlainText"
        vq="tr"
        vc="tr=$VALUE/1000.0 go('check')"
        set="$VALUE=tr*1000.0"
        digits="1"
        disable="Grayed out"
        />
      <label loc="145 20" size="30 20"
        style="PlainText"
        label="ms"
        justify="Left"
        />
      <entry loc="85 40" size="60 20"
        style="PlainText"
        vq="p1"
        vc="p1=$VALUE p2=p1 go('check')"
        set="$VALUE = p1"
        digits="0"
        disable="Grayed out"
        />
    </group>
    <group loc="590 30" size="150 230"
      style="Heading1"
      label="Action"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Titled"
      >
      <button loc="10 70" size="125 20"
        style="Heading3"
        label="Profile"
        vc="im2D('prep','profile') au"
        bg="VJBackground"
        decor1="no"
        />
      <button loc="10 45" size="125 20"
        style="Heading3"
        label="Display"
        vc="ft dssh"
        bg="VJBackground"
        decor1="no"
        />
      <button loc="10 95" size="125 20"
        style="Heading3"
        label="Process"
        vc="prescan_power('proc','man')"
        bg="VJBackground"
        decor1="no"
        />
      <button loc="10 120" size="125 20"
        style="Heading3"
        label="Update Params"
        vc="pwd:$pwd cd(userdir+'/parlib') svp('prescanpower','force') cd($pwd)"
        bg="VJBackground"
        decor1="no"
        />
      <button loc="10 145" size="125 20"
        style="Heading3"
        label="Return to Study"
        vc="prescan_params('load')"
        bg="VJBackground"
        decor1="no"
        />
      <button loc="10 20" size="125 20"
        style="Heading2"
        label="Acquire"
        vc="prescan_power('exp','man')"
        bg="VJBackground"
        decor1="no"
        />
    </group>
    <label loc="0 0" size="80 20"
      style="Heading3"
      label="Sequence:"
      justify="Left"
      />
  </group>
</template>
