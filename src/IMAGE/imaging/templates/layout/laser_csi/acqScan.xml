<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="acqScan" element="pages" type="acquisition" >
  <group size="945 320"
    label="Scan"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="acqScan"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <label loc="190 210" size="30 20"
      style="PlainText"
      label="mm"
      justify="Left"
      />
    <group loc="425 5" size="210 230"
      style="Heading1"
      label="Voxel Plan"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="2D_FOV"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <group loc="5 60" size="200 25"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="0 0" size="45 20"
          style="PlainText"
          label="VoxSize"
          justify="Left"
          />
        <entry loc="50 0" size="40 20"
          style="PlainText"
          vq="vox1"
          vc="gplan('setValue','vox1',$VALUE) prep go('check')"
          set="$VALUE=vox1"
          digits="1"
          disable="Grayed out"
          />
        <label loc="170 0" size="30 20"
          style="PlainText"
          label="mm"
          justify="Left"
          />
        <entry loc="130 0" size="40 20"
          style="PlainText"
          vq="vox3"
          vc="gplan('setValue','vox3',$VALUE) prep go('check')"
          set="$VALUE=vox3"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="90 0" size="40 20"
          style="PlainText"
          vq="vox2"
          vc="gplan('setValue','vox2',$VALUE) prep go('check')"
          set="$VALUE=vox2"
          digits="1"
          disable="Grayed out"
          />
      </group>
      <group loc="5 85" size="200 25"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="0 0" size="35 20"
          style="PlainText"
          label="Pos"
          justify="Left"
          />
        <entry loc="50 0" size="40 20"
          style="PlainText"
          vq="pos1"
          vc="gplan('setValue','pos1',$VALUE/10) prep go('check')"
          set="$VALUE=pos1*10"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="90 0" size="40 20"
          style="PlainText"
          vq="pos2"
          vc="gplan('setValue','pos2',$VALUE/10) prep go('check')"
          set="$VALUE=pos2*10"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="130 0" size="40 20"
          style="PlainText"
          vq="pos3"
          vc="gplan('setValue','pos3',$VALUE/10) prep go('check')"
          set="$VALUE=pos3*10"
          digits="1"
          disable="Grayed out"
          />
        <label loc="170 0" size="30 20"
          style="PlainText"
          label="mm"
          justify="Left"
          />
      </group>
      <group loc="5 110" size="200 25"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        reference="euler_horz"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        >
        <label loc="0 0" size="45 20"
          style="Label1"
          label="Angles"
          justify="Left"
          />
        <label loc="170 0" size="30 20"
          style="PlainText"
          label="deg"
          justify="Left"
          />
        <entry loc="50 0" size="40 20"
          style="PlainText"
          vq="vpsi vorient"
          vc="gplan('setValue','vpsi',$VALUE) go('check') vpsi=vpsi"
          set="$VALUE=vpsi"
          digits="1"
          disable="Grayed out"
          tooltip="vpsi"
          />
        <entry loc="90 0" size="40 20"
          style="PlainText"
          vq="vphi"
          vc="gplan('setValue','vphi',$VALUE) vphi=vphi"
          set="$VALUE=vphi"
          digits="1"
          disable="Grayed out"
          tooltip="vphi"
          />
        <entry loc="130 0" size="40 20"
          style="PlainText"
          vq="vtheta"
          vc="gplan('setValue','vtheta',$VALUE) vtheta=vtheta"
          set="$VALUE=vtheta"
          digits="1"
          disable="Grayed out"
          tooltip="vtheta"
          />
      </group>
      <group loc="0 35" size="205 25"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="5 5" size="80 20"
          style="PlainText"
          label="Voxel Orient"
          justify="Left"
          />
        <menu loc="90 5" size="100 20"
          style="PlainText"
          vq="vorient"
          vc="gplan('setDefaultType', 6) gplan('setValue','orient','$VALUE') calcdim "
          set="$VALUE=vorient"
          bg="VJBackground"
          editable="No"
          >
          <mlabel 
            label="Axial"
            chval="trans"
            />
          <mlabel 
            label="Coronal"
            chval="cor"
            />
          <mlabel 
            label="Sagittal"
            chval="sag"
            />
          <mlabel 
            label="Axial 90"
            chval="trans90"
            />
          <mlabel 
            label="Coronal 90"
            chval="cor90"
            />
          <mlabel 
            label="Sagittal 90"
            chval="sag90"
            />
          <mlabel 
            label="Oblique"
            chval="oblique"
            />
        </menu>
      </group>
      <group loc="0 15" size="205 25"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <menu loc="90 5" size="100 20"
          style="PlainText"
          vq="orient"
          vc="gplan('setDefaultType', 6) gplan('setValue','orient','$VALUE') calcdim "
          set="$VALUE=orient"
          bg="VJBackground"
          editable="No"
          >
          <mlabel 
            label="Axial"
            chval="trans"
            />
          <mlabel 
            label="Coronal"
            chval="cor"
            />
          <mlabel 
            label="Sagittal"
            chval="sag"
            />
          <mlabel 
            label="Axial 90"
            chval="trans90"
            />
          <mlabel 
            label="Coronal 90"
            chval="cor90"
            />
          <mlabel 
            label="Sagittal 90"
            chval="sag90"
            />
          <mlabel 
            label="Oblique"
            chval="oblique"
            />
          <mlabel 
            label="Shim voxel"
            chval="Shim voxel"
            />
        </menu>
        <label loc="5 5" size="70 20"
          style="PlainText"
          label="Slice Orient"
          justify="Left"
          />
      </group>
      <group loc="5 130" size="205 80"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        reference="Milestone"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        >
        <group loc="5 10" size="195 45"
          bg="transparent"
          border="None"
          tab="no"
          enable="no"
          reference="zDataMatrix(PExPE2)"
          useref="no"
          subtype="Untitled"
          expanded="yes"
          >
          <label loc="105 20" size="30 20"
            style="PlainText"
            label="mm"
            justify="Left"
            />
          <label loc="105 0" size="30 20"
            style="PlainText"
            label="mm"
            justify="Left"
            />
          <label loc="1 20" size="50 20"
            style="PlainText"
            label="FOV(Y)"
            justify="Left"
            />
          <label loc="1 0" size="50 20"
            style="PlainText"
            label="FOV(X)"
            justify="Left"
            />
          <entry loc="51 20" size="55 20"
            style="PlainText"
            vq="lpe2"
            vc="lpe2=$VALUE/10 go('check')"
            set="$VALUE=lpe2*10"
            digits="1"
            disable="Grayed out"
            />
          <entry loc="51 0" size="55 20"
            style="PlainText"
            vq="lpe"
            vc="lpe=$VALUE/10 go('check')"
            set="$VALUE=lpe*10"
            digits="1"
            disable="Grayed out"
            />
          <menu loc="136 20" size="55 20"
            style="PlainText"
            label="menu"
            vq="nv2"
            vc="nv2=$VALUE go('check')"
            set="$VALUE=nv2"
            bg="VJBackground"
            editable="No"
            >
            <mlabel 
              label="8"
              chval="8"
              />
            <mlabel 
              label="16"
              chval="16"
              />
            <mlabel 
              label="32"
              chval="32"
              />
            <mlabel 
              label="64"
              chval="64"
              />
          </menu>
          <menu loc="136 0" size="55 20"
            style="PlainText"
            label="menu"
            vq="nv"
            vc="nv=$VALUE go('check')"
            set="$VALUE=nv"
            bg="VJBackground"
            editable="No"
            >
            <mlabel 
              label="8"
              chval="8"
              />
            <mlabel 
              label="16"
              chval="16"
              />
            <mlabel 
              label="32"
              chval="32"
              />
            <mlabel 
              label="64"
              chval="64"
              />
          </menu>
        </group>
        <button loc="145 54" size="45 20"
          style="PlainText"
          label="Clear"
          vq="$VALUE = planValue"
          vc="gplan('clearStacks')"
          bg="transparent"
          decor1="yes"
          />
        <button loc="100 54" size="45 20"
          style="Label1"
          label="Add"
          vc="gplan('addAstack',3)"
          bg="transparent"
          decor1="no"
          />
        <button loc="55 54" size="45 20"
          style="Label1"
          label="Mark"
          vc="gplan('setMarkMode', 1) "
          bg="transparent"
          decor1="no"
          />
        <button loc="5 54" size="50 20"
          style="PlainText"
          label="Show"
          vq="$VALUE = planValue"
          vc="gplan('setDefaultType','CSI2D','CSIvoxel') gplan('setValue','vorient',orient)"
          bg="transparent"
          decor1="yes"
          />
      </group>
      <check loc="105 210" size="70 20"
        style="PlainText"
        label="3D View"
        vq="iplanType"
        vc="gplan('setDraw3D', 1)"
        vc2="gplan('setDraw3D', 0)"
        set="gplan('getActStackInfo', 'draw3D'):$VALUE"
        />
      <check loc="5 210" size="90 20"
        style="PlainText"
        label="Display Axis"
        vq="iplanType"
        vc="gplan('setDrawAxes', 1)"
        vc2="gplan('setDrawAxes', 0)"
        set="gplan('getActStackInfo', 'drawAxes'):$VALUE"
        />
    </group>
    <group loc="635 5" size="210 230"
      style="Heading1"
      label="Setup"
      vq="iplanType showOptions"
      show="$VALUE=(showOptions=0)"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="ScanOptions"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <button loc="135 205" size="65 20"
        style="Label4"
        label="Test Scan"
        vc="im2Dcsi('prep','profile') au"
        bg="Children"
        decor1="no"
        />
      <group loc="5 130" size="200 70"
        style="Heading1"
        bg="transparent"
        border="None"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        reference="ScanOptionsRF"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        >
        <label loc="5 5" size="95 20"
          style="Children"
          label="SET RF POWER"
          justify="Center"
          />
        <check loc="120 5" size="55 20"
          style="PlainText"
          label="Auto"
          vq="sglpower"
          vc="sglpower = 0 go('check') "
          vc2="sglpower=1"
          set="$VALUE = (sglpower = 0)"
          tooltip="If selected, powers will be recalculated by VNMR"
          />
        <entry loc="120 45" size="45 20"
          style="PlainText"
          vq="tpwr2f"
          vc="tpwr2f = $VALUE"
          set="$VALUE = tpwr2f"
          digits="0"
          />
        <entry loc="120 25" size="45 20"
          style="PlainText"
          vq="tpwr1f"
          vc="tpwr1f = $VALUE"
          set="$VALUE = tpwr1f"
          digits="0"
          />
        <entry loc="90 45" size="25 20"
          style="PlainText"
          vq="tpwr2"
          vc="tpwr2 = $VALUE"
          set="$VALUE = tpwr2"
          digits="0"
          />
        <entry loc="90 25" size="25 20"
          style="PlainText"
          vq="tpwr1"
          vc="tpwr1 = $VALUE"
          set="$VALUE = tpwr1"
          digits="0"
          />
        <button loc="5 45" size="85 20"
          style="PlainText"
          label="180 deg"
          vc="pwr_opt('tpwr2','tpwr2f')"
          bg="transparent"
          decor1="no"
          tooltip="Set 180 (Array)"
          />
        <button loc="5 25" size="85 20"
          style="PlainText"
          label="90 deg"
          vc="pwr_opt('tpwr1','tpwr1f')"
          bg="transparent"
          decor1="no"
          tooltip="SET 90 (Array)"
          />
      </group>
      <group loc="5 20" size="200 110"
        style="Heading1"
        bg="transparent"
        border="None"
        side="Top"
        justify="Left"
        tab="no"
        enable="no"
        reference="MRSfreq"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        >
        <group loc="5 80" size="195 20"
          bg="transparent"
          border="None"
          tab="no"
          enable="no"
          useref="no"
          subtype="Untitled"
          >
          <label loc="145 0" size="40 20"
            style="PlainText"
            label="ppm"
            justify="Left"
            />
          <entry loc="85 0" size="60 20"
            style="PlainText"
            vq="refval"
            vc="refval=$VALUE"
            set="$VALUE=refval"
            digits="2"
            disable="Grayed out"
            />
          <button loc="0 0" size="85 20"
            style="PlainText"
            label="Set Ref"
            vc="nl offset:r1 r1=r1-tof rl(refval*sfrq) axis='p'"
            bg="transparent"
            decor1="yes"
            />
        </group>
        <group loc="5 60" size="195 20"
          bg="transparent"
          border="None"
          tab="no"
          enable="no"
          useref="no"
          subtype="Untitled"
          >
          <label loc="145 0" size="30 20"
            style="PlainText"
            label="Hz"
            justify="Left"
            />
          <entry loc="85 0" size="60 20"
            style="PlainText"
            vq="ws_delta"
            vc="ws_delta = $VALUE"
            set="$VALUE = ws_delta"
            digits="1"
            />
          <button loc="0 0" size="85 20"
            style="PlainText"
            label="Wat Sup"
            vc="setfrq1d('ws')"
            bg="transparent"
            decor1="no"
            tooltip="WS choice via cursor"
            />
        </group>
        <group loc="5 40" size="195 20"
          bg="transparent"
          border="None"
          tab="no"
          enable="no"
          useref="no"
          subtype="Untitled"
          >
          <label loc="145 0" size="30 20"
            style="PlainText"
            label="Hz"
            justify="Left"
            />
          <entry loc="85 0" size="60 20"
            style="PlainText"
            vq="roff roffadjust"
            vc="roffadjust=$VALUE-roff rfladjust=$VALUE-roff"
            set="$VALUE = roff+roffadjust"
            digits="1"
            />
          <button loc="0 0" size="85 20"
            style="PlainText"
            label="Receiver"
            vc="setfrq1d('rec')"
            bg="transparent"
            decor1="no"
            tooltip="Rcvr choice via cursor"
            />
        </group>
        <group loc="5 20" size="195 20"
          bg="transparent"
          border="None"
          tab="no"
          enable="no"
          useref="no"
          subtype="Untitled"
          >
          <entry loc="85 0" size="60 20"
            style="PlainText"
            vq="restol"
            vc="restol = $VALUE"
            set="$VALUE = restol"
            digits="1"
            />
          <label loc="145 0" size="30 20"
            style="PlainText"
            label="Hz"
            justify="Left"
            />
          <button loc="0 0" size="85 20"
            style="PlainText"
            label="Local Offset"
            vc="setfrq1d('local')"
            bg="transparent"
            decor1="no"
            tooltip="CenterFreq=H1offset-Local Offset"
            />
        </group>
        <button loc="5 0" size="145 20"
          style="Children"
          label="SET ALL FREQ (Hz)"
          vc="profile='yy' setloop setfrq1d('all')"
          bg="transparent"
          decor1="no"
          tooltip="Base Freq:resto-restol"
          />
      </group>
    </group>
    <group loc="635 5" size="210 230"
      style="Heading1"
      label="Sat Bands"
      vq="sat showOptions"
      show="if (showOptions=4) then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="plansatbands2D"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <button loc="145 120" size="60 20"
        style="Label4"
        label="Test Scan"
        vc="im1D('prep') wexp='im1D(`proc`)' wdone='' au"
        bg="Children"
        decor1="no"
        />
      <group loc="0 90" size="120 20"
        vq="sat"
        show="$VALUE=(sat='n')"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="5 0" size="105 20"
          style="PlainText"
          label="Set Orientation"
          justify="Left"
          />
      </group>
      <group loc="5 90" size="120 20"
        vq="sat"
        show="$VALUE=(sat='y')"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="0 0" size="105 20"
          style="PlainText"
          label="Add Orientation"
          justify="Left"
          />
      </group>
      <menu loc="110 90" size="95 20"
        style="PlainText"
        vq="satorient"
        vc="setsatorient satorient='$VALUE' setsatorient('add')"
        set="$VALUE=satorient"
        bg="VJBackground"
        editable="No"
        >
        <mlabel 
          label="Axial"
          chval="trans"
          />
        <mlabel 
          label="Coronal"
          chval="cor"
          />
        <mlabel 
          label="Sagittal"
          chval="sag"
          />
        <mlabel 
          label="3 Planes"
          chval="3orthogonal"
          />
        <mlabel 
          label="Axial 90"
          chval="trans90"
          />
        <mlabel 
          label="Coronal 90"
          chval="cor90"
          />
        <mlabel 
          label="Sagittal 90"
          chval="sag90"
          />
      </menu>
      <label loc="5 120" size="90 20"
        style="Label1"
        label="No. Bands"
        justify="Left"
        />
      <toggle loc="110 60" size="75 20"
        style="PlainText"
        label="View"
        vq="iplanType"
        vc="setsatorient gplan('setDefaultType', 4) iplanDefaultType=4 setgplan('standard getCurrentStacks' )"
        vc2="gplan('setDefaultType', 0) iplanDefaultType=0 setgplan('standard getCurrentStacks' )"
        set="$VALUE = (iplanType = 4)"
        enabled="false"
        radiobutton="no"
        subtype="no"
        />
      <textmessage loc="110 120" size="30 20"
        style="PlainText"
        label="0"
        vq="nsat sat satpos"
        set="$VALUE=size('satpos')*(sat='y')"
        />
      <group loc="5 195" size="205 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="150 0" size="40 20"
          style="PlainText"
          vq="stheta planSs"
          vc="gplan('setValue','stheta',$VALUE)"
          set="gplan('getValue', 'stheta'):$VALUE"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="105 0" size="40 20"
          style="PlainText"
          vq="sphi planSs"
          vc="gplan('setValue','sphi',$VALUE)"
          set="gplan('getValue', 'sphi'):$VALUE"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="60 0" size="40 20"
          style="PlainText"
          vq="spsi planSs"
          vc="gplan('setValue','spsi',$VALUE)"
          set="gplan('getValue', 'spsi'):$VALUE"
          digits="1"
          disable="Grayed out"
          />
        <label loc="0 0" size="60 20"
          style="Label1"
          label="Angles"
          justify="Left"
          />
      </group>
      <group loc="5 145" size="200 40"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="0 0" size="90 20"
          style="Label1"
          label="Position"
          justify="Left"
          />
        <label loc="0 20" size="90 20"
          style="Label1"
          label="Thickness"
          justify="Left"
          />
        <label loc="165 20" size="30 20"
          style="Label1"
          label="mm"
          justify="Left"
          />
        <label loc="165 0" size="30 20"
          style="Label1"
          label="mm"
          justify="Left"
          />
        <entry loc="105 20" size="60 20"
          style="PlainText"
          vq="satthk planSs"
          vc="gplan('setValue','satthk',$VALUE)"
          set="gplan('getValue', 'satthk'):$VALUE"
          digits="1"
          disable="Grayed out"
          />
        <entry loc="105 0" size="60 20"
          style="PlainText"
          vq="satpos planSs"
          vc="gplan('setValue','satpos',$VALUE/10.0)"
          set="gplan('getValue', 'satpos'):$v $VALUE=$v*10"
          digits="1"
          disable="Grayed out"
          />
      </group>
      <button loc="110 40" size="75 20"
        style="PlainText"
        label="Delete"
        vq="planSs"
        vc="if (size('satpos') = 1) then sat = n endif gplan('deleteSelected')  if (sat = 'n') then gplan('setDefaultType', 0) iplanDefaultType=0 setgplan('standard getcurrentStacks') endif"
        bg="transparent"
        decor1="no"
        />
      <button loc="110 20" size="75 20"
        style="PlainText"
        label="Add"
        vc="setsatorient('add')"
        bg="transparent"
        decor1="no"
        />
      <check loc="5 20" size="90 20"
        style="PlainText"
        label="On/Off"
        vq="sat"
        vc="sat = 'y' setsatorient gplan('setDefaultType', 4) iplanDefaultType=4 setgplan('standard getCurrentStacks' )"
        vc2="sat = 'n'  gplan('setDefaultType', 0) iplanDefaultType=0 setgplan('standard getCurrentStacks' )"
        set="$VALUE = (sat = 'y')"
        />
    </group>
    <group loc="215 5" size="210 230"
      style="Heading1"
      label="Scan Options"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="ScanOptions"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <button loc="125 185" size="40 20"
        style="Label1"
        label="Load"
        vc="vox_save_load('loadshim')"
        bg="transparent"
        decor1="no"
        />
      <button loc="85 185" size="40 20"
        style="Label1"
        label="Save"
        vc="vox_save_load('saveshim')"
        bg="transparent"
        decor1="no"
        />
      <label loc="5 185" size="75 20"
        style="Label1"
        label="Shim Voxel"
        />
      <button loc="125 205" size="40 20"
        style="Label1"
        label="Load"
        vc="vox_save_load('loadmile')"
        bg="transparent"
        decor1="no"
        />
      <button loc="85 205" size="40 20"
        style="Label1"
        label="Save"
        vc="vox_save_load('savemile')"
        bg="transparent"
        decor1="no"
        />
      <label loc="5 205" size="75 20"
        style="Label1"
        label="Milestone"
        />
      <group loc="10 80" size="190 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <check loc="0 0" size="185 20"
          style="PlainText"
          label="Phase Cycle Through Array"
          vc="autoph='y' go('check')"
          vc2="autoph ='n' go('check')"
          set="$VALUE=(autoph = 'y')"
          tooltip="if 'y', phase cycle =nt*array, if &quot;no&quot; phase cycle=nt only"
          />
      </group>
      <group loc="10 60" size="190 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <check loc="0 0" size="100 20"
          style="PlainText"
          label="Phase Cycle"
          vc="pcflag='y' go('check')"
          vc2="pcflag='n' go('check')"
          set="$VALUE=(pcflag = 'y')"
          tooltip="Turns off phase cycling if unchecked"
          />
      </group>
      <group loc="5 160" size="200 20"
        vq="ovs"
        show="$VALUE=(ovs='y')"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="50 0" size="35 20"
          style="PlainText"
          vq="ovsthk"
          vc="ovsthk=$VALUE"
          set="$VALUE=ovsthk"
          digits="1"
          />
        <entry loc="130 0" size="35 20"
          style="PlainText"
          vq="ovsgap"
          vc="ovsgap=$VALUE/10"
          set="$VALUE=ovsgap*10"
          digits="1"
          />
        <label loc="170 0" size="30 20"
          style="Label1"
          label="mm"
          />
        <label loc="100 0" size="35 20"
          style="Label1"
          label="Gap"
          />
        <label loc="20 0" size="35 20"
          style="Label1"
          label="Thk"
          />
      </group>
      <check loc="10 140" size="190 20"
        style="PlainText"
        label="Outer Volume Suppression"
        vq="ovs"
        vc="ovs='y' sat='n' if (showOptions=4) then showOptions=0 endif"
        vc2="ovs='n'"
        set="$VALUE=(ovs='y')"
        />
      <toggle loc="130 120" size="35 20"
        style="PlainText"
        label="More"
        vq="showOptions"
        vc="showOptions=4"
        vc2="showOptions=0"
        set="$VALUE=(showOptions=4)"
        enabled="false"
        radiobutton="no"
        subtype="no"
        />
      <check loc="10 120" size="130 20"
        style="PlainText"
        label="Spatial Satbands"
        vq="sat"
        vc="sat='y' ovs='n' go('check')"
        vc2="sat='n' go('check')"
        set="$VALUE=(sat='y')"
        />
      <group loc="10 100" size="140 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <check loc="0 0" size="130 20"
          style="PlainText"
          label="External Trigger"
          vc="ticks=1 go('check')"
          vc2="ticks=0 go('check')"
          set="$VALUE=(ticks &gt; 0)"
          tooltip="if 'y', phase cycle =nt*array, if &quot;no&quot; phase cycle=nt only"
          />
      </group>
      <group loc="5 40" size="195 20"
        vq="wsrf"
        show="$VALUE=(wsrf='y')"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        reference="WaterRefGain"
        useref="no"
        subtype="Untitled"
        expanded="yes"
        >
        <check loc="5 0" size="175 20"
          style="PlainText"
          label="Acquire Water Reference"
          vq="wref"
          vc="wref='y' go('check') wrefstatus='wref'"
          vc2="wref='n' go('check')"
          set="$VALUE = (wref='y')"
          show="exists('wsrf','parameter'):$VALUE"
          tooltip="Acquires and saves water reference"
          />
      </group>
      <check loc="10 20" size="120 20"
        style="PlainText"
        label="Water Sup On"
        vq="ws wsrf wref"
        vc="ws ='y' wsrf='y' go('check')"
        vc2="ws ='y' wsrf='n' go('check') wref='n'"
        set="$VALUE=(ws = 'y' and wsrf='y')"
        />
    </group>
    <group loc="5 5" size="210 230"
      style="Heading1"
      label="Scan Parameters"
      bg="transparent"
      border="Etched"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="trstuff2"
      useref="no"
      subtype="Major"
      expanded="yes"
      >
      <label loc="185 185" size="25 20"
        style="PlainText"
        label="mm"
        justify="Left"
        />
      <group loc="5 205" size="200 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <textmessage loc="125 0" size="55 20"
          style="PlainText"
          label="1.77662"
          vq="lpe2 nv2"
          set="$VALUE=(lpe2/nv2)*10"
          />
        <label loc="0 0" size="120 20"
          style="PlainText"
          label="Nominal Vox Size (Y)"
          justify="Left"
          />
      </group>
      <group loc="5 185" size="200 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <textmessage loc="125 0" size="55 20"
          style="PlainText"
          label="1.8309"
          vq="lpe nv"
          set="$VALUE=(lpe/nv)*10"
          />
        <label loc="0 0" size="120 20"
          style="PlainText"
          label="Nominal Vox Size (X)"
          justify="Left"
          />
      </group>
      <group loc="5 60" size="200 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <label loc="0 0" size="70 20"
          style="PlainText"
          label="Averages"
          justify="Left"
          />
        <entry loc="120 0" size="55 20"
          style="PlainText"
          vq="nt"
          vc="nt=$VALUE go('check')"
          set="$VALUE=nt"
          digits="0"
          disable="Grayed out"
          />
      </group>
      <label loc="180 160" size="30 20"
        style="PlainText"
        label="ppm"
        justify="Left"
        />
      <group loc="5 160" size="200 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="120 0" size="55 20"
          style="PlainText"
          vq="csd_ppm"
          vc="csd_ppm=$VALUE go('check')"
          set="$VALUE=csd_ppm"
          digits="1"
          disable="Grayed out"
          />
        <label loc="0 0" size="110 20"
          style="PlainText"
          label="Chem shift offset"
          justify="Left"
          />
      </group>
      <label loc="185 120" size="25 20"
        style="PlainText"
        label="Hz"
        justify="Left"
        />
      <group loc="5 140" size="205 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="120 0" size="55 20"
          style="PlainText"
          vq="gain"
          vc="gain=$VALUE"
          set="$VALUE=gain"
          digits="0"
          disable="Label"
          />
        <label loc="180 0" size="25 20"
          style="PlainText"
          label="dB"
          justify="Left"
          />
        <label loc="0 0" size="105 20"
          style="Label1"
          label="Receiver gain"
          />
      </group>
      <group loc="5 120" size="200 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="120 0" size="55 20"
          style="PlainText"
          vq="sw"
          vc="$np = np sw = $VALUE np = $np go('check')"
          set="$VALUE=sw"
          digits="0"
          disable="Grayed out"
          />
        <label loc="0 0" size="105 20"
          style="PlainText"
          label="Spectral Width"
          justify="Left"
          />
      </group>
      <group loc="5 100" size="200 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="120 0" size="55 20"
          style="PlainText"
          vq="np"
          vc="np=$VALUE*2 go('check')"
          set="$VALUE=np/2"
          digits="0"
          disable="Grayed out"
          />
        <label loc="0 0" size="100 20"
          style="PlainText"
          label="Real Points"
          justify="Left"
          />
      </group>
      <group loc="5 20" size="205 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="120 0" size="55 20"
          style="PlainText"
          vq="tr mintr"
          vc="tr=$VALUE/1000.0 go('check')"
          set="$VALUE=tr*1000.0"
          show="$VALUE = (mintr='n') "
          digits="2"
          disable="Grayed out"
          />
        <check loc="50 0" size="50 20"
          style="PlainText"
          label="Min"
          vq="mintr tr"
          vc="mintr = 'y' go('check') prep go('check')"
          vc2="mintr = 'n' "
          set="$VALUE = (mintr = 'y')"
          />
        <label loc="0 0" size="30 20"
          style="PlainText"
          label="TR"
          justify="Left"
          />
      </group>
      <group loc="5 80" size="200 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="120 0" size="55 20"
          style="PlainText"
          vq="ss"
          vc="ss=$VALUE go('check')"
          set="$VALUE=ss"
          digits="0"
          disable="Grayed out"
          />
        <label loc="0 0" size="100 20"
          style="PlainText"
          label="Dummy Scans"
          justify="Left"
          />
      </group>
      <group loc="5 40" size="205 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="120 0" size="55 20"
          style="PlainText"
          vq="te minte"
          vc="te=$VALUE/1000.0 go('check')"
          set="$VALUE=te*1000.0"
          show="$VALUE = (minte='n') "
          digits="2"
          disable="Grayed out"
          />
        <label loc="180 0" size="25 20"
          style="PlainText"
          label="ms"
          justify="Left"
          />
        <check loc="50 0" size="50 20"
          style="PlainText"
          label="Min"
          vq="minte te"
          vc="minte = 'y' go('check') prep go('check')"
          vc2="minte = 'n' go('check')"
          set="$VALUE = (minte = 'y')"
          tooltip="Minimum TE time possible"
          />
        <label loc="0 0" size="40 20"
          style="Label1"
          label="TE"
          />
      </group>
      <label loc="185 20" size="25 20"
        style="PlainText"
        label="ms"
        justify="Left"
        />
    </group>
    <group loc="0 240" size="650 40"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      reference="Protocol"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      >
      <textmessage loc="505 0" size="65 20"
        style="PlainText"
        label="305.20"
        vq="tn"
        set="$VALUE = {tn + 'offset'}"
        digits="2"
        />
      <textmessage loc="435 0" size="70 20"
        style="Heading1"
        label="H1offset"
        vq="tn"
        set="write('line3','%soffset',tn):$VALUE"
        />
      <textmessage loc="300 0" size="130 20"
        style="PlainText"
        label="main"
        vq="rfcoil"
        set="$VALUE = rfcoil"
        />
      <label loc="220 0" size="80 20"
        style="Heading1"
        label="RF Coil"
        justify="Left"
        />
      <entry loc="80 0" size="130 20"
        style="PlainText"
        vq="comment"
        vc="comment='$VALUE' xm1('addcomment')"
        set="$VALUE=comment"
        digits="0"
        disable="Grayed out"
        />
      <label loc="0 0" size="80 20"
        style="Heading1"
        label="Comment"
        justify="Left"
        />
      <textmessage loc="515 20" size="95 20"
        style="PlainText"
        label="34m:8s"
        vq="scantime"
        set="$VALUE = scantime"
        digits="2"
        />
      <label loc="435 20" size="80 20"
        style="Heading1"
        label="Scan Time"
        justify="Left"
        />
      <textmessage loc="300 20" size="130 20"
        style="PlainText"
        label="88_55_HD_S"
        vq="gcoil"
        set="$VALUE = gcoil"
        />
      <label loc="220 20" size="80 20"
        style="Heading1"
        label="Gradient"
        justify="Left"
        />
      <label loc="0 20" size="80 20"
        style="Heading1"
        label="Protocol"
        justify="Left"
        />
      <textmessage loc="80 20" size="130 20"
        style="PlainText"
        label="laser_csi"
        vq="pslabel"
        set="$VALUE = pslabel"
        />
    </group>
  </group>
</template>
