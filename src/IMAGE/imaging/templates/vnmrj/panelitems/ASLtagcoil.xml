<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="ASLtagcoil" element="groups" type="acquisition" >
  <group size="210 230"
    style="Heading1"
    label="Tag Coil"
    bg="transparent"
    border="Etched"
    side="Top"
    justify="Left"
    tab="no"
    enable="no"
    reference="ASLtagcoil"
    useref="no"
    subtype="Major"
    expanded="yes"
    >
    <group loc="5 50" size="200 20"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      reference="tagcoil"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      >
      <filemenu loc="95 0" size="105 20"
        style="PlainText"
        vq="aslrfcoil asltagcoil"
        vc="aslrfcoil='$VALUE' b1max(aslrfcoil,'aslb1max') b1max(aslrfcoil,'asllimb1max',asltagcoilpmax)"
        set="$VALUE=aslrfcoil"
        show="if (asltagcoil='y') then $VALUE=1 else $VALUE = -1 endif"
        file="$file='/templates/vnmrj/choicefiles/coil' get_path($file):$path $VALUE=$path+$file"
        type="file"
        bg="VJBackground"
        editable="No"
        vq2="aslrfcoil"
        statshow="yes"
        elastic="no"
        display="yes"
        />
      <label loc="0 0" size="75 20"
        style="PlainText"
        label="Tag Coil"
        justify="Left"
        />
    </group>
    <group loc="5 130" size="200 90"
      vq="tagcoilOptions"
      show="$VALUE = (tagcoilOptions=2)"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      >
      <button loc="5 70" size="125 20"
        style="Label1"
        label="Set power to 180"
        vc="aslset('settagcoil180')"
        bg="transparent"
        decor1="no"
        />
      <group loc="0 40" size="200 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="115 0" size="60 20"
          style="PlainText"
          vq="tagcoiltpwr"
          vc="tagcoiltpwr = $VALUE aslset('testcheck')"
          set="$VALUE = tagcoiltpwr"
          digits="0"
          disable="Grayed out"
          />
        <label loc="175 0" size="25 20"
          style="PlainText"
          label="dB"
          justify="Left"
          />
        <label loc="0 0" size="100 20"
          style="Label1"
          label="Pulse power"
          justify="Left"
          />
      </group>
      <group loc="0 20" size="200 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <entry loc="115 0" size="60 20"
          style="PlainText"
          vq="tagcoilp1"
          vc="tagcoilp1 = $VALUE aslset('testcheck')"
          set="$VALUE = tagcoilp1"
          digits="0"
          disable="Grayed out"
          />
        <label loc="175 0" size="25 20"
          style="PlainText"
          label="us"
          justify="Left"
          />
        <label loc="0 0" size="100 20"
          style="Label1"
          label="Pulse width"
          justify="Left"
          />
      </group>
      <group loc="0 0" size="200 20"
        bg="transparent"
        border="None"
        tab="no"
        enable="no"
        useref="no"
        subtype="Untitled"
        >
        <check loc="70 0" size="45 20"
          style="PlainText"
          label="Min"
          vq="mintagcoiltr"
          vc="mintagcoiltr='y' aslset('testcheck')"
          vc2="mintagcoiltr='n' aslset('testcheck')"
          set="$VALUE=(mintagcoiltr='y')"
          />
        <entry loc="115 0" size="60 20"
          style="PlainText"
          vq="tagcoiltr mintagcoiltr"
          vc="mintagcoiltr='n' tagcoiltr = $VALUE/1000.0 aslset('testcheck')"
          set="$VALUE = tagcoiltr*1000.0"
          show="if (mintagcoiltr='y') then $VALUE = 0 else $VALUE = 1 endif"
          digits="2"
          disable="Grayed out"
          />
        <label loc="175 0" size="25 20"
          style="PlainText"
          label="ms"
          justify="Left"
          />
        <label loc="0 0" size="50 20"
          style="Label1"
          label="TR"
          justify="Left"
          />
      </group>
    </group>
    <group loc="5 130" size="205 20"
      vq="tagcoilOptions"
      show="$VALUE = (tagcoilOptions=1)"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      >
      <entry loc="5 0" size="95 20"
        style="PlainText"
        vq="aslrfcoil "
        vc="aslrfcoil='$VALUE'"
        set="$VALUE=aslrfcoil"
        disable="Label"
        />
      <button loc="135 0" size="60 20"
        style="Label1"
        label="Save"
        vc="aslset('savetagcoil')"
        bg="transparent"
        decor1="no"
        />
    </group>
    <toggle loc="140 100" size="60 20"
      style="Label1"
      label="Calibrate"
      vq="tagcoilOptions asltagcoil"
      vc="tagcoilOptions=2 tagcoilcalib=1 asltestmode='y'"
      vc2="tagcoilOptions=0 tagcoilcalib=0"
      set="$VALUE=(tagcoilOptions=2)"
      show="if (asltagcoil='y') then $VALUE=1 else $VALUE = -1 endif"
      enable="yes"
      radiobutton="no"
      subtype="no"
      />
    <button loc="75 100" size="60 20"
      style="Label1"
      label="Delete"
      vq="aslrfcoil asltagcoil"
      vc="aslset('removetagcoil')"
      show="if (asltagcoil='y') then $VALUE=1 else $VALUE = -1 endif"
      bg="transparent"
      decor1="no"
      />
    <toggle loc="10 100" size="60 20"
      style="Label1"
      label="Create"
      vq="tagcoilOptions asltagcoil"
      vc="tagcoilOptions=1 tagcoilcalib=0"
      vc2="tagcoilOptions=0"
      set="$VALUE=(tagcoilOptions=1)"
      show="if (asltagcoil='y') then $VALUE=1 else $VALUE = -1 endif"
      enable="yes"
      radiobutton="no"
      subtype="no"
      />
    <group loc="5 70" size="200 20"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      useref="no"
      subtype="Untitled"
      >
      <textmessage loc="95 0" size="70 20"
        style="PlainText"
        label="854.3"
        vq="aslb1max"
        set="$VALUE = aslb1max"
        digits="1"
        statpar="aslb1max aslrfcoil"
        />
      <label loc="165 0" size="30 20"
        style="PlainText"
        label="Hz"
        justify="Left"
        />
      <label loc="0 0" size="90 20"
        style="Label1"
        label="Full Power B1"
        justify="Left"
        />
    </group>
    <check loc="5 20" size="205 20"
      style="PlainText"
      label="Dedicated 3rd channel tag coil"
      vq="asltagcoil numrfch asltype"
      vc="asltagcoil='y' aslset('tagcoil') go('check')"
      vc2="asltagcoil='n' aslset('tagcoil') go('check')"
      set="$VALUE=(asltagcoil='y')"
      show="if (numrfch &gt; 2 AND asltype='CASL') then $VALUE=1 else $VALUE=-1 endif"
      />
  </group>
</template>
