<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="InversionRecovery" element="groups" type="acquisition" >
  <group size="210 230"
    style="Heading1"
    label="Inversion Recovery"
    vq="ir"
    bg="transparent"
    border="Etched"
    side="Top"
    justify="Left"
    tab="no"
    enable="no"
    reference="InversionRecovery"
    useref="no"
    subtype="Major"
    expanded="yes"
    rows="1"
    columns="1"
    >
    <button loc="115 20" size="55 20"
      style="PlainText"
      label="Show TI"
      vq="ti"
      vc="da('ti') vnmrjcmd('setpage','Process','Text Output')"
      show="$size=size('ti') if ($size&gt;1) then $VALUE=1 else $VALUE=0 endif"
      bg="transparent"
      decor1="no"
      halignment="Center"
      valignment="Center"
      />
    <check loc="5 20" size="40 20"
      style="PlainText"
      label="IR"
      vq="ir"
      vc="ir='y' ti=ti go('check')"
      vc2="ir='n' unarray('ti') go('check')"
      set="$VALUE=(ir='y')"
      />
    <label loc="170 45" size="30 20"
      style="PlainText"
      label="ms"
      justify="Left"
      />
    <group loc="0 115" size="210 115"
      style="Heading1"
      vq="nti"
      show="exists('nti','parameter'):$VALUE"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="InversionRecovery"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <button loc="15 80" size="85 20"
        style="PlainText"
        label="Exp Array"
        vq="ir endti"
        vc="minti='n' exparray('ti',startti,endti,nti) setprotect('ti','ison',256):$on if ($on=0) then $ti=ti ti=ti[nti] goch ti=$ti go('check','checksilent') else goch endif"
        show="if (ir = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <button loc="110 80" size="85 20"
        style="PlainText"
        label="Linear Array"
        vq="ir"
        vc="minti='n' array('ti',nti,startti,(endti-startti)/(nti-1)) setprotect('ti','ison',256):$on if ($on=0) then $ti=ti ti=ti[nti] goch ti=$ti go('check','checksilent') else goch endif"
        show="if (ir = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        bg="transparent"
        decor1="no"
        halignment="Center"
        valignment="Center"
        />
      <label loc="170 30" size="25 20"
        style="Label1"
        label="ms"
        />
      <label loc="170 10" size="25 20"
        style="Label1"
        label="ms"
        />
      <entry loc="115 10" size="55 20"
        style="PlainText"
        vq="startti ir"
        vc="startti=$VALUE/1000.0"
        set="$VALUE=startti*1000.0"
        show="if (ir='y') then $VALUE = 1 else $VALUE = -1 endif"
        digits="2"
        />
      <entry loc="115 30" size="55 20"
        style="PlainText"
        vq="endti ir"
        vc="endti=$VALUE/1000.0"
        set="$VALUE=endti*1000.0"
        show="if (ir = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        digits="1"
        />
      <entry loc="115 50" size="55 20"
        style="PlainText"
        vq="nti ir"
        vc="nti=$VALUE"
        set="$VALUE=nti"
        show="if (ir = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        />
      <label loc="5 10" size="70 20"
        style="Label1"
        label="Start TI"
        />
      <label loc="5 30" size="70 20"
        style="Label1"
        label="End TI"
        />
      <label loc="5 50" size="110 20"
        style="Label1"
        label="Array size"
        />
    </group>
    <group loc="0 90" size="205 20"
      style="Heading1"
      vq="irsequential"
      show="exists('irsequential','parameter'):$VALUE"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="InversionRecovery"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <check loc="5 0" size="140 20"
        style="PlainText"
        label="Sequential Inversion"
        vq="irsequential ir"
        vc="irsequential=1 go('check')"
        vc2="irsequential=0 go('check')"
        set="$VALUE=irsequential"
        show="if (ir = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        />
    </group>
    <group loc="0 65" size="210 20"
      style="Heading1"
      vq="thkirfact"
      show="exists('thkirfact','parameter'):$VALUE"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="InversionRecovery"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      rows="1"
      columns="1"
      >
      <label loc="170 0" size="40 20"
        style="Label1"
        label="x thk"
        />
      <entry loc="115 0" size="55 20"
        style="PlainText"
        vq="thkirfact"
        vc="thkirfact=$VALUE go('check')"
        set="$VALUE=thkirfact"
        show="if (ir = 'y') then $VALUE = 1 else $VALUE = -1 endif"
        digits="2"
        />
      <label loc="5 0" size="80 20"
        style="Label1"
        label="Thk Factor"
        />
    </group>
    <entry loc="115 45" size="55 20"
      style="PlainText"
      vq="ti ir"
      vc="minti='n' ti=$VALUE/1000.0 go('check')"
      set="$VALUE=ti*1000.0"
      show="if (ir = 'y') then $VALUE = 1 else $VALUE = -1 endif"
      digits="2"
      disable="Grayed out"
      />
    <check loc="65 45" size="45 20"
      style="PlainText"
      label="min"
      vq="minti ti"
      vc="minti='y' go('check')"
      vc2="minti='n' go('check')"
      set="$VALUE=(minti='y')"
      show="if (ir = 'y') then $VALUE = 1 else $VALUE = -1 endif"
      />
    <label loc="5 45" size="30 20"
      style="PlainText"
      label="TI"
      justify="Left"
      />
  </group>
</template>
