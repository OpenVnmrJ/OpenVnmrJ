<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!--
 ! 
 ! Copyright (C) 2015  University of Oregon
 ! You may distribute under the terms of either the GNU General Public
 ! License or the Apache License, as specified in the LICENSE file.
 ! For more information, see the LICENSE file.
 !
 -->

<template name="protocolcmd" element="pages" type="sample" >
  <group size="520 310"
    style="PlainText"
    label="Protocol"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="yes"
    reference="protocolcmd"
    useref="no"
    subtype="Basic"
    expanded="yes"
    >
    <group loc="30 250" size="350 40"
      label="Protocol"
      vq="pslabel apptype protoFile actionid"
      show="xm1('protocolexists'):$SH $SHOW=(($SH) and (actionid='null'))"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="protocol3"
      useref="no"
      subtype="Basic"
      expanded="yes"
      >
      <button loc="30 0" size="180 30"
        style="Heading2"
        label="Update protocol"
        vq="protoFile"
        vc="sqprotocol(protoFile[3],-1) vnmrjcmd('util','updateexpsel', protoFile[3], protoFile[8], protoFile[9], protoFile[10], protoFile[11])"
        show="$SHOW=(protoFile[3]&lt;&gt;'')*2-1"
        decor1="yes"
        />
    </group>
    <group loc="30 250" size="340 40"
      label="Protocol"
      vq="pslabel apptype protoFile actionid"
      show="xm1('protocolexists'):$SH $SHOW=((1-$SH) and (actionid='null'))"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="protocol3"
      useref="no"
      subtype="Basic"
      expanded="yes"
      >
      <button loc="30 0" size="180 30"
        style="Heading2"
        label="Make protocol"
        vq="protoFile"
        vc="sqprotocol(protoFile[3],-1) vnmrjcmd('util','updateexpsel', protoFile[3], protoFile[8], protoFile[9], protoFile[10], protoFile[11])"
        show="$SHOW=(protoFile[3]&lt;&gt;'')*2-1"
        bg="transparent"
        decor1="yes"
        />
    </group>
    <button loc="290 250" size="180 30"
      style="Heading2"
      label="Execute command"
      vc="vnmrjcmd('Modeless') xmcmdedit('exec')"
      bg="transparent"
      decor1="yes"
      />
    <group loc="30 130" size="470 120"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      reference="ExpSelGroup"
      useref="no"
      subtype="Convenience"
      expanded="yes"
      >
      <entry loc="150 0" size="300 20"
        style="Heading2"
        vq="protoFile"
        vc="protoFile[8]='$VALUE'"
        set="$VALUE=protoFile[8]"
        />
      <label loc="10 0" size="140 20"
        style="Heading2"
        label="Label:"
        justify="Left"
        />
      <label loc="10 30" size="140 20"
        style="Heading2"
        label="Tab Name:"
        justify="Left"
        />
      <filemenu loc="150 90" size="300 20"
        style="Heading2"
        vq="protoFile"
        vc="protoFile[11]='$VALUE'"
        set="$VALUE=protoFile[11]"
        file="$VALUE=userdir+'/menulib/menu2List'"
        type="file"
        editable="Yes"
        statshow="yes"
        elastic="no"
        display="yes"
        />
      <label loc="10 90" size="140 20"
        style="Heading2"
        label="Menu Level 2:"
        justify="Left"
        />
      <filemenu loc="150 60" size="300 20"
        style="Heading2"
        vq="protoFile"
        vc="protoFile[10]='$VALUE'"
        set="$VALUE=protoFile[10]"
        file="$VALUE=userdir+'/menulib/menu1List'"
        type="file"
        editable="Yes"
        statshow="yes"
        elastic="no"
        display="yes"
        />
      <label loc="10 60" size="140 20"
        style="Heading2"
        label="Menu Level 1:"
        justify="Left"
        />
      <filemenu loc="150 30" size="300 20"
        style="Heading2"
        vq="protoFile"
        vc="protoFile[9]='$VALUE'"
        set="$VALUE=protoFile[9]"
        file="$VALUE=userdir+'/menulib/tabList'"
        type="file"
        editable="Yes"
        statshow="yes"
        elastic="no"
        display="yes"
        />
    </group>
    <group loc="30 40" size="460 90"
      label="Protocol"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="protocolcmd"
      useref="no"
      subtype="Basic"
      expanded="yes"
      >
      <label loc="10 10" size="130 20"
        style="Heading2"
        label="Protocol Name:"
        justify="Left"
        />
      <label loc="10 35" size="140 20"
        style="Heading2"
        label="Command:"
        justify="Left"
        />
      <label loc="10 60" size="140 20"
        style="Heading2"
        label="Time [sec]:"
        justify="Left"
        />
      <entry loc="150 60" size="300 20"
        style="Heading2"
        vq="protoFile pslabel"
        vc="vnmrjcmd('Modeless') protoFile[5]='$VALUE' sqprotocol(2,$VALUE,0,3):protoFile[5]"
        set="$VALUE=protoFile[5]"
        disable="Grayed out"
        />
      <entry loc="150 35" size="300 20"
        style="Heading2"
        vq="protoFile pslabel"
        vc="vnmrjcmd('Modeless') protoFile[4]='$VALUE'"
        set="$VALUE=protoFile[4]"
        disable="Grayed out"
        />
      <entry loc="150 10" size="300 20"
        style="Heading2"
        vq="protoFile pslabel"
        vc="vnmrjcmd('Modeless') protoFile[3]='$VALUE' sqprotocol(1,0,0,3) vnmrjcmd('pnew','pslabel')"
        set="$VALUE=protoFile[3]"
        disable="Grayed out"
        />
    </group>
  </group>
</template>
