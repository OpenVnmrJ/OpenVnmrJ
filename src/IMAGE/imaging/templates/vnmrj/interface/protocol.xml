<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!--
 !
 ! Copyright (C) 2015  University of Oregon
 ! You may distribute under the terms of either the GNU General Public
 ! License or the Apache License, as specified in the LICENSE file.
 ! For more information, see the LICENSE file.
 !
 -->
<template name="protocol2" element="groups" type="imaging" >
  <group size="480 300"
    label="Protocol"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="no"
    enable="no"
    reference="protocol2"
    useref="no"
    subtype="Basic"
    expanded="yes"
    >
    <group loc="10 230" size="450 40"
      label="Protocol"
      vq="pslabel protoFile"
      show="xm1('protocolexists'):$SHOW"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="protocol3"
      useref="no"
      subtype="Basic"
      expanded="yes"
      >
      <button loc="140 0" size="180 30"
        style="Heading2"
        label="Update protocol"
        vq="pslabel protoFile"
        vc="sqprotocol(pslabel)  vnmrjcmd('util','updateexpsel', protoFile[3], protoFile[8], protoFile[9], protoFile[10], protoFile[11])"
        show="$SHOW=(pslabel&lt;&gt;'')*2-1"
        bg="transparent"
        decor1="yes"
        />
    </group>
    <group loc="20 230" size="400 40"
      label="Protocol"
      vq="pslabel protoFile"
      show="xm1('protocolexists'):$s $SHOW=1-$s"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="protocol3"
      useref="no"
      subtype="Basic"
      expanded="yes"
      >
      <button loc="130 0" size="180 30"
        style="Heading2"
        label="Make protocol"
        vq="pslabel, protoFile]"
        vc="sqprotocol(pslabel)  vnmrjcmd('util','updateexpsel', protoFile[3], protoFile[8], protoFile[9], protoFile[10], protoFile[11])"
        show="$SHOW=(pslabel&lt;&gt;'')*2-1"
        bg="transparent"
        decor1="yes"
        />
    </group>
    <label loc="20 270" size="400 20"
      style="Heading3"
      label="Make a protocol from all of the scans in the queue."
      justify="Left"
      />
    <group loc="10 100" size="470 120"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      reference="ExpSelGroup"
      useref="no"
      subtype="Convenience"
      expanded="yes"
      >
      <entry loc="150 0" size="300 20"
        style="Heading2"
        vq="protoFile"
        vc="protoFile[8]='$VALUE'"
        set="$VALUE=protoFile[8]"
        />
      <label loc="10 0" size="140 20"
        style="Heading2"
        label="Button Label:"
        justify="Left"
        />
      <label loc="10 30" size="140 20"
        style="Heading2"
        label="Tab Name:"
        justify="Left"
        />
      <filemenu loc="150 90" size="300 20"
        style="Heading2"
        vq="protoFile"
        vc="protoFile[11]='$VALUE'"
        set="$VALUE=protoFile[11]"
        file="$VALUE=userdir+'/menulib/menu2List'"
        type="file"
        editable="Yes"
        statshow="yes"
        elastic="no"
        display="yes"
        />
      <label loc="10 90" size="140 20"
        style="Heading2"
        label="Menu Level 2:"
        justify="Left"
        />
      <filemenu loc="150 60" size="300 20"
        style="Heading2"
        vq="protoFile"
        vc="protoFile[10]='$VALUE'"
        set="$VALUE=protoFile[10]"
        file="$VALUE=userdir+'/menulib/menu1List'"
        type="file"
        editable="Yes"
        statshow="yes"
        elastic="no"
        display="yes"
        />
      <label loc="10 60" size="140 20"
        style="Heading2"
        label="Menu Level 1:"
        justify="Left"
        />
      <filemenu loc="150 30" size="300 20"
        style="Heading2"
        vq="protoFile"
        vc="protoFile[9]='$VALUE'"
        set="$VALUE=protoFile[9]"
        file="$VALUE=userdir+'/menulib/tabList'"
        type="file"
        editable="Yes"
        statshow="yes"
        elastic="no"
        display="yes"
        />
    </group>
    <group loc="0 0" size="480 100"
      style="PlainText"
      label="Utilities"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="yes"
      enable="no"
      reference="aipUtil"
      useref="no"
      subtype="Basic"
      expanded="yes"
      >
    </group>
    <filemenu loc="160 40" size="300 20"
      style="Heading2"
      vq="RFCOIL rfcoil pslabel anatomy "
      vc="$rf='$VALUE' RFCOIL=$rf rfcoil=$rf"
      set="$VALUE=RFCOIL"
      file="$VALUE=userdir+'/persistence/rfcoil_list'"
      type="file"
      editable="No"
      vq2="pslabel anatomy rfcoil RFCOIL"
      statshow="yes"
      elastic="no"
      display="yes"
      />
    <label loc="20 70" size="140 20"
      style="Heading2"
      label="Part of Anatomy:"
      justify="Left"
      />
    <label loc="22 10" size="130 20"
      style="Heading2"
      label="Protocol Title:"
      justify="Left"
      />
    <label loc="22 40" size="140 20"
      style="Heading2"
      label="RF Coil:"
      justify="Left"
      />
    <entry loc="162 70" size="300 20"
      style="Heading2"
      vq="anatomy"
      vc="anatomy='$VALUE'"
      set="$VALUE=anatomy"
      disable="Grayed out"
      />
    <entry loc="162 10" size="300 20"
      style="Heading2"
      vq="pslabel protoFile"
      vc="pslabel='$VALUE' protoFile[3]=pslabel"
      set="$VALUE=pslabel"
      disable="Grayed out"
      />
  </group>
</template>
