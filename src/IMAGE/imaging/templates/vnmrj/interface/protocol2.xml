<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="protocol2" element="pages" type="acquisition" >
  <group size="480 400"
    label="Protocol"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="protocol2"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <label loc="50 365" size="400 20"
      style="Heading3"
      label="Make a protocol from the current set of parameters."
      justify="Left"
      />
    <group loc="20 320" size="450 40"
      label="Protocol"
      vq="pslabel protoFile"
      show="xm1('protocolexists'):$SHOW"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="protocol3"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      >
      <button loc="140 5" size="180 30"
        style="Heading2"
        label="Update Protocol"
        vq="pslabel protoFile"
        vc="sqprotocol(pslabel, 0)  vnmrjcmd('util','updateexpsel', protoFile[3], protoFile[8], protoFile[9], protoFile[10], protoFile[11])"
        bg="transparent"
        decor1="yes"
        />
    </group>
    <group loc="20 320" size="400 40"
      label="Protocol"
      vq="pslabel protoFile"
      show="xm1('protocolexists'):$s $SHOW=1-$s"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="protocol3"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      >
      <button loc="140 5" size="180 30"
        style="Heading2"
        label="Make Protocol"
        vq="pslabel, protoFile"
        vc="sqprotocol(pslabel, 0)  vnmrjcmd('util','updateexpsel', protoFile[3], protoFile[8], protoFile[9], protoFile[10], protoFile[11])"
        bg="transparent"
        decor1="yes"
        />
    </group>
    <group loc="10 5" size="465 165"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="protocol3"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      >
      <filemenu loc="150 80" size="300 20"
        style="PlainText"
        vq="RFCOIL rfcoil pslabel anatomy "
        vc="$rf='$VALUE' RFCOIL=$rf rfcoil=$rf"
        set="$VALUE=RFCOIL"
        file="$VALUE=userdir+'/persistence/rfcoil_list'"
        type="file"
        bg="VJBackground"
        editable="No"
        vq2="pslabel anatomy rfcoil RFCOIL"
        statshow="yes"
        elastic="no"
        display="yes"
        />
      <label loc="10 80" size="140 20"
        style="Heading1"
        label="RF Coil"
        justify="Left"
        />
      <entry loc="150 30" size="300 20"
        style="PlainText"
        vq="species"
        vc="species='$VALUE'"
        set="$VALUE=species"
        disable="Grayed out"
        />
      <entry loc="150 55" size="300 20"
        style="PlainText"
        vq="anatomy"
        vc="anatomy='$VALUE'"
        set="$VALUE=anatomy"
        disable="Grayed out"
        />
      <label loc="10 30" size="140 20"
        style="Heading1"
        label="Species"
        justify="Left"
        />
      <label loc="10 55" size="140 20"
        style="Heading1"
        label="Anatomy"
        justify="Left"
        />
      <label loc="10 5" size="130 20"
        style="Heading1"
        label="Protocol Title"
        justify="Left"
        />
      <label loc="10 130" size="140 20"
        style="Heading1"
        label="Field Strength"
        justify="Left"
        />
      <menu loc="150 130" size="300 20"
        style="PlainText"
        vq="protoFile"
        vc="protoFile[6]='$VALUE'"
        set="$VALUE=protoFile[6]"
        bg="VJBackground"
        editable="No"
        >
        <mlabel 
          label="3T"
          chval="3.0"
          />
        <mlabel 
          label="7T"
          chval="7.0"
          />
        <mlabel 
          label="9.4T"
          chval="9.4"
          />
        <mlabel 
          label="11.7T"
          chval="11.7"
          />
      </menu>
      <label loc="10 105" size="140 20"
        style="Heading1"
        label="Gradient Coil"
        justify="Left"
        />
      <entry loc="150 105" size="300 20"
        style="PlainText"
        vq="protoFile"
        vc="protoFile[7]='$VALUE'"
        set="$VALUE=protoFile[7]"
        disable="Grayed out"
        />
      <entry loc="150 5" size="300 20"
        style="PlainText"
        vq="pslabel protoFile"
        vc="pslabel='$VALUE' protoFile[3]=pslabel"
        set="$VALUE=pslabel"
        disable="Grayed out"
        />
    </group>
    <group loc="10 175" size="465 150"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      reference="ExpSelGroup"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      >
      <filemenu loc="150 75" size="300 20"
        style="PlainText"
        vq="protoFile"
        vc="protoFile[11]='$VALUE'"
        set="$VALUE=protoFile[11]"
        file="$VALUE=userdir+'/menulib/menu2List'"
        type="file"
        bg="VJBackground"
        editable="Yes"
        statshow="yes"
        elastic="no"
        display="yes"
        />
      <filemenu loc="150 50" size="300 20"
        style="PlainText"
        vq="protoFile"
        vc="protoFile[10]='$VALUE'"
        set="$VALUE=protoFile[10]"
        file="$VALUE=userdir+'/menulib/menu1List'"
        type="file"
        bg="VJBackground"
        editable="Yes"
        statshow="yes"
        elastic="no"
        display="yes"
        />
      <check loc="10 100" size="450 20"
        style="PlainText"
        label="Use saved FOV planning parameters for this protocol"
        vq="prescribed"
        vc="prescribed='y'"
        vc2="prescribed='n'"
        set="$VALUE=(prescribed='y')"
        />
      <check loc="10 120" size="450 20"
        style="PlainText"
        label="Create Entry in Experiment Selector"
        vq="n3"
        vc="n3='false'"
        vc2="n3='true'"
        set="$VALUE=(n3='false')"
        />
      <filemenu loc="150 25" size="300 20"
        style="PlainText"
        vq="protoFile"
        vc="protoFile[9]='$VALUE'"
        set="$VALUE=protoFile[9]"
        file="$VALUE=userdir+'/menulib/tabList'"
        type="file"
        bg="VJBackground"
        editable="Yes"
        statshow="yes"
        elastic="no"
        display="yes"
        />
      <label loc="10 75" size="140 20"
        style="Heading1"
        label="Menu Level 2"
        justify="Left"
        />
      <label loc="10 50" size="140 20"
        style="Heading1"
        label="Menu Level 1"
        justify="Left"
        />
      <label loc="10 25" size="140 20"
        style="Heading1"
        label="Tab Name"
        justify="Left"
        />
      <entry loc="150 0" size="300 20"
        style="PlainText"
        vq="protoFile"
        vc="protoFile[8]='$VALUE'"
        set="$VALUE=protoFile[8]"
        />
      <label loc="10 0" size="140 20"
        style="Heading1"
        label="Button Label"
        justify="Left"
        />
    </group>
  </group>
</template>
