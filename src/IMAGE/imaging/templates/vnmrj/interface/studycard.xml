<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<template name="studycard" element="pages" type="acquisition" >
  <group size="480 400"
    label="Studycard"
    bg="transparent"
    border="None"
    side="Top"
    justify="Left"
    tab="yes"
    enable="no"
    reference="studycard"
    useref="no"
    subtype="Untitled"
    expanded="yes"
    >
    <label loc="20 135" size="140 20"
      style="Heading1"
      label="Field Strength"
      justify="Left"
      />
    <menu loc="160 135" size="300 20"
      style="PlainText"
      vq="studyFile"
      vc="studyFile[6]='$VALUE'"
      set="$VALUE=studyFile[6]"
      bg="VJBackground"
      editable="No"
      >
      <mlabel 
        label="3T"
        chval="3.0"
        />
      <mlabel 
        label="7T"
        chval="7.0"
        />
      <mlabel 
        label="9.4T"
        chval="9.4"
        />
      <mlabel 
        label="11.7T"
        chval="11.7"
        />
    </menu>
    <entry loc="160 110" size="300 20"
      style="PlainText"
      vq="studyFile"
      vc="studyFile[7]='$VALUE'"
      set="$VALUE=studyFile[7]"
      disable="Grayed out"
      />
    <label loc="20 110" size="140 20"
      style="Heading1"
      label="Gradient Coil"
      justify="Left"
      />
    <filemenu loc="160 85" size="300 20"
      style="PlainText"
      vq="RFCOIL rfcoil pslabel anatomy "
      vc="$rf='$VALUE' RFCOIL=$rf rfcoil=$rf"
      set="$VALUE=RFCOIL"
      file="$VALUE=userdir+'/persistence/rfcoil_list'"
      type="file"
      bg="VJBackground"
      editable="No"
      vq2="pslabel anatomy rfcoil RFCOIL"
      statshow="yes"
      elastic="no"
      display="yes"
      />
    <label loc="20 85" size="140 20"
      style="Heading1"
      label="RF Coil"
      justify="Left"
      />
    <entry loc="160 60" size="300 20"
      style="PlainText"
      vq="anatomy"
      vc="anatomy='$VALUE'"
      set="$VALUE=anatomy"
      disable="Grayed out"
      />
    <label loc="20 60" size="140 20"
      style="Heading1"
      label="Anatomy"
      justify="Left"
      />
    <entry loc="160 35" size="300 20"
      style="PlainText"
      vq="species"
      vc="species='$VALUE'"
      set="$VALUE=species"
      disable="Grayed out"
      />
    <label loc="20 35" size="140 20"
      style="Heading1"
      label="Species"
      justify="Left"
      />
    <check loc="20 280" size="450 20"
      style="PlainText"
      label="Create Entry in Experiment Selector"
      vq="studyFile[12]"
      vc="studyFile[12]='false'"
      vc2="studyFile[12]='true'"
      set="$VALUE=(studyFile[12]='false')"
      />
    <group loc="10 175" size="470 100"
      bg="transparent"
      border="None"
      tab="no"
      enable="no"
      reference="ExpSelGroup"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      >
      <filemenu loc="150 75" size="300 20"
        style="PlainText"
        vq="studyFile"
        vc="studyFile[11]='$VALUE'"
        set="$VALUE=studyFile[11]"
        file="$VALUE=userdir+'/menulib/menu2List'"
        type="file"
        bg="VJBackground"
        editable="Yes"
        statshow="yes"
        elastic="no"
        display="yes"
        />
      <filemenu loc="150 50" size="300 20"
        style="PlainText"
        vq="studyFile"
        vc="studyFile[10]='$VALUE'"
        set="$VALUE=studyFile[10]"
        file="$VALUE=userdir+'/menulib/menu1List'"
        type="file"
        bg="VJBackground"
        editable="Yes"
        statshow="yes"
        elastic="no"
        display="yes"
        />
      <filemenu loc="150 25" size="300 20"
        style="PlainText"
        vq="studyFile"
        vc="studyFile[9]='$VALUE'"
        set="$VALUE=studyFile[9]"
        file="$VALUE=userdir+'/menulib/tabList'"
        type="file"
        bg="VJBackground"
        editable="Yes"
        statshow="yes"
        elastic="no"
        display="yes"
        />
      <label loc="10 75" size="140 20"
        style="Heading1"
        label="Menu Level 2"
        justify="Left"
        />
      <label loc="10 50" size="140 20"
        style="Heading1"
        label="Menu Level 1"
        justify="Left"
        />
      <label loc="10 25" size="140 20"
        style="Heading1"
        label="Tab Name"
        justify="Left"
        />
      <entry loc="150 0" size="300 20"
        style="PlainText"
        vq="studyFile"
        vc="studyFile[8]='$VALUE'"
        set="$VALUE=studyFile[8]"
        />
      <label loc="10 0" size="140 20"
        style="Heading1"
        label="Button Label"
        justify="Left"
        />
    </group>
    <group loc="10 320" size="450 80"
      label="Protocol"
      vq="pslabel studyFile[3]"
      show="xm1('studycardexists'):$SHOW"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="protocol3"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      >
      <button loc="60 0" size="340 30"
        style="Heading2"
        label="Update study card from all scans in the queue"
        vq="pslabel studyFile"
        vc="studyNodes='all' sqstudycard(studyFile[3])"
        bg="transparent"
        decor1="yes"
        />
      <button loc="60 40" size="340 30"
        style="Heading2"
        label="Update study card from selected scans in the queue"
        vq="pslabel studyFile"
        vc="vnmrjcmd('SQ get selected studyNodes sqstudycard(studyFile[3])')"
        bg="transparent"
        decor1="yes"
        />
    </group>
    <group loc="10 320" size="450 80"
      label="Protocol"
      vq="pslabel studyFile[3]"
      show="xm1('studycardexists'):$s $SHOW=1-$s"
      bg="transparent"
      border="None"
      side="Top"
      justify="Left"
      tab="no"
      enable="no"
      reference="protocol3"
      useref="no"
      subtype="Untitled"
      expanded="yes"
      >
      <button loc="60 0" size="340 30"
        style="Heading2"
        label="Make study card from all scans in the queue"
        vq="pslabel, studyFile"
        vc="studyNodes='all' sqstudycard(studyFile[3])"
        bg="transparent"
        decor1="yes"
        />
      <button loc="60 40" size="340 30"
        style="Heading2"
        label="Make study card from selected scans in the queue"
        vq="pslabel, studyFile"
        vc="vnmrjcmd('SQ get selected studyNodes sqstudycard(studyFile[3])')"
        bg="transparent"
        decor1="yes"
        />
    </group>
    <label loc="20 10" size="130 20"
      style="Heading1"
      label="Study Card Title"
      justify="Left"
      />
    <entry loc="160 10" size="300 20"
      style="PlainText"
      vq="pslabel studyFile"
      vc="studyFile[3]='$VALUE' vnmrjcmd('pnew','pslabel')"
      set="$VALUE=studyFile[3]"
      disable="Grayed out"
      />
  </group>
</template>
